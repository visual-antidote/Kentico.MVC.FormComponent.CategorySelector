!function(){"use strict";var e,t={5018:function(e,t,i){var o;i.d(t,{p:function(){return o}}),function(e){e.Section="SECTION",e.Widget="WIDGET"}(o||(o={}))},6562:function(e,t,i){var o=i(7945),n=i(9511),a=i(22),r=i(9148),s=i(8076);(0,o.$)((({popup:e},{sectionIdentifier:t})=>({isSectionListOpen:e.componentIdentifier===t&&e.popupType===r.kQ.AddSection})),(()=>({closePopup:n.j4,openPopup:(e,t,i)=>(0,a.Mw)(e,r.kQ.AddSection,t,i),setPopupPosition:n.FO})))(s.Z)},2817:function(e,t,i){i.r(t),i.d(t,{LinkType:function(){return o.U}});var o=i(9825)},9887:function(e,t,i){i.d(t,{Gq:function(){return n},iV:function(){return a},r1:function(){return r},vo:function(){return s}});var o=i(3583);const n=(e,t)=>{const i=Object.values(t);return null===e?i:e.length?i.filter((t=>c(e,t.typeIdentifier))):[]},a=(e,t)=>null===e||!!e.length&&c(e,t),r=(e,t)=>e&&o.T.contains(e,t),s=(e,t)=>null===e||null===t?null!=e?e:t:null==e?void 0:e.filter((e=>c(t,e))),c=(e,t)=>e.some((e=>o.kA.equalsIgnoreCase(e,t)))},8047:function(e,t,i){i.d(t,{iV:function(){return s},vs:function(){return r},wU:function(){return a}});const o=Object.prototype.hasOwnProperty,n=(e,t)=>e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t,a=(e,t)=>{if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(let a=0;a<i.length;a++)if(!o.call(t,i[a])||!n(e[i[a]],t[i[a]]))return!1;return!0},r=e=>Array.isArray(e)?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{type:null}})),{}):e,s=e=>Object.keys(e).reduce(((t,i)=>t.concat(e[i])),[])},3583:function(e,t,i){i.d(t,{Rv:function(){return d},T:function(){return c},iq:function(){return g},kA:function(){return s},qw:function(){return u},rq:function(){return r}});var o=i(9123),n=i(9148),a=i(9868);const r={isEmpty(e){return e.constructor===Object&&0===Object.keys(e).length},assignDefined(e,...t){for(const i of t)for(const t of Object.keys(i)){const o=i[t];void 0!==o&&(e[t]=o)}return e}},s={format(e,...t){let i=e;return t.forEach(((e,t)=>{i=i.replace(new RegExp("\\{"+t+"\\}","g"),e)})),i},equalsIgnoreCase(e,t){return 0===e.localeCompare(t,void 0,{sensitivity:"base"})}},c={insertItemIntoArray(e,t,i){return i>e.length||i<0?e:[...e.slice(0,i),t,...e.slice(i)]},replaceItem:(e,t,i)=>!e.length||i>e.length||i<0?e:[...e.slice(0,i),t,...e.slice(i+1)],removeItem:(e,t)=>t>e.length||t<0?e:[...e.slice(0,t),...e.slice(t+1)],moveItemBetweenArrays:(e,t,i,o=null)=>{const n=null===o?e.length-1:o.length;if(i<0||i>n)throw new RangeError("The [position] argument is invalid.");if(!c.contains(e,t))throw new Error("The [item] was not found in [sourceArray].");const a=e.filter((e=>e!==t));return null===o?{sourceArray:c.insertItemIntoArray(a,t,i),destinationArray:null}:{sourceArray:a,destinationArray:c.insertItemIntoArray(o,t,i)}},getUniqueValues:(e,t=(e=>e))=>[...new Set(e.map(t))],contains:(e,t)=>e.indexOf(t)>=0,move:(e,t,i)=>(e.splice(i,0,e.splice(t,1)[0]),e),swap:(e,t,i)=>{const[o,n]=t>i?[i,t]:[t,i];return[...e.slice(0,o),e[n],...e.slice(o+1,n),e[o],...e.slice(n+1)]},toRecord:(e,t)=>e.reduce(((e,i)=>(e[i[t]]=i,e)),{})},l=(e,t)=>{const i=new CustomEvent(e,{detail:t});document.dispatchEvent(i)},p=e=>{let t=[],i=e.target;if(e.path)t=e.path;else for(;i;)t.push(i),i=i.parentElement;return t.filter((e=>e instanceof Node))},d={removeSectionFromDragAndDrop:e=>{l(o.sh,{sectionIdentifier:e})},mountSectionToDragAndDropAfterNextTick:(e,t)=>{e.$nextTick((()=>{d.mountSectionToDragAndDrop(t)}))},mountSectionToDragAndDrop:e=>{l(o.eD,{sectionIdentifier:e})}},g={disableDocumentLinks:()=>{const e=document.getElementsByTagName("a"),t=e.length;for(let i=0;i<t;i++)e[i].onclick=()=>!1},disableElementLinks:e=>{const t=e.getElementsByTagName("a"),i=t.length;let o;for(let e=0;e<i;e++)o=t[e],o.closest("div[data-inline-editor]")||(o.onclick=()=>!1)}},u={getTheme:e=>{switch(e){case n.kQ.AddWidget:case n.kQ.Personalization:return a.Q2.Widget;case n.kQ.AddSection:case n.kQ.ChangeSection:return a.Q2.Section}},isFriendlyElementSelected:(e,t)=>p(e).some((e=>t.some((t=>{const i=document.querySelector(t);return i&&(i===e||i.contains(e))})))),doesElementOrAncestor(e,t,i){let o=e;for(;o;){if(i(o))return!0;if(t&&t===o)break;o=o.parentElement}return!1}}},1698:function(e,t,i){i.d(t,{u:function(){return s}});var o=i(6988),n=i(9887),a=i(9148),r=i(9868);const s=(e,t,i,s)=>{var c;if(![a.kQ.AddWidget,a.kQ.AddSection].includes(e))return[];const l=(0,o.ko)(r.rv.PopUpElementsService),p=e===a.kQ.AddWidget,d=p?t.widgets:t.sections,g=p?(0,n.vo)(i.widgetRestrictions,null!==(c=null==s?void 0:s.widgetRestrictions)&&void 0!==c?c:null):i.sectionRestrictions,u=(0,n.Gq)(g,d);return p?l.getWidgetElements(u):l.getSectionElements(u)}},932:function(e,t,i){i.d(t,{b:function(){return n},o:function(){return s}});var o=i(9148);const n=(e,t,i=!1)=>{const n=r(e),s=i?a(t):t/2;return n.left<s?o.Mi.Right:n.right<s?o.Mi.Left:o.Mi.Center},a=e=>{const t=document.body.querySelector("kentico-pop-up-container");return t&&t.offsetWidth?t.offsetWidth/2:e},r=e=>({left:e.left,right:window.innerWidth-e.right}),s=e=>({left:e.left+e.width/2+pageXOffset,top:e.top+e.height+10+pageYOffset})},3342:function(e,t,i){i.d(t,{Q:function(){return d},a:function(){return g}});var o=i(4122),n=i.n(o),a=i(3439),r=i(9167),s=i(1201),c=i(262),l=i(6550);let p=!1;const d=(e,t,i,o,r,p)=>(0,a.U)((()=>{if(!e)return;o&&(0,l.y)(),f(e);const a=o?u(e):{},d=(0,s.v)(i,t,a),g=(0,c.J)(d,t,a,r);p&&p(g),new(n())(e,g)})),g=({editor:e})=>{const t=e.querySelector(r.nF);if(t){t["data-froala.editor"].destroy()}},u=e=>{const t=e.dataset.richTextEditorConfiguration,{richTextEditor:i}=window.kentico.pageBuilder,o=i&&i.configurations&&i.configurations[t];return"object"==typeof o?o:{}},f=e=>{if(p)return;const{enableImageRecognition:t,getLinkMetadataEndpointUrl:i,richTextEditorLicense:n,contextMacros:a,getImageDescriptionEndpointUrl:r}=e.dataset,s="true"===t.toLowerCase();Object.assign(o.DEFAULTS,{getLinkMetadataEndpointUrl:i,licenseKey:n,getImageDescriptionEndpointUrl:r,isImageRecognitionEnabled:s},a?{contextMacros:JSON.parse(a)}:{}),p=!0}},5445:function(e,t,i){i.d(t,{M:function(){return g},P:function(){return u}});var o=i(4122),n=i.n(o),a=i(259),r=i(9167),s=i(3342),c=i(8858);const l=e=>({toolbarInline:!0,charCounterCount:!1,events:{contentChanged(){p(e.editor,e.propertyName,this.html.get())},"commands.after"(e){if("html"===e&&this.codeView.isActive()){const e=this.$oel[0];(null==e?void 0:e.querySelector(".fr-btn.html-switch")).textContent=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applybutton"]}}}}),p=(e,t,i)=>{const o=new CustomEvent("updateProperty",{detail:{name:t,value:(0,c.NU)(i),refreshMarkup:!1}});e.dispatchEvent(o)};var d=i(6550);const g=()=>{n().MAIL_REGEX=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;const e=o.DEFAULTS.videoInsertButtons||[];delete e[e.indexOf("videoUpload")],(0,d.b)()},u=e=>{(0,a.Fx)("Kentico.InlineEditor.RichText",{init(t){const i=t.editor.querySelector(r.nF);(0,s.Q)(i,l(t),t.propertyValue,!0,e)},destroy(e){(0,s.a)(e)}})}},8858:function(e,t,i){i.d(t,{NU:function(){return f},eF:function(){return y},h4:function(){return m},ht:function(){return M}});var o=i(7187),n=i.n(o),a=i(7955),r=i.n(a),s=i(6166),c=i(2920),l=i(3436);const p=/<input [^>]*data-macro-type="(query|pattern)[^>]*>/g,d=/data-macro-value="([^"]*)"/,g=/data-macro-default-value="([^"]*)"/,u=/{%\s*ResolveDynamicText\(\s*"(query|pattern)"\s*,\s*"([^"]+)"\s*,\s*"(.*?)"\s*\)\s*%}/g,f=e=>e.replace(p,((e,t)=>`{% ResolveDynamicText("${t}", "${e.match(d)[1]||""}", "${r()(e.match(g)[1]).replace(/"/g,'\\"')}") %}`)),y=(e,t)=>e.replace(u,((e,i,o,a)=>(0,l.VK)(i,o,n()(a.replace(/\\"/g,'"')),(0,c.t)(t,o)))),m=e=>e.replace(u,""),M=e=>{e.el.querySelectorAll(`.${s.rW}`).forEach((t=>{t.onclick=()=>e.kenticoMacroPlugin.showActionsPopup(t),t.onmousedown=e=>{2===e.button&&e.stopPropagation()}}))}},259:function(e,t,i){i.d(t,{Fx:function(){return s},it:function(){return g},rk:function(){return l},sB:function(){return p},tT:function(){return d}});var o=i(6988),n=i(4447),a=i(9868);const r={},s=(e,t)=>{try{c(e,t)}catch(e){return void n.k.logError(e.message)}r[e]=t},c=(e,t)=>{const i=(0,o.ko)(a.rv.LocalizationService);if("string"!=typeof e){const e=i.getLocalization("inlineeditors.initinvalidname");throw new Error(e)}if("object"!=typeof t){const t=i.getLocalization("inlineeditors.wrongtype",e);throw new Error(t)}if(!t.hasOwnProperty("init")){const t=i.getLocalization("inlineeditors.initmissing",e);throw new Error(t)}if("function"!=typeof t.init){const t=i.getLocalization("inlineeditors.initwrongtype",e);throw new Error(t)}if(r[e]){const t=i.getLocalization("inlineeditors.duplicateregistration",e);throw new Error(t)}},l=(e,t)=>{const i=e.querySelectorAll("[data-inline-editor]"),s=(0,o.ko)(a.rv.LocalizationService),c={cultureCode:s.getCultureCode(),getString:s.getLocalizationWithoutPrefix};for(const e of i){const i=e.dataset.inlineEditor,o=r[i];if(!o){const e=s.getLocalization("inlineeditors.notregistered",i);n.k.logError(e);continue}const a=e.dataset.propertyName;if(a&&a.length)try{o.init({editor:e,propertyName:a,localizationService:c,propertyValue:t[a]})}catch(e){n.k.logException(e)}else{const e=s.getLocalization("inlineeditors.missingpropertyname",i);n.k.logError(e)}}},p=e=>{u(e,"dragStart")},d=e=>{u(e,"drop")},g=e=>{u(e,"destroy")},u=(e,t)=>{const i=e.querySelectorAll("[data-inline-editor]");for(const e of i){const i=e.dataset.inlineEditor,o=r[i];if(o.hasOwnProperty(t)){const i=o[t],n={editor:e};i.call(i,n)}}}},209:function(e,t,i){i.d(t,{G3:function(){return g},Uh:function(){return f},YW:function(){return u},Yu:function(){return M},fh:function(){return O},gk:function(){return y},nf:function(){return m}});var o=i(3465),n=i.n(o),a=i(4313),r=i(3583),s=i(9868),c=i(3245),l=i(8262),p=i(8298);const d=[],g=(e,t=[],i=0)=>(o,n,{localizationService:a})=>{D(e);const{title:r,url:s,data:c,theme:g,width:u,maximized:f,showFooter:y,applyButtonText:m,cancelButtonText:M}=I(e,a);d.push({applyCallback:e.applyCallback,cancelCallback:e.cancelCallback||(()=>null)});o((0,new l.A(h).openModalDialog)({componentIdentifier:`CustomDialog${d.length}`,dialogType:p.E.Custom,dialogTitle:r,dialogMarkupUrl:s,dialogTabs:t,activeTabIndex:i,dialogMarkupModel:c,dialogTheme:g,dialogWidth:u,maximized:f,showFooter:y,applyButtonText:m,cancelButtonText:M}))},u=e=>(t,i)=>{const o=i().modalDialogs.dialogs.length-1;t(c.S9(o,e))},f=(e,t=m)=>async(i,o,{logger:n})=>{try{const n=await d[d.length-1].applyCallback(e);if(n&&!1===n.closeDialog)return;const a=o().modalDialogs.dialogs.length-1;i(t(a)),d.pop()}catch(e){n.logException(e)}},y=(e,t=m)=>async(i,o,{logger:n})=>{try{await d[d.length-1].cancelCallback(e)}catch(e){n.logException(e)}finally{const e=o().modalDialogs.dialogs.length-1;i(t(e)),d.pop()}},m=e=>(t,i,{messaging:o})=>{o.postMessage(s.u.CLOSE_MODAL_DIALOG,null,"*"),t(c.nf(e))},M=()=>(e,t)=>{const i=t().modalDialogs.dialogs;return i.length<=0||i[i.length-1].type!==p.E.Custom?null:n()(i[i.length-1].model)},D=e=>{if(!e.url||!e.applyCallback)throw new TypeError("Passed options do not have required properties.");if("function"!=typeof e.applyCallback)throw new TypeError("applyCallback is not an instance of a Function type.");if(e.cancelCallback&&"function"!=typeof e.cancelCallback)throw new TypeError("cancelCallback is not an instance of a Function type.");if("string"!=typeof e.url)throw new TypeError("url is not of the type string.");if(e.title&&"string"!=typeof e.title)throw new TypeError("title is not of the type string.");if(e.theme&&-1===Object.values(s.Q2).indexOf(e.theme))throw new TypeError("theme does not match any of the existing dialog themes.");if(void 0!==e.width&&("string"!=typeof e.width||!e.width.endsWith("px")&&!e.width.endsWith("%")))throw new TypeError("width must be represented by 'XXXpx' or 'XX%' string values.");if(void 0!==e.maximized&&"boolean"!=typeof e.maximized)throw new TypeError("maximized must be of type boolean.");if(void 0!==e.showFooter&&"boolean"!=typeof e.showFooter)throw new TypeError("showFooter must be of type boolean.")},I=(e,t)=>{const i={showFooter:!0,width:"66%",maximized:!1,applyButtonText:t.getLocalization("modaldialog.buttons.apply"),cancelButtonText:t.getLocalization("modaldialog.buttons.cancel")};return r.rq.assignDefined(i,e)},h=e=>({title:e.dialogTitle,markupUrl:e.dialogMarkupUrl,model:e.dialogMarkupModel,theme:e.dialogTheme}),O=(e,t,i)=>async(o,n,{logger:r})=>{try{const n=await(0,a.F)(t,i);o(c.wD(e,n))}catch(e){r.logException(e)}}},6724:function(e,t,i){i.d(t,{M:function(){return c}});var o=i(9123),n=i(1698),a=i(932),r=i(9148),s=i(9511);const c=(e,t,i,c=null,l=null,p=0)=>(d,g)=>{const u=(0,a.o)(i);let f=r.Mi.Center,y=!1,m=0;if([r.kQ.AddSection,r.kQ.AddWidget].includes(t)){const{metadata:s,editableAreasConfiguration:d,widgetZonesConfiguration:u,zones:M,editableAreas:D}=g();y=(0,n.u)(t,s,d[c],u[l]).length+p>5;const I=y?o.R7:o.TL;f=(0,a.b)(i,I),m=t===r.kQ.AddWidget?e!==l?M[l].widgets.indexOf(e):0:D[c].sections.indexOf(e)}d((0,s.Mw)(e,f,t,u,c,l,y,m))}},9686:function(e,t,i){i.d(t,{OB:function(){return f},g8:function(){return p},qD:function(){return y}});var o=i(8661),n=i.n(o),a=i(8721),r=i(6756),s=i(6084),c=i(5331),l=i(4795);const p=async(e,t,i)=>{const o=(0,l.Yn)(t.sections[e].zones,t.zones),n=d(o,t);0!==n.length&&await g(n,t,i)},d=(e,t)=>{const i=e=>t.markups.variants[e].isDirty,o=e.reduce(((e,o)=>{const n=t.widgets[o].type,a=t.widgets[o].variants.filter(i);return 0===a.length?e:void 0===e[n]?Object.assign(Object.assign({},e),{[n]:a}):Object.assign(Object.assign({},e),{[n]:[...e[n],...a]})}),{});return Object.entries(o)},g=async(e,t,i)=>{const o=u(e,t),a=await Promise.all(o),r=n()(e,(([e,t])=>t)).reduce(((e,t,i)=>(e[t]=a[i],e)),{});i((0,c.R)(r))},u=(e,t)=>n()(e,(([e,i])=>{const o=t.metadata.widgets[e].markupUrl;return i.map((e=>{const i=t.widgetVariants[e].properties;return r.hK(o,i)}))})),f=async(e,t,i=null,o=null)=>{const n=e.metadata.sections[t];!0===n.hasProperties&&null===o&&(o=await r._G(n.defaultPropertiesUrl));const c=await r.hK(n.markupUrl,o),l=(0,s.R_)(c),p={identifier:i||(0,a.Z)(),type:t,properties:o,zones:[]},d=(0,s.E8)(l.markup);d.forEach((e=>p.zones.push(e.identifier)));const{markup:g,restrictions:u}=(0,s.l5)(l.markup,p.zones);return{section:p,markup:{markup:g},widgetZones:d,widgetRestrictions:u}},y=(e,t,i,o)=>{const n={source:e.zones.reduce(((e,t)=>(e[t]=o.zones[t].name,e)),{}),target:i.reduce(((e,{identifier:t,name:i})=>(e[t]=i,e)),{})};return(0,l.Np)(m(e.zones,n.source),m(t.zones,n.target),o.zones)},m=(e,t)=>e.map((e=>({identifier:e,name:t[e]})))},3522:function(e,t,i){i.d(t,{Oi:function(){return p},Rw:function(){return d},Tv:function(){return g},qG:function(){return l}});var o=i(5030),n=i.n(o),a=i(4795),r=i(3583),s=i(9954),c=i(9686);const l=(e,t,i)=>async(o,n)=>{const{section:a,markup:r,widgetZones:l,widgetRestrictions:p}=await(0,c.OB)(n(),e);o(s.qG(a,t,i,r,l,p))},p=(e,t)=>async(i,o)=>{const l=o(),p=l.sections[e],d=(0,a.Yn)(p.zones,l.zones),g=Object.values(n()(l.widgets,d));if(1===l.editableAreas[t].sections.length){const{section:o,markup:n,widgetZones:a,widgetRestrictions:d}=await(0,c.OB)(l,l.editableAreasConfiguration[t].defaultSection,e);i(s.WG(p,o,n,r.T.toRecord(a,"identifier"),d,g))}else i(s.Oi(p,t,g))},d=(e,t,i,o)=>async(n,a)=>{const r=a();if(await(0,c.g8)(e,r,n),1===r.editableAreas[t].sections.length){const{section:e,markup:i,widgetZones:o,widgetRestrictions:a}=await(0,c.OB)(r,r.editableAreasConfiguration[t].defaultSection);n(s.qG(e,t,0,i,o,a))}n(s.Rw(e,t,i,o))},g=(e,t)=>async(i,o,n)=>{try{const n=o(),a=n.sections[e],{section:r,markup:l,widgetZones:p,widgetRestrictions:d}=await(0,c.OB)(n,a.type,e,t);await(0,c.g8)(e,n,i);const g=(0,c.qD)(a,r,p,n);i(s.WG(a,r,l,g,d))}catch(e){n.logger.logException(e)}}},22:function(e,t,i){i.d(t,{nf:function(){return l.nf},fh:function(){return l.fh},Mw:function(){return s.M},Ej:function(){return r},Tv:function(){return p.Tv},xN:function(){return c.xN}});var o=i(6756),n=i(7699),a=i(5331);const r=(e,t)=>async(i,r)=>{const{markups:s,widgets:c,metadata:l,widgetVariants:p,displayedWidgetVariants:d}=r(),g=d[e];if(s.variants[g].isDirty){const t=c[e].type,n=await o.hK(l.widgets[t].markupUrl,p[g].properties);i((0,a.R)({[g]:n}))}i((0,n.E)(t,e))};var s=i(6724),c=i(5836),l=i(209),p=i(3522)},9148:function(e,t,i){i.d(t,{Ey:function(){return a.E},Mi:function(){return o},kQ:function(){return n}});var o,n,a=i(8298);!function(e){e.Center="center",e.Left="left",e.Right="right"}(o||(o={})),function(e){e.AddWidget="addWidget",e.AddSection="addSection",e.ChangeSection="changeSection",e.Personalization="personalization"}(n||(n={}))},7581:function(e,t,i){i.d(t,{AK:function(){return l},Gn:function(){return n},JJ:function(){return s},W_:function(){return a},nl:function(){return r},oA:function(){return c}});var o=i(1757);const n=(0,o.createAction)("widgetSelection/SELECT",(e=>({widgetIdentifier:e})))(),a=(0,o.createAction)("widgetSelection/UNSELECT")(),r=(0,o.createAction)("widgetSelection/FREEZE")(),s=(0,o.createAction)("widgetSelection/THAW")(),c=(0,o.createAction)("widgetSelection/DISABLE_CLICK_AWAY")(),l=(0,o.createAction)("widgetSelection/ENABLE_CLICK_AWAY")()},4733:function(e,t,i){var o={};i.r(o);var n={};i.r(n);i(7273);var a=i(6988),r=i(3583),s=i(259),c=(i(8660),i(5717)),l=i(3395),p=i(2903),d=i(9868),g=i(5466),u=i(6631),f=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let m=class extends u.V{constructor(){super("kentico.pagebuilder")}};m=f([(0,g.b)(),y("design:paramtypes",[])],m);var M=i(3612);const D=new M.fK.Entity("widgetVariants",{},{idAttribute:"identifier"}),I=new M.fK.Entity("widgets",{variants:[D]},{idAttribute:"identifier"}),h=new M.fK.Entity("zones",{widgets:[I]},{idAttribute:"identifier"}),O=new M.fK.Entity("sections",{zones:[h]},{idAttribute:"identifier"}),j={editableAreas:[new M.fK.Entity("editableAreas",{sections:[O]},{idAttribute:"identifier"})]};var T=i(9351);const w={page:j};var b=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let N=class{normalizeConfiguration(e){const t=(0,M.Fv)(e,w).entities,i=r.rq.isEmpty(t)?{editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}}:t;return i.pageTemplate=e.pageTemplate,i}denormalizeConfiguration(e){return(0,M.cY)({page:{editableAreas:Object.keys(e.editableAreas)},pageTemplate:e.pageTemplate},w,e)}normalizeMetadata(e){const t=(0,M.Fv)(e,T.e).entities;return{widgets:t.widgets||{},sections:t.sections||{},personalizationConditionTypes:t.personalizationConditionTypes||{},pageTemplates:t.pageTemplates||{}}}};N=b([(0,g.b)()],N);var z=i(2043),A=i(4637),v=i(9621);const E=async()=>{var e;const t=(await v.dJ.post(v.ey.clipboard.getEndpoint)).data;let i;return t&&(i=null!==(e=JSON.parse(t.data))&&void 0!==e?e:{copiedWidgets:[],copiedSections:[]}),i},S=(e,t)=>{const i={copiedSections:t,copiedWidgets:e},o=v.ey.clipboard.storeEndpoint,n={data:JSON.stringify(i)};return v.dJ.post(o,n,{headers:{"Content-Type":"application/json"}})};var L=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let k=class extends z.o{processIncomingMessage(e,t){return async i=>{await super.processIncomingMessage(e,t)(i),i.data.msg===d.u.CHANGE_TEMPLATE&&(await(async(e,t)=>{const i=v.ey.pageTemplate.changeTemplateEndpoint,o={[v.ey.constants.editingInstanceHeader]:t};return v.dJ.post(i,e,{headers:o})})(i.data.template,i.data.guid),(0,A.postMessage)(d.u.TEMP_CONFIGURATION_STORED,null,i.origin))}}};k=L([(0,g.b)()],k);const x=new c.W({skipBaseClassChecks:!0});x.bind(d.rv.LocalizationService).to(m),x.bind(d.rv.NormalizerService).to(N),x.bind(d.rv.PageConfigurationService).to(l.N),x.bind(d.rv.PopUpElementsService).to(p.V),x.bind(d.rv.MessagingService).to(k);var C=i(1906),Q=i(3062),P=i(2817),Y=i(1944),U=i(209);const W=(e,t,i)=>{const o=1!==t?"multiple":"single";let n;switch(e){case"attachment":n="kentico.components.attachmentselector.dialogtitle";break;case"media":n="kentico.components.mediafileselector.dialogtitle";break;case"page":n="kentico.components.pageselector.dialogtitle"}return i.getLocalizationWithoutPrefix(`${n}.${o}`)};var R=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const V=e=>{if("object"!=typeof e)throw new TypeError("Attachment selector options parameter must be an object.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.selectedValues&&!Array.isArray(e.selectedValues))throw new TypeError("The 'selectedValues' parameter must be an instance of an Array type.");if(e.maxFilesLimit&&"number"!=typeof e.maxFilesLimit&&e.maxFilesLimit<0)throw new TypeError("The 'maxFilesLimit' parameter must be of type number, greater or equal to 0.");if(e.allowedExtensions&&"string"!=typeof e.allowedExtensions)throw new TypeError("The 'allowedExtensions' parameter must be of type string.")},B=(e,t)=>{const i={title:W("attachment",e.maxFilesLimit||1,t),applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.attachmentselector.dialog.button.apply"),maxFilesLimit:1,selectedValues:[]};return r.rq.assignDefined(i,e)};var F=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const _=["page","media","attachment"],Z=({dispatch:e,localizationService:t},i,o)=>{const{activeTabIndex:n,selectedItemsLimit:a,tabs:r}=o,s=r.map((e=>e.dialogTabType));if(s.length>1)e((0,U.G3)(i,r.map((e=>e.dialogTab)),n));else{const o=s[0];"page"===o&&(i=Object.assign(Object.assign({},i),{data:{pages:Object.assign(Object.assign({},i.data.pages),{maximized:!1})},maximized:!1})),e((0,U.G3)(Object.assign(Object.assign({},i),{title:W(o,a,t)})))}},$=({defaultTab:e,selectedItems:t})=>t&&t.type||e,G=async e=>{const t=e.document.querySelector("kentico-attachment-selector-dialog,  kentico-page-selector, kentico-media-files");if(!t)return null;if("getSelectedAttachments"in t){const e=t;return{type:"attachment",items:await e.getSelectedAttachments()}}if((e=>"getSelectedPage"in e)(t)){const e=t;return{type:"page",items:await e.getSelectedPage()}}if((e=>"getSelectedFiles"in e)(t)){const e=t;return{type:"media",items:await e.getSelectedFiles()}}},q=(e,t,{pageIdentifier:i},o)=>{const{selectedItemsLimit:n,attachmentOptions:a,mediaOptions:r,pageOptions:s,selectedItems:c}=t,l=c&&c.items||[];switch(e){case"attachment":return{allowedExtensions:a&&a.allowedExtensions,maxFilesLimit:n,pageIdentifier:i,selectedValues:o?l.map((e=>e.value)):[]};case"media":return{allowedExtensions:r&&r.allowedExtensions,libraryName:r&&r.libraryName,maxFilesLimit:n,selectedValues:o?l.map((e=>({fileGuid:e.value}))):[]};case"page":return{identifierMode:s&&s.identifierMode?s.identifierMode:"guid",selectedValues:o?l.map((e=>({identifier:e.value}))):[],maximized:!0,maxItemsLimit:n}}},H=e=>{if("object"!=typeof e)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.tabs){if(!Array.isArray(e.tabs))throw new TypeError("The 'tabs' parameter must be an instance of an array of Strings.");if(e.tabs.length>_.length)throw new TypeError(`Maximum allowed length of 'tabs' array is restricted to ${_.length}.`);const t=r.T.getUniqueValues(e.tabs);if(t.filter((e=>-1===_.indexOf(e))).length)throw new TypeError(`The 'tabs' parameter elements are restricted to values: ${_.join(", ")}`);if(t.length<e.tabs.length)throw new TypeError("Each tab name is allowed to appear in the 'tabs' array only once")}if(e.defaultTab){if("string"!=typeof e.defaultTab)throw new TypeError("The 'defaultTab' parameter must be a String.");if(e.tabs&&-1===e.tabs.indexOf(e.defaultTab))throw new TypeError("If 'defaultTab' is specified its value must be an element of a set defined by 'tabs' option.")}if(e.selectedItemsLimit&&"number"!=typeof e.selectedItemsLimit)throw new TypeError("The 'selectedItemsLimit' parameter is not of the type Number.");if(e.selectedItems){if("object"!=typeof e.selectedItems||Array.isArray(e.selectedItems))throw new TypeError("The 'selectedItems' parameter must be an instance of an Object.");if("string"!=typeof e.selectedItems.type||-1===_.indexOf(e.selectedItems.type))throw new TypeError(`The 'selectedItems.type' parameter elements are restricted to values: ${_.join(", ")}.`);if(!Array.isArray(e.selectedItems.items))throw new TypeError("The 'selectedItems.items' parameter must be an instance of an Array type.");if(e.selectedItems.items.some((e=>!e.hasOwnProperty("value"))))throw new TypeError("All objects specified in 'selectedItems.items' collection must have a property called 'value'.")}if(e.mediaOptions){if("object"!=typeof e.mediaOptions||Array.isArray(e.mediaOptions))throw new TypeError("The 'mediaOptions' parameter must be an instance of an Object.");if(e.mediaOptions.libraryName&&"string"!=typeof e.mediaOptions.libraryName)throw new TypeError("The 'mediaOptions.libraryName' parameter must be an instance of a String.");if(e.mediaOptions.allowedExtensions&&"string"!=typeof e.mediaOptions.allowedExtensions)throw new TypeError("The 'mediaOptions.allowedExtensions' parameter must be an instance of a String.")}if(e.pageOptions){if("object"!=typeof e.pageOptions||Array.isArray(e.pageOptions))throw new TypeError("The 'pageOptions' parameter must be an instance of an Object.");if(e.pageOptions.rootPath&&"string"!=typeof e.pageOptions.rootPath)throw new TypeError("The 'pageOptions.rootPath' parameter must be an instance of a String.")}if(e.attachmentOptions){if("object"!=typeof e.attachmentOptions||Array.isArray(e.attachmentOptions))throw new TypeError("The 'attachmentOptions' parameter must be an instance of an Object.");if(e.attachmentOptions.allowedExtensions&&"string"!=typeof e.attachmentOptions.allowedExtensions)throw new TypeError("The 'attachmentOptions.allowedExtensions' parameter must be an instance of a String.")}},J=(e,t)=>{const i={title:t.getLocalizationWithoutPrefix("kentico.components.contentselector.dialogtitle"),applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.contentselector.dialog.button.apply"),tabs:_,defaultTab:e.tabs?e.tabs[0]:_[0],selectedItemsLimit:1,maximized:!0};return r.rq.assignDefined(i,e)},K=(e,{attachmentOptions:t,pageOptions:i,mediaOptions:o},n,a)=>{switch(e){case"attachment":let e=n.attachmentSelector;return(null==t?void 0:t.allowedExtensions)&&(e=Y.B(e,"allowedExtensions",encodeURIComponent(t.allowedExtensions))),{iconClassName:"icon-w-document-attachments",title:a.getLocalizationWithoutPrefix("kentico.components.contentselector.attachmentstabtitle"),url:e};case"page":return{iconClassName:"icon-w-documents",title:a.getLocalizationWithoutPrefix("kentico.components.contentselector.pagestabtitle"),url:(null==i?void 0:i.rootPath)?Y.B(n.pageSelector,"rootPath",i.rootPath):n.pageSelector};case"media":let r=n.mediaFilesSelector;return(null==o?void 0:o.allowedExtensions)&&(r=Y.B(r,"allowedExtensions",encodeURIComponent(o.allowedExtensions))),(null==o?void 0:o.libraryName)&&(r=Y.B(r,"libraryName",encodeURIComponent(o.libraryName))),{iconClassName:"icon-w-media-gallery",title:a.getLocalizationWithoutPrefix("kentico.components.contentselector.mediatabtitle"),url:r}}};var X=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const ee=e=>{if(void 0===e)throw new TypeError("Media files selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.libraryName&&"string"!=typeof e.libraryName)throw new TypeError("The 'libraryName' parameter is not of the type string.");if(e.maxFilesLimit&&"number"!=typeof e.maxFilesLimit)throw new TypeError("The 'maxFilesLimit' parameter is not of the type number.")};var te=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const ie=e=>{if(void 0===e)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(void 0!==e.selectedValues){if(void 0===e.identifierMode)throw new TypeError("The 'selectedValues' parameter can be used only together with the 'identifierMode' specified.");if(!(e.selectedValues instanceof Array))throw new TypeError("The 'selectedValues' parameter must be an array.");if(e.selectedValues.length&&void 0===e.selectedValues[0].identifier)throw new TypeError("The 'selectedValues' parameter must contain objects with an 'identifier' variable specified.");if("guid"!==e.identifierMode&&"path"!==e.identifierMode)throw new TypeError('The \'identifierMode\' parameter must be one of the following values: "guid" or "path"')}if(void 0!==e.rootPath&&e.rootPath.lastIndexOf("/")===e.rootPath.length-1&&e.rootPath.length>1)throw new TypeError("The 'rootPath' cannot end with a slash character unless it points at the site root.")},oe=(e,t)=>{const i={title:W("page",1,t),identifierMode:"guid",applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.pageselector.dialog.button.apply"),maximized:!1};return r.rq.assignDefined(i,e)},ne=[({namespace:e,config:t,dispatch:i,localizationService:o})=>{(e.mediaFilesSelector=e.mediaFilesSelector||{}).open=e=>{ee(e);const{libraryName:n="",maxFilesLimit:a=1,allowedExtensions:r=null,selectedValues:s=[],applyCallback:c,maximized:l=!0}=e,p=X(e,["libraryName","maxFilesLimit","allowedExtensions","selectedValues","applyCallback","maximized"]);let d=Y.B(t.selectors.dialogEndpoints.mediaFilesSelector,"libraryName",encodeURIComponent(n));r&&(d=Y.B(d,"allowedExtensions",encodeURIComponent(r))),i((0,U.G3)(Object.assign({title:e.title||W("media",a,o),data:{media:{libraryName:n,maxFilesLimit:a,allowedExtensions:r,selectedValues:s}},url:d,applyCallback:async e=>{const t=e.document.querySelector("kentico-media-files"),i=null!==t?await t.getSelectedFiles():[];return c(i)},maximized:l,applyButtonText:o.getLocalizationWithoutPrefix("kentico.components.mediafileselector.dialog.button.apply")},p)))}},({namespace:e,config:t,dispatch:i,localizationService:o})=>{e.pageSelector=e.pageSelector||{},e.pageSelector.open=e=>{ie(e);const n=oe(e,o),{identifierMode:a,selectedValues:r,applyCallback:s,rootPath:c}=n,l=te(n,["identifierMode","selectedValues","applyCallback","rootPath"]);let p=t.selectors.dialogEndpoints.pageSelector;void 0!==c&&(p=Y.B(p,"rootPath",c));const d={selectedValues:r,identifierMode:a,maximized:l.maximized,maxItemsLimit:1};i((0,U.G3)(Object.assign({url:p,async applyCallback(e){const t=e.document.querySelector("kentico-page-selector"),i=await t.getSelectedPage();return s(i)},data:{pages:d}},l)))}},({namespace:e,config:t,dispatch:i,localizationService:o})=>{e.attachmentSelector=e.attachmentSelector||{},e.attachmentSelector.open=e=>{V(e);const n=B(e,o),{applyCallback:a,selectedValues:r,maxFilesLimit:s,allowedExtensions:c}=n,l=R(n,["applyCallback","selectedValues","maxFilesLimit","allowedExtensions"]);let p=t.selectors.dialogEndpoints.attachmentSelector;c&&(p=(0,Y.B)(t.selectors.dialogEndpoints.attachmentSelector,"allowedExtensions",c)),i((0,U.G3)(Object.assign({url:p,data:{attachments:{selectedValues:r.map((e=>e.fileGuid)),pageIdentifier:t.pageIdentifier,maxFilesLimit:s,allowedExtensions:c}},async applyCallback(e){const t=e.document.querySelector("kentico-attachment-selector-dialog"),i=await t.getSelectedAttachments();return a(i)},maximized:!0},l)))}},e=>{const{config:t,namespace:i,localizationService:o}=e;i.contentSelector=i.contentSelector||{},i.contentSelector.open=i=>{H(i);const n=J(i,o),{applyCallback:a,tabs:r,defaultTab:s,selectedItemsLimit:c,attachmentOptions:l,mediaOptions:p,pageOptions:d,selectedItems:g}=n,u=F(n,["applyCallback","tabs","defaultTab","selectedItemsLimit","attachmentOptions","mediaOptions","pageOptions","selectedItems"]),f=$({tabs:r,defaultTab:s,selectedItems:g}),y=r.indexOf(f),m=r.map((e=>({dialogTabType:e,dialogTab:K(e,{attachmentOptions:l,pageOptions:d,mediaOptions:p},t.selectors.dialogEndpoints,o)}))),M=e=>q(e,{attachmentOptions:l,mediaOptions:p,pageOptions:d,selectedItemsLimit:c,selectedItems:g},t,e===f),D=Object.assign({url:m[y].dialogTab.url,applyCallback:async e=>a(await G(e)),data:{attachments:M("attachment"),pages:M("page"),media:M("media")}},u);Z(e,D,{selectedItemsLimit:c,tabs:m,activeTabIndex:y})}}];var ae=i(9148),re=i(7972),se=i(9167),ce=i(6669),le=i(9123);class pe extends ce.R{constructor(e,t,i,o,n,a,r,s,c,l){super(t,i,o,n,le.po,a,c),this.pageIdentifier=e,this.applicationPath=t,this.configurationEndpoints=i,this.metadataEndpoint=o,this.allowedOrigins=n,this.constants=a,this.featureSet=r,this.pageTemplate=s,this.selectors=c,this.clipboard=l}validate(){if(0===this.pageIdentifier)throw new Error((0,a.ko)(d.rv.LocalizationService).getLocalization("notinitialized"))}getComponentMarkupData(e){return{postedData:e,pageIdentifier:this.pageIdentifier}}}var de=i(4791),ge=i(3894),ue=i(989),fe=i(5133),ye=i(3788),me=i(7847),Me=i(2031),De=i(1757),Ie=i(1953),he=i(8747);const Oe=(0,De.createAction)("widgetVariants/CHANGE_PRIORITY",((e,t)=>({widgetIdentifier:e,variants:t})))(),je=(0,De.createAction)("pageTemplates/UPDATE_PROPERTIES",((e,t)=>({identifier:e,properties:t})))(),Te=(0,De.createAction)("clipboard/COPY_WIDGET",(e=>({widgetCopy:e})))(),we=(0,De.createAction)("clipboard/COPY_SECTION",(e=>({sectionCopy:e})))(),be=(0,De.createAction)("clipboard/PASTE_WIDGET",((e,t,i,o,n,a)=>({widget:e,variants:t,markups:i,zoneIdentifier:o,position:n,variantIndexToSelect:a})))(),Ne=(0,De.createAction)("clipboard/SET_PASTABLE_WIDGETS",(e=>({pastableWidgets:e})))(),ze=(0,De.createAction)("clipboard/SET_PASTABLE_SECTIONS",(e=>({pastableSections:e})))(),Ae=(0,De.createAction)("clipboard/LOAD",(e=>({copiedObjects:e})))(),ve=(0,De.createAction)("clipboard/DELETE_WIDGET",(e=>({clipboardItemIdentifier:e})))(),Ee=(0,De.createAction)("clipboard/DELETE_SECTION",(e=>({clipboardItemIdentifier:e})))(),Se=(0,De.createAction)("clipboard/ADD_RESTRICTED_WIDGETS",(e=>({widgetCopies:e})))(),Le=(0,De.createAction)("clipboard/REMOVE_RESTRICTED_WIDGET",(e=>({clipboardEntryIdentifier:e})))(),ke=(0,De.createAction)("clipboard/SHOW_THUMBNAIL",((e,t,i)=>({clipboardEntryIdentifier:e,top:t,left:i})))(),xe=(0,De.createAction)("clipboard/HIDE_THUMBNAIL",(e=>({clipboardEntryIdentifier:e})))(),Ce={identifier:null,properties:{}};var Qe=i(2307),Pe=i.n(Qe),Ye=i(6020);var Ue=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const We={widgets:{copiedWidgets:[],restrictedWidgets:[],pastableWidgets:[]},sections:{copiedSections:[],pastableSections:[]},thumbnails:{}};var Re=i(363);var Ve=i(2898);const Be={sections:{},variants:{}};var Fe=i(4135);var _e=i(600);const Ze=(0,de.UY)(Object.assign(Object.assign({},Me.E),{config:(e=null)=>e,pageTemplate:(e=Ce,t)=>t.type===(0,De.getType)(je)?Object.assign(Object.assign({},e),{properties:t.payload.properties}):e,widgets:(e,t)=>{switch(e=(0,Ye.D)(e,t),t.type){case(0,De.getType)(Ie.CH):{const i=e[t.payload.widgetIdentifier];return Object.assign(Object.assign({},e),{[t.payload.widgetIdentifier]:Object.assign(Object.assign({},i),{conditionType:t.payload.conditionType||i.conditionType,variants:[...i.variants,t.payload.variant.identifier]})})}case(0,De.getType)(Oe):{const{widgetIdentifier:i,variants:o}=t.payload,n=e[i],{variants:a}=n;if(Pe()(o,a))return e;if(Pe()([...o].sort(),[...a.slice(1)].sort()))return Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},n),{variants:[a[0],...o]})});throw new Error("Changing variants priority can only modify their order.")}case(0,De.getType)(be):return Object.assign(Object.assign({},e),{[t.payload.widget.identifier]:t.payload.widget});default:return e}},highlightedSection:(e,t)=>{switch(e=(0,he.h)(e,t),t.type){case(0,De.getType)(Ie.HV):return t.payload.type!==ae.Ey.SectionProperties?e:Object.assign(Object.assign({},e),{highlightBorder:!0,freezeHighlight:!0});case(0,De.getType)(Ie.nf):return e.freezeHighlight?Object.assign(Object.assign({},e),{highlightBorder:!1,freezeHighlight:!1}):e;default:return e}},clipboard:(e=We,t)=>{switch(t.type){case(0,De.getType)(Te):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{copiedWidgets:[t.payload.widgetCopy,...e.widgets.copiedWidgets.slice(0,9)]})});case(0,De.getType)(we):return Object.assign(Object.assign({},e),{sections:Object.assign(Object.assign({},e.sections),{copiedSections:[t.payload.sectionCopy,...e.sections.copiedSections.slice(0,9)]})});case(0,De.getType)(be):return Object.assign(Object.assign({},e),{widgets:Object.assign({},e.widgets),thumbnails:{}});case(0,De.getType)(Se):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{restrictedWidgets:[...e.widgets.restrictedWidgets,...t.payload.widgetCopies]})});case(0,De.getType)(Ne):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{pastableWidgets:t.payload.pastableWidgets})});case(0,De.getType)(ze):return Object.assign(Object.assign({},e),{sections:Object.assign(Object.assign({},e.sections),{pastableSections:t.payload.pastableSections})});case(0,De.getType)(Ae):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{copiedWidgets:t.payload.copiedObjects.copiedWidgets}),sections:Object.assign(Object.assign({},e.sections),{copiedSections:t.payload.copiedObjects.copiedSections})});case(0,De.getType)(ve):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{copiedWidgets:e.widgets.copiedWidgets.filter((e=>e.clipboardItemIdentifier!==t.payload.clipboardItemIdentifier))}),thumbnails:{}});case(0,De.getType)(Ee):return Object.assign(Object.assign({},e),{sections:Object.assign(Object.assign({},e.sections),{copiedSections:e.sections.copiedSections.filter((e=>e.clipboardItemIdentifier!==t.payload.clipboardItemIdentifier))}),thumbnails:{}});case(0,De.getType)(Le):const{clipboardEntryIdentifier:i}=t.payload;return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{restrictedWidgets:e.widgets.restrictedWidgets.filter((e=>e.clipboardItemIdentifier!==i))})});case(0,De.getType)(ke):return Object.assign(Object.assign({},e),{thumbnails:Object.assign(Object.assign({},e.thumbnails),{[t.payload.clipboardEntryIdentifier]:{top:t.payload.top,left:t.payload.left}})});case(0,De.getType)(xe):const o=e.thumbnails,n=t.payload.clipboardEntryIdentifier,a=(o[n],Ue(o,["symbol"==typeof n?n:n+""]));return Object.assign(Object.assign({},e),{thumbnails:a});default:return e}},widgetVariants:(e={},t)=>(e=(0,Re.S)(e,t),t.type===(0,De.getType)(be)?Object.assign(Object.assign({},e),t.payload.variants.reduce(((e,t)=>(e[t.identifier]=t,e)),{})):e),markups:(e=Be,t)=>(e=(0,Ve.d)(e,t),t.type===(0,De.getType)(be)?Object.assign(Object.assign({},e),{variants:Object.assign(Object.assign({},e.variants),t.payload.variants.reduce(((e,i,o)=>(e[i.identifier]={markup:t.payload.markups[o],isDirty:!1},e)),{}))}):e),zones:(e={},t)=>{if(e=(0,Fe.A)(e,t),t.type===(0,De.getType)(be)){const{widget:i,zoneIdentifier:o,position:n}=t.payload;return Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},e[o]),{widgets:r.T.insertItemIntoArray(e[o].widgets,i.identifier,n)})})}return e},displayedWidgetVariants:(e={},t)=>{if(e=(0,_e.k)(e,t),t.type===(0,De.getType)(be)){const{widget:i,variants:o,variantIndexToSelect:n}=t.payload;return Object.assign(Object.assign({},e),{[i.identifier]:o[n].identifier})}return e}})),$e=(e,t)=>{const i=(0,fe.f)(t);return(0,de.MT)(Ze,e,i((0,de.md)(ge.Z.withExtraArgument((0,ue.R)()),me.D,ye.r)))};var Ge=i(4775),qe=i(7945),He=i(4404),Je=i(5030),Ke=i.n(Je),Xe=i(3522),et=i(9686),tt=i(4911),it=i(8721),ot=i(6756),nt=i(5018),at=i(9887),rt=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const st=e=>async(t,i)=>{const o=It([e],i()),n=t(gt()),[a]=await Promise.all([o,n]),r=a[0];t(Te(r)),await t(lt(nt.p.Widget,r.widgetType))},ct=e=>async(t,i)=>{const o=i(),n=await Ot(e,o);await t(gt()),t(we(n)),await t(lt(nt.p.Section,n.sectionType))},lt=(e,t)=>async(i,o,{localizationService:n,logger:a,messaging:r})=>{const{clipboard:s,metadata:c}=o(),l=e===nt.p.Widget,p=l?c.widgets[t].name:c.sections[t].name,g=l?"clipboard.widgets.copysuccessmessage":"clipboard.sections.copysuccessmessage";try{if(200===(await S(s.widgets.copiedWidgets,s.sections.copiedSections)).status){const e=n.getLocalization(g,p);r.postMessage(d.u.MESSAGING_SUCCESS,e,"*")}}catch(e){a.logException(e)}},pt=e=>async(t,i,{logger:o})=>{const{clipboard:n}=i(),a=n.widgets.copiedWidgets.find((t=>t.clipboardItemIdentifier===e));a?await t(Mt(a)):o.logError("Widget could not be found in the clipboard.")},dt=e=>async(t,i,{logger:o})=>{const{clipboard:n}=i(),a=n.sections.copiedSections.find((t=>t.clipboardItemIdentifier===e));a?(await t(Dt(a)),t((0,Ie.j4)())):o.logError("Section could not be found in the clipboard.")},gt=()=>async(e,t,{logger:i})=>{try{const t=await E();return e(Ae(t)),t}catch(e){i.logException(e)}},ut=e=>async(t,i,{logger:o,localizationService:n,messaging:a})=>{try{const s=await E(),c=s.copiedSections,l=c.findIndex((t=>t.clipboardItemIdentifier===e));if(-1===l)return void o.logError("Section does not exists in the clipboard.");const p=r.T.removeItem(c,l),g=await S(s.copiedWidgets,p),{metadata:u}=i(),{name:f}=u.sections[c[l].sectionType];if(200===g.status){t(Ee(e));const i=n.getLocalization("clipboard.section.removesucessmessage",f);a.postMessage(d.u.MESSAGING_SUCCESS,i,"*")}}catch(e){o.logException(e)}},ft=e=>async(t,i,{logger:o,localizationService:n,messaging:a})=>{try{const s=await E(),c=s.copiedWidgets,l=c.findIndex((t=>t.clipboardItemIdentifier===e));if(-1===l)return void o.logError("Widget does not exists in the clipboard.");const{metadata:p}=i(),{name:g}=p.widgets[c[l].widgetType],u=r.T.removeItem(c,l);if(200===(await S(u,s.copiedSections)).status){t(ve(e));const i=n.getLocalization("clipboard.widgets.removesucessmessage",g);a.postMessage(d.u.MESSAGING_SUCCESS,i,"*")}}catch(e){o.logException(e)}},yt=e=>(t,i,{messaging:o})=>{const{clipboard:n}=i();1===n.widgets.restrictedWidgets.length&&o.postMessage(d.u.SET_RESTRICTED_WIDGETS,!1,"*"),t(Le(e))},mt=e=>async(t,i)=>{const{clipboard:o}=i(),n=o.widgets.restrictedWidgets.find((t=>t.clipboardItemIdentifier===e));await t(Mt(n)),t(yt(e))},Mt=e=>async(t,i,{logger:o})=>{const{clipboard:n,popup:a,metadata:r}=i(),{widgetType:s}=e;if(!n.widgets.pastableWidgets.includes(s))return void o.logError(`Widget cannot be pasted to area '${a.areaIdentifier}'.`);t((0,Ie.j4)());const c=a.componentIdentifier===a.zoneIdentifier?a.index:a.index+1,{widget:l,variants:p,markups:d,displayedVariantIndex:g}=await jt(e,r.widgets[s].markupUrl);t(be(l,p,d,a.zoneIdentifier,c,g))},Dt=e=>async(t,i)=>{const{popup:o,metadata:n}=i(),{sectionType:a,properties:r,zones:s}=e,c=o.index+1,{section:l,markup:p,widgetZones:d,widgetRestrictions:g}=await(0,et.OB)(i(),a,null,r);t((0,Ie.qG)(l,o.areaIdentifier,c,p,d,g));const u=s.map((async(e,i)=>{for(const[o,a]of e.entries()){const{widget:e,variants:r,markups:s,displayedVariantIndex:c}=await jt(a,n.widgets[a.widgetType].markupUrl);t(be(e,r,s,l.zones[i],o,c))}}));await Promise.all(u)},It=async(e,t)=>{const i=ht(e,t),o=await Promise.all(e.map((e=>{const t=document.getElementById(e).querySelector(".ktc-widget-body-wrapper");return Tt(t)})));return i.map(((e,t)=>Object.assign({clipboardItemIdentifier:(0,it.Z)(),thumbnail:o[t]},e)))},ht=(e,t)=>{const{widgets:i,widgetVariants:o,displayedWidgetVariants:n}=t;return e.map((e=>{const{type:t,variants:a,conditionType:r}=i[e],s=a.map((e=>{const t=o[e],{identifier:i}=t;return rt(t,["identifier"])})),c=n[e];return{widgetType:t,conditionType:null!=r?r:null,displayedVariantIndex:a.findIndex((e=>o[e].identifier===c)),variants:s}}))},Ot=async(e,t)=>{const{sections:i,zones:o}=t,n=i[e],a=document.getElementById(e).querySelector(".ktc-section-body-wrapper"),r=await Tt(a),s=n.zones.map((e=>{const i=o[e].widgets;return ht(i,t)}));return{clipboardItemIdentifier:(0,it.Z)(),sectionType:n.type,zones:s,properties:n.properties,thumbnail:r}},jt=async(e,t)=>{const{widgetType:i,conditionType:o,variants:n,displayedVariantIndex:a}=e,r=n.map((e=>Object.assign({identifier:(0,it.Z)()},e)));return{widget:{identifier:(0,it.Z)(),type:i,conditionType:o,variants:[...r.map((e=>e.identifier))]},markups:await Promise.all(n.map((e=>ot.hK(t,e.properties)))),variants:r,displayedVariantIndex:a}},Tt=async e=>{const{width:t,height:i}=e.getBoundingClientRect(),o=((e,t)=>{const i=Math.max(e,t);return i<=200?1:200/i})(t,i);try{return await(0,tt.hi)(e,{filter:e=>{var t;return!((null===(t=e.tagName)||void 0===t?void 0:t.startsWith("KENTICO-"))||e.shadowRoot)},backgroundColor:"#fff",pixelRatio:o})}catch(e){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzNiIgdmlld0JveD0iMCAwIDEyMCAxMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTM2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTU2IDQxQzU2IDQzLjIwOTEgNTQuMjA5MSA0NSA1MiA0NUM0OS43OTA5IDQ1IDQ4IDQzLjIwOTEgNDggNDFDNDggMzguNzkwOSA0OS43OTA5IDM3IDUyIDM3QzU0LjIwOTEgMzcgNTYgMzguNzkwOSA1NiA0MVpNNTQgNDFDNTQgNDIuMTA0NiA1My4xMDQ2IDQzIDUyIDQzQzUwLjg5NTQgNDMgNTAgNDIuMTA0NiA1MCA0MUM1MCAzOS44OTU0IDUwLjg5NTQgMzkgNTIgMzlDNTMuMTA0NiAzOSA1NCAzOS44OTU0IDU0IDQxWiIgZmlsbD0iIzE1MTUxNSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ0IDU2VjM4QzQ0IDM1LjIzODYgNDYuMjM4NiAzMyA0OSAzM0g2N0M2OS43NjE0IDMzIDcyIDM1LjIzODYgNzIgMzhWNDguOTk5TDcyIDQ5LjAwNkM3MS45OTkyIDQ5LjEzOTQgNzEuOTcyMyA0OS4yNjY2IDcxLjkyNDEgNDkuMzgyOEM3MS44NzUzIDQ5LjUwMDcgNzEuODAzIDQ5LjYxMTIgNzEuNzA3MSA0OS43MDcxQzcxLjUyNjEgNDkuODg4MSA3MS4yNzYxIDUwIDcxIDUwQzcwLjg2NDQgNTAgNzAuNzM1MSA0OS45NzMgNzAuNjE3MiA0OS45MjQxQzcwLjQ5OTMgNDkuODc1MyA3MC4zODg4IDQ5LjgwMyA3MC4yOTI5IDQ5LjcwNzFMNjYgNDUuNDE0Mkw1Ny44NDg1IDUzLjU2NTdDNTcuMzc5OSA1NC4wMzQzIDU2LjYyMDEgNTQuMDM0MyA1Ni4xNTE1IDUzLjU2NTdMNTIgNDkuNDE0Mkw0NiA1NS40MTQyVjU2QzQ2IDU3LjY1NjkgNDcuMzQzMSA1OSA0OSA1OUg2MEM2MC41NTIzIDU5IDYxIDU5LjQ0NzcgNjEgNjBDNjEgNjAuNTUyMyA2MC41NTIzIDYxIDYwIDYxSDQ5QzQ2LjIzODYgNjEgNDQgNTguNzYxNCA0NCA1NlpNNDkgMzVDNDcuMzQzMSAzNSA0NiAzNi4zNDMxIDQ2IDM4VjUyLjU4NThMNTEuMTUxNSA0Ny40MzQzQzUxLjYyMDEgNDYuOTY1NyA1Mi4zNzk5IDQ2Ljk2NTcgNTIuODQ4NSA0Ny40MzQzTDU3IDUxLjU4NThMNjUuMTUxNSA0My40MzQzQzY1LjYyMDEgNDIuOTY1NyA2Ni4zNzk5IDQyLjk2NTcgNjYuODQ4NSA0My40MzQzTDcwIDQ2LjU4NThWMzhDNzAgMzYuMzQzMSA2OC42NTY5IDM1IDY3IDM1SDQ5WiIgZmlsbD0iIzE1MTUxNSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTY5IDY1QzcyLjg2NiA2NSA3NiA2MS44NjYgNzYgNThDNzYgNTQuMTM0IDcyLjg2NiA1MSA2OSA1MUM2NS4xMzQgNTEgNjIgNTQuMTM0IDYyIDU4QzYyIDYxLjg2NiA2NS4xMzQgNjUgNjkgNjVaTTczLjAzMzYgNjAuOTU1MkM3My42NDEyIDYwLjEyNzMgNzQgNTkuMTA1NiA3NCA1OEM3NCA1NS4yMzg2IDcxLjc2MTQgNTMgNjkgNTNDNjcuODk0NCA1MyA2Ni44NzI3IDUzLjM1ODggNjYuMDQ0OCA1My45NjY0TDczLjAzMzYgNjAuOTU1MlpNNzEuNTUxMSA2Mi4zMDExQzcwLjgwNDIgNjIuNzQ1MSA2OS45MzE5IDYzIDY5IDYzQzY2LjIzODYgNjMgNjQgNjAuNzYxNCA2NCA1OEM2NCA1Ny4wNjgxIDY0LjI1NDkgNTYuMTk1OCA2NC42OTg5IDU1LjQ0ODlMNzEuNTUxMSA2Mi4zMDExWiIgZmlsbD0iIzE1MTUxNSIvPgo8cGF0aCBkPSJNMjMuNDI0OCA4OFY3OS42SDI0LjU4ODhMMjguMzY4OCA4Ni4xNzZWNzkuNkgyOS40MTI4Vjg4SDI4LjI2MDhMMjQuNDY4OCA4MS40MjRWODhIMjMuNDI0OFpNMzMuNzExIDg4LjE0NEMzMS45MTEgODguMTQ0IDMwLjgzMSA4Ni44NDggMzAuODMxIDg1LjI0QzMwLjgzMSA4My42MiAzMS45MTEgODIuMzI0IDMzLjcxMSA4Mi4zMjRDMzUuNDk5IDgyLjMyNCAzNi41OTEgODMuNjIgMzYuNTkxIDg1LjI0QzM2LjU5MSA4Ni44NDggMzUuNDk5IDg4LjE0NCAzMy43MTEgODguMTQ0Wk0zMy43MTEgODcuMjA4QzM0Ljg3NSA4Ny4yMDggMzUuNTQ3IDg2LjM0NCAzNS41NDcgODUuMjRDMzUuNTQ3IDg0LjEyNCAzNC44NzUgODMuMjYgMzMuNzExIDgzLjI2QzMyLjU0NyA4My4yNiAzMS44NjMgODQuMTI0IDMxLjg2MyA4NS4yNEMzMS44NjMgODYuMzQ0IDMyLjU0NyA4Ny4yMDggMzMuNzExIDg3LjIwOFpNNDMuMjgyNCA4Ny4xMzZDNDMuNDg2NCA4Ny4xMzYgNDMuODIyNCA4Ny4xIDQzLjk3ODQgODcuMDY0Vjg3Ljk4OEM0My43NzQ0IDg4LjAzNiA0My40MDI0IDg4LjA3MiA0My4wNDI0IDg4LjA3MkM0Mi4zOTQ0IDg4LjA3MiA0MS4zNTA0IDg3Ljk1MiA0MS4zNTA0IDg2LjE2NFY4My4zNDRINDAuMzU0NFY4Mi40NjhINDEuMzUwNFY4MC43MTZINDIuMzk0NFY4Mi40NjhINDMuNzg2NFY4My4zNDRINDIuMzk0NFY4NS45MzZDNDIuMzk0NCA4Ni45OTIgNDIuNzU0NCA4Ny4xMzYgNDMuMjgyNCA4Ny4xMzZaTTQ4LjIzMTggODIuMzI0QzQ5LjU5OTggODIuMzI0IDUwLjI5NTggODMuMTE2IDUwLjI5NTggODQuNTkyVjg4SDQ5LjI1MThWODUuMDQ4QzQ5LjI1MTggODMuODEyIDQ4Ljg1NTggODMuMjI0IDQ3Ljg1OTggODMuMjI0QzQ2LjgyNzggODMuMjI0IDQ2LjI5OTggODMuOTU2IDQ2LjI5OTggODUuMDcyVjg4SDQ1LjI1NThWNzkuNkg0Ni4yOTk4VjgzLjQ4OEM0Ni41OTk4IDgyLjc4IDQ3LjI3MTggODIuMzI0IDQ4LjIzMTggODIuMzI0Wk01NC4wODA2IDg4LjE0NEM1Mi44NDQ2IDg4LjE0NCA1MS45ODA2IDg3LjQgNTEuOTgwNiA4NS44NzZWODIuNDY4SDUzLjAyNDZWODUuNjM2QzUzLjAyNDYgODYuNjA4IDUzLjM4NDYgODcuMjQ0IDU0LjM2ODYgODcuMjQ0QzU1LjUwODYgODcuMjQ0IDU1Ljk0MDYgODYuMzggNTUuOTQwNiA4NS40OTJWODIuNDY4SDU2Ljk4NDZWODhINTUuOTQwNlY4Ni45OTJDNTUuNjQwNiA4Ny42NzYgNTQuOTkyNiA4OC4xNDQgNTQuMDgwNiA4OC4xNDRaTTU4Ljc3ODkgODhWODIuNDY4SDU5LjgyMjlWODMuNDc2QzYwLjAyNjkgODIuODc2IDYwLjU5MDkgODIuMzI0IDYxLjQ3ODkgODIuMzI0QzYyLjQ1MDkgODIuMzI0IDYzLjAzODkgODIuNzggNjMuMjQyOSA4My41MTJDNjMuNDgyOSA4Mi44NTIgNjQuMTY2OSA4Mi4zMjQgNjUuMDMwOSA4Mi4zMjRDNjYuNTE4OSA4Mi4zMjQgNjcuMDIyOSA4My4yODQgNjcuMDIyOSA4NC40OTZWODhINjUuOTc4OVY4NC43QzY1Ljk3ODkgODMuNjU2IDY1LjUyMjkgODMuMjI0IDY0Ljc3ODkgODMuMjI0QzYzLjk2MjkgODMuMjI0IDYzLjQyMjkgODMuNzc2IDYzLjQyMjkgODUuMTJWODhINjIuMzc4OVY4NC43ODRDNjIuMzc4OSA4My41ODQgNjEuODYyOSA4My4yMjQgNjEuMTkwOSA4My4yMjRDNjAuMzM4OSA4My4yMjQgNTkuODIyOSA4My44MjQgNTkuODIyOSA4NS4xMlY4OEg1OC43Nzg5Wk03MS44MzUzIDgyLjMyNEM3My40MTkzIDgyLjMyNCA3NC41MTEzIDgzLjUxMiA3NC41MTEzIDg1LjI0Qzc0LjUxMTMgODYuOTMyIDczLjM3MTMgODguMTQ0IDcxLjc3NTMgODguMTQ0QzcwLjkyMzMgODguMTQ0IDcwLjE1NTMgODcuNzEyIDY5Ljc5NTMgODcuMDI4Vjg4SDY4Ljc2MzNWNzkuNkg2OS43OTUzVjgzLjQ1MkM3MC4xNTUzIDgyLjc1NiA3MC45NDczIDgyLjMyNCA3MS44MzUzIDgyLjMyNFpNNzEuNjMxMyA4Ny4yMDhDNzIuNjk5MyA4Ny4yMDggNzMuNDY3MyA4Ni4zOTIgNzMuNDY3MyA4NS4yNEM3My40NjczIDg0LjA4OCA3Mi42OTkzIDgzLjI2IDcxLjYzMTMgODMuMjZDNzAuNTI3MyA4My4yNiA2OS43NDczIDg0LjA3NiA2OS43NDczIDg1LjI0QzY5Ljc0NzMgODYuMzkyIDcwLjUyNzMgODcuMjA4IDcxLjYzMTMgODcuMjA4Wk03NS44NTMxIDg4VjgyLjQ2OEg3Ni44OTcxVjgzLjQ4OEM3Ny4xOTcxIDgyLjc4IDc3Ljg2OTEgODIuMzI0IDc4LjgyOTEgODIuMzI0QzgwLjE4NTEgODIuMzI0IDgwLjg4MTEgODMuMTE2IDgwLjg4MTEgODQuNTkyVjg4SDc5Ljg0OTFWODUuMDQ4Qzc5Ljg0OTEgODMuODEyIDc5LjQ0MTEgODMuMjI0IDc4LjQ1NzEgODMuMjI0Qzc3LjQyNTEgODMuMjI0IDc2Ljg5NzEgODMuOTU2IDc2Ljg5NzEgODUuMDcyVjg4SDc1Ljg1MzFaTTg0LjkxODYgODguMTQ0QzgzLjE1NDYgODguMTQ0IDgyLjE4MjYgODYuODcyIDgyLjE4MjYgODUuMjRDODIuMTgyNiA4My42MDggODMuMjI2NiA4Mi4zMjQgODQuOTQyNiA4Mi4zMjRDODUuODE4NiA4Mi4zMjQgODYuNTM4NiA4Mi43NjggODYuODg2NiA4My40NTJWODIuNDY4SDg3LjkxODZWODhIODYuODg2NlY4Ny4wMjhDODYuNTM4NiA4Ny43MTIgODUuNzQ2NiA4OC4xNDQgODQuOTE4NiA4OC4xNDRaTTg1LjA2MjYgODcuMjA4Qzg2LjI3NDYgODcuMjA4IDg2LjkzNDYgODYuMzA4IDg2LjkzNDYgODUuMjRDODYuOTM0NiA4NC4xNzIgODYuMjc0NiA4My4yNiA4NS4wNjI2IDgzLjI2QzgzLjkyMjYgODMuMjYgODMuMjE0NiA4NC4xIDgzLjIxNDYgODUuMjRDODMuMjE0NiA4Ni4zNjggODMuOTIyNiA4Ny4yMDggODUuMDYyNiA4Ny4yMDhaTTkwLjIzMjQgODEuNTJDODkuNzI4NCA4MS41MiA4OS4zODA0IDgxLjE0OCA4OS4zODA0IDgwLjY4Qzg5LjM4MDQgODAuMjEyIDg5LjcyODQgNzkuODI4IDkwLjIzMjQgNzkuODI4QzkwLjcyNDQgNzkuODI4IDkxLjA3MjQgODAuMjEyIDkxLjA3MjQgODAuNjhDOTEuMDcyNCA4MS4xNDggOTAuNzI0NCA4MS41MiA5MC4yMzI0IDgxLjUyWk04OS43MTY0IDg4VjgyLjQ2OEg5MC43NDg0Vjg4SDg5LjcxNjRaTTkyLjU1MjMgODhWNzkuNkg5My41OTYzVjg4SDkyLjU1MjNaTTM4Ljc4MTggMTAxLjE0NEMzNy4wMTc4IDEwMS4xNDQgMzYuMDQ1OCA5OS44NzIgMzYuMDQ1OCA5OC4yNEMzNi4wNDU4IDk2LjYwOCAzNy4wODk4IDk1LjMyNCAzOC44MDU4IDk1LjMyNEMzOS42ODE4IDk1LjMyNCA0MC40MDE4IDk1Ljc2OCA0MC43NDk4IDk2LjQ1MlY5NS40NjhINDEuNzgxOFYxMDFINDAuNzQ5OFYxMDAuMDI4QzQwLjQwMTggMTAwLjcxMiAzOS42MDk4IDEwMS4xNDQgMzguNzgxOCAxMDEuMTQ0Wk0zOC45MjU4IDEwMC4yMDhDNDAuMTM3OCAxMDAuMjA4IDQwLjc5NzggOTkuMzA4IDQwLjc5NzggOTguMjRDNDAuNzk3OCA5Ny4xNzIgNDAuMTM3OCA5Ni4yNiAzOC45MjU4IDk2LjI2QzM3Ljc4NTggOTYuMjYgMzcuMDc3OCA5Ny4xIDM3LjA3NzggOTguMjRDMzcuMDc3OCA5OS4zNjggMzcuNzg1OCAxMDAuMjA4IDM4LjkyNTggMTAwLjIwOFpNNDUuMTUxNyAxMDFMNDIuNzE1NyA5NS40NjhINDMuODMxN0w0NS41NzE3IDk5LjYwOEw0Ny4zMjM3IDk1LjQ2OEg0OC40Mzk3TDQ2LjAwMzcgMTAxSDQ1LjE1MTdaTTUxLjU0MzYgMTAxLjE0NEM0OS43Nzk2IDEwMS4xNDQgNDguODA3NiA5OS44NzIgNDguODA3NiA5OC4yNEM0OC44MDc2IDk2LjYwOCA0OS44NTE2IDk1LjMyNCA1MS41Njc2IDk1LjMyNEM1Mi40NDM2IDk1LjMyNCA1My4xNjM2IDk1Ljc2OCA1My41MTE2IDk2LjQ1MlY5NS40NjhINTQuNTQzNlYxMDFINTMuNTExNlYxMDAuMDI4QzUzLjE2MzYgMTAwLjcxMiA1Mi4zNzE2IDEwMS4xNDQgNTEuNTQzNiAxMDEuMTQ0Wk01MS42ODc2IDEwMC4yMDhDNTIuODk5NiAxMDAuMjA4IDUzLjU1OTYgOTkuMzA4IDUzLjU1OTYgOTguMjRDNTMuNTU5NiA5Ny4xNzIgNTIuODk5NiA5Ni4yNiA1MS42ODc2IDk2LjI2QzUwLjU0NzYgOTYuMjYgNDkuODM5NiA5Ny4xIDQ5LjgzOTYgOTguMjRDNDkuODM5NiA5OS4zNjggNTAuNTQ3NiAxMDAuMjA4IDUxLjY4NzYgMTAwLjIwOFpNNTYuODU3NCA5NC41MkM1Ni4zNTM0IDk0LjUyIDU2LjAwNTQgOTQuMTQ4IDU2LjAwNTQgOTMuNjhDNTYuMDA1NCA5My4yMTIgNTYuMzUzNCA5Mi44MjggNTYuODU3NCA5Mi44MjhDNTcuMzQ5NCA5Mi44MjggNTcuNjk3NCA5My4yMTIgNTcuNjk3NCA5My42OEM1Ny42OTc0IDk0LjE0OCA1Ny4zNDk0IDk0LjUyIDU2Ljg1NzQgOTQuNTJaTTU2LjM0MTQgMTAxVjk1LjQ2OEg1Ny4zNzM0VjEwMUg1Ni4zNDE0Wk01OS4xNzczIDEwMVY5Mi42SDYwLjIyMTNWMTAxSDU5LjE3NzNaTTY0LjMxNyAxMDEuMTQ0QzYyLjU1MyAxMDEuMTQ0IDYxLjU4MSA5OS44NzIgNjEuNTgxIDk4LjI0QzYxLjU4MSA5Ni42MDggNjIuNjI1IDk1LjMyNCA2NC4zNDEgOTUuMzI0QzY1LjIxNyA5NS4zMjQgNjUuOTM3IDk1Ljc2OCA2Ni4yODUgOTYuNDUyVjk1LjQ2OEg2Ny4zMTdWMTAxSDY2LjI4NVYxMDAuMDI4QzY1LjkzNyAxMDAuNzEyIDY1LjE0NSAxMDEuMTQ0IDY0LjMxNyAxMDEuMTQ0Wk02NC40NjEgMTAwLjIwOEM2NS42NzMgMTAwLjIwOCA2Ni4zMzMgOTkuMzA4IDY2LjMzMyA5OC4yNEM2Ni4zMzMgOTcuMTcyIDY1LjY3MyA5Ni4yNiA2NC40NjEgOTYuMjZDNjMuMzIxIDk2LjI2IDYyLjYxMyA5Ny4xIDYyLjYxMyA5OC4yNEM2Mi42MTMgOTkuMzY4IDYzLjMyMSAxMDAuMjA4IDY0LjQ2MSAxMDAuMjA4Wk03Mi4xODY4IDk1LjMyNEM3My43NzA4IDk1LjMyNCA3NC44NjI4IDk2LjUxMiA3NC44NjI4IDk4LjI0Qzc0Ljg2MjggOTkuOTMyIDczLjcyMjggMTAxLjE0NCA3Mi4xMjY4IDEwMS4xNDRDNzEuMjc0OCAxMDEuMTQ0IDcwLjUwNjggMTAwLjcxMiA3MC4xNDY4IDEwMC4wMjhWMTAxSDY5LjExNDhWOTIuNkg3MC4xNDY4Vjk2LjQ1MkM3MC41MDY4IDk1Ljc1NiA3MS4yOTg4IDk1LjMyNCA3Mi4xODY4IDk1LjMyNFpNNzEuOTgyOCAxMDAuMjA4QzczLjA1MDggMTAwLjIwOCA3My44MTg4IDk5LjM5MiA3My44MTg4IDk4LjI0QzczLjgxODggOTcuMDg4IDczLjA1MDggOTYuMjYgNzEuOTgyOCA5Ni4yNkM3MC44Nzg4IDk2LjI2IDcwLjA5ODggOTcuMDc2IDcwLjA5ODggOTguMjRDNzAuMDk4OCA5OS4zOTIgNzAuODc4OCAxMDAuMjA4IDcxLjk4MjggMTAwLjIwOFpNNzYuMjA0NyAxMDFWOTIuNkg3Ny4yNDg3VjEwMUg3Ni4yMDQ3Wk04My45NDgzIDk3LjkyOEM4My45NDgzIDk4LjEzMiA4My45NDgzIDk4LjI4OCA4My45MjQzIDk4LjU0SDc5LjY0MDNDNzkuNjY0MyA5OS42MDggODAuMzI0MyAxMDAuMjMyIDgxLjM4MDMgMTAwLjIzMkM4Mi4xMTIzIDEwMC4yMzIgODIuNjE2MyA5OS45NDQgODIuODQ0MyA5OS40MTZIODMuODg4M0M4My42OTYzIDEwMC40MzYgODIuNjc2MyAxMDEuMTQ0IDgxLjM4MDMgMTAxLjE0NEM3OS42NzYzIDEwMS4xNDQgNzguNjA4MyAxMDAuMDE2IDc4LjYwODMgOTguMjI4Qzc4LjYwODMgOTYuNDc2IDc5LjY4ODMgOTUuMzI0IDgxLjMzMjMgOTUuMzI0QzgyLjg5MjMgOTUuMzI0IDgzLjk0ODMgOTYuNDA0IDgzLjk0ODMgOTcuOTI4Wk03OS42NDAzIDk3LjczNkg4Mi45MjgzQzgyLjkyODMgOTYuNzY0IDgyLjMyODMgOTYuMTY0IDgxLjMyMDMgOTYuMTY0QzgwLjMxMjMgOTYuMTY0IDc5LjY4ODMgOTYuOCA3OS42NDAzIDk3LjczNloiIGZpbGw9IiMxNTE1MTUiLz4KPC9zdmc+Cg=="}},wt=(e,t)=>{const i=e.flatMap((e=>e)).flatMap((e=>e.widgetType)).filter((e=>!(0,at.iV)(t,e)));return i.length>0},bt=(e,t,i)=>async(o,n,a)=>{try{await Xe.qG(e,t,i)(o,n,a)}catch(e){a.logger.logException(e)}},Nt=(e,t)=>async(i,o,n)=>{try{await Xe.Oi(e,t)(i,o,n)}catch(e){n.logger.logException(e)}},zt=(e,t)=>async(i,o,n)=>{try{const n=o(),a=n.sections[e],{section:r,markup:s,widgetZones:c,widgetRestrictions:l}=await(0,et.OB)(n,t);await(0,et.g8)(e,n,i);let p=(0,et.qD)(a,r,c,n);const g=[];Object.keys(l).forEach((e=>{const t=l[e].widgetRestrictions;if(t){const i=Object.values(Ke()(n.widgets,p[e].widgets)),o=i.filter((e=>!t.includes(e.type))),a=i.filter((e=>t.includes(e.type)));i.length!==a.length&&(g.push(...o),p=Object.assign(Object.assign({},p),{[e]:Object.assign(Object.assign({},p[e]),{widgets:a.map((e=>e.identifier))})}))}}));const u=new Promise((e=>{g.length?(i(Ie.gW()),requestAnimationFrame((()=>{requestAnimationFrame((async()=>{var t;await i((t=g.map((e=>e.identifier)),async(e,i,{localizationService:o,messaging:n})=>{if(!t.length)return;const a=i(),r=await It(t,a);e(Se(r));const s=o.getLocalization("section.change.restrictedwidgets");n.postMessage(d.u.MESSAGING_WARNING,s,"*"),n.postMessage(d.u.SET_RESTRICTED_WIDGETS,!0,"*")})),e()}))}))):e()}));await u,i(Ie.WG(a,r,s,p,l,g))}catch(e){n.logger.logException(e)}},At=(e,t,i,o)=>async(n,a,r)=>{try{await Xe.Rw(e,t,i,o)(n,a,r)}catch(e){r.logger.logException(e)}};var vt=i(3465),Et=i.n(vt),St=i(7699);const Lt=(e,t,i,o,n=null)=>async(a,r,{logger:s})=>{try{const{widgets:s,widgetVariants:c,metadata:l,markups:p,displayedWidgetVariants:d}=r(),g=s[e],u=d[e],f=Et()(c[u].properties),y=null!=n?n:f,m=l.widgets[g.type],M=await ot.hK(m.markupUrl,y);p.variants[u].isDirty&&a((0,He.z_)(u,f,M));const D={identifier:(0,it.Z)(),name:t,properties:y,conditionTypeParameters:o};return a((0,He.CH)(D,e,M,i)),D.identifier}catch(e){s.logException(e)}},kt=(e,t)=>async(i,o)=>{const{widgets:n,displayedWidgetVariants:a}=o(),r=n[e].variants,s=r.indexOf(t);let c=a[e];c===t&&(c=r[s+1]||r[0]),i((0,St.E)(c,e)),i((0,He.Wi)(e,t))};var xt=i(5836);const Ct=(e,t,i)=>async(o,n,a)=>{try{return xt.w6(e,t,i)(o,n,a)}catch(e){a.logger.logException(e)}},Qt=(e,t)=>(i,o,n)=>{xt.tQ(e,t)(i,o,n)},Pt=(e,t,i,o)=>async(n,a,r)=>{try{await xt.UJ(e,t,i,o)(n,a,r)}catch(e){r.logger.logException(e)}},Yt=(e,t)=>async(i,o,n)=>{try{await xt.kN(e,t)(i,o,n)}catch(e){n.logger.logException(e)}},Ut=(e,t)=>async(i,o,{logger:n,messaging:a})=>{try{i(je(e,t)),a.postMessage(d.u.SAVE_TEMP_CONFIGURATION,null,"*")}catch(e){n.logException(e)}};var Wt=i(6724);const Rt=(e,t,i=null,o=null)=>async(n,a)=>{const s=await n(gt()),{clipboard:c}=a(),l=s.copiedWidgets.length+c.widgets.restrictedWidgets.length;n((0,Wt.M)(e,ae.kQ.AddWidget,t,i,o,l)),n(((e,t)=>(i,o)=>{const{editableAreasConfiguration:n,clipboard:a,widgetZonesConfiguration:s}=o(),{widgetRestrictions:c}=n[e],{copiedWidgets:l,restrictedWidgets:p}=a.widgets,d=[...l,...p];let g=null!==c?d.filter((e=>(0,at.iV)(c,e.widgetType))).map((e=>e.widgetType)):d.map((e=>e.widgetType));t&&(g=g.filter((e=>{var i;const o=null===(i=s[t])||void 0===i?void 0:i.widgetRestrictions;return(0,at.iV)(o,e)}))),i(Ne(r.T.getUniqueValues(g)))})(i,o))},Vt=(e,t,i=null,o=null)=>async(n,a)=>{const r=await n(gt());n((0,Wt.M)(e,ae.kQ.AddSection,t,i,o,r.copiedSections.length)),n((e=>(t,i)=>{const{editableAreasConfiguration:o,clipboard:n}=i(),{copiedSections:a}=n.sections,{sectionRestrictions:r,widgetRestrictions:s}=o[e];let c=a;r&&(c=a.filter((e=>(0,at.iV)(r,e.sectionType)))),s&&(c=c.filter((e=>!wt(e.zones,s))));const l=c.map((e=>e.clipboardItemIdentifier));t(ze(l))})(i))};var Bt=i(4584);var Ft,_t=(0,qe.$)(((e,t)=>({sectionsInArea:e.editableAreas[t.identifier].sections,dragAndDrop:e.dragAndDrop})),(()=>({removeSection:Nt,changeSection:zt})))(Bt.Z),Zt=i(8262),$t=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Gt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let qt=class extends Ge.w3{constructor(){super(...arguments),this.changePropertiesIcon=d.Ei.Properties,this.buttonType=d.L$.Properties}onOpenPropertiesDialog(){this.openModalDialog({componentIdentifier:this.identifier,dialogType:this.dialogType,showFooter:!0})}get localizedButtonTooltip(){return this.$_localizationService.getLocalization(this.buttonTooltip)}};$t([(0,Ge.fI)({required:!0}),Gt("design:type",String)],qt.prototype,"identifier",void 0),$t([(0,Ge.fI)({required:!0}),Gt("design:type",String)],qt.prototype,"buttonTooltip",void 0),$t([(0,Ge.fI)({required:!0}),Gt("design:type","function"==typeof(Ft=void 0!==ae.Ey&&ae.Ey)?Ft:Object)],qt.prototype,"dialogType",void 0),$t([(0,Ge.fI)({default:!1}),Gt("design:type",Boolean)],qt.prototype,"isTemplateButton",void 0),$t([(0,Ge.fI)(),Gt("design:type",Function)],qt.prototype,"openModalDialog",void 0),qt=$t([Ge.wA],qt);var Ht=qt,Jt=i(1900),Kt=(0,Jt.Z)(Ht,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-header-button",{attrs:{"is-template-button":e.isTemplateButton,"button-type":e.buttonType},domProps:{buttonTooltip:e.localizedButtonTooltip,icon:e.changePropertiesIcon},on:{click:e.onOpenPropertiesDialog}})}),[],!1,null,null,null).exports;const Xt=(e,t,i)=>{const{componentIdentifier:o,dialogType:n}=e,{displayedWidgetVariants:a,metadata:r,sections:s,widgets:c,pageTemplate:l,widgetVariants:p}=t;let g;switch(n){case ae.Ey.WidgetProperties:g={title:r.widgets[c[o].type].name,markupUrl:r.widgets[c[o].type].propertiesFormMarkupUrl,model:p[a[o]].properties,theme:d.Q2.Widget};break;case ae.Ey.SectionProperties:g={title:r.sections[s[o].type].name,markupUrl:r.sections[s[o].type].propertiesFormMarkupUrl,model:s[o].properties,theme:d.Q2.Section};break;case ae.Ey.TemplateProperties:g={title:r.pageTemplates[l.identifier].name,markupUrl:r.pageTemplates[l.identifier].propertiesFormMarkupUrl,model:l.properties,theme:d.Q2.Template}}return Object.assign(Object.assign({},g),{title:i.getLocalization("widgetproperties.header",g.title)})};var ei,ti=(0,qe.$)((()=>({})),(()=>({openModalDialog:new Zt.A(Xt).openModalDialog})))(Kt),ii=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},oi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ni=class extends Ge.w3{get buttonTitle(){return this.$_localizationService.getLocalization(this.tooltip)}async onCopy(){await this.copy(this.identifier)}};ii([(0,Ge.fI)(),oi("design:type",String)],ni.prototype,"tooltip",void 0),ii([(0,Ge.fI)({required:!0}),oi("design:type",String)],ni.prototype,"identifier",void 0),ii([(0,Ge.fI)(),oi("design:type","function"==typeof(ei=void 0!==o.CopyAction&&o.CopyAction)?ei:Object)],ni.prototype,"copy",void 0),ni=ii([Ge.wA],ni);var ai=ni,ri=(0,Jt.Z)(ai,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-header-button",{attrs:{title:e.buttonTitle,icon:"icon-doc-copy"},on:{click:function(t){return t.stopPropagation(),e.onCopy.apply(null,arguments)}}})}),[],!1,null,null,null),si=ri.exports;const ci=(0,qe.$)((()=>({})),(()=>({copy:st})))(si),li=(0,qe.$)((()=>({})),(()=>({copy:ct})))(si);var pi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},di=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let gi=class extends Ge.w3{constructor(){super(...arguments),this.buttonType=d.L$.Properties,this.propertiesDialogType=ae.Ey.SectionProperties,this.copyButtonTooltip="clipboard.sections.copybutton.tooltip"}};pi([(0,Ge.fI)({required:!0}),di("design:type",String)],gi.prototype,"sectionIdentifier",void 0),pi([(0,Ge.fI)(),di("design:type",Boolean)],gi.prototype,"showPropertiesButton",void 0),gi=pi([(0,Ge.wA)({components:{SectionPropertiesButton:ti,CopySectionButton:li}})],gi);var ui=gi,fi=(0,Jt.Z)(ui,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showPropertiesButton?i("SectionPropertiesButton",{attrs:{identifier:e.sectionIdentifier,dialogType:e.propertiesDialogType,"button-type":e.buttonType,buttonTooltip:"section.propertiesButtonTooltip"}}):e._e(),e._v(" "),i("CopySectionButton",{attrs:{identifier:e.sectionIdentifier,tooltip:e.copyButtonTooltip}})],1)}),[],!1,null,null,null),yi=fi.exports;var mi,Mi,Di=(0,qe.$)(((e,t)=>{const i=e.sections[t.sectionIdentifier];return{showPropertiesButton:!!i&&e.metadata.sections[i.type].hasProperties}}))(yi),Ii=i(460),hi=i(2858),Oi=i(5844),ji=i(22),Ti=i(5463),wi=i(932),bi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Ni=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let zi=class extends Ge.w3{constructor(){super(...arguments),this.buttonType=d.L$.Personalization,this.builderConfig=v.ey,this.httpClient=v.dJ}onOpenPersonalizationPopup(){if(this.isPersonalizationOpen)return void this.closePopup();const e=this.$refs.personalizationButton;this.openPopup(this.widgetIdentifier,(0,wi.b)(e.getBoundingClientRect(),le.TL),ae.kQ.Personalization)}selectVariant(e){this.selectWidgetVariant(this.widgetIdentifier,e.key)}addVariant(e,t,i){this.addWidgetVariant(this.widgetIdentifier,e,t,i)}updateVariant(e,t,i){this.updateWidgetConditionTypeParameters(i,e,t)}deleteVariant(e){this.removeWidgetVariant(this.widgetIdentifier,e)}changeVariantsOrder(e){this.changeVariantsPriority(this.widgetIdentifier,e)}onClickAway(e){this.$nextTick((()=>{this.isPersonalizationOpen&&!r.qw.isFriendlyElementSelected(e,this.friendlyElementSelectors)&&this.closePopup()}))}};bi([(0,Ge.fI)({required:!0}),Ni("design:type",String)],zi.prototype,"widgetIdentifier",void 0),bi([(0,Ge.fI)(),Ni("design:type",Boolean)],zi.prototype,"isPersonalizationOpen",void 0),bi([(0,Ge.fI)(),Ni("design:type",Array)],zi.prototype,"popupItems",void 0),bi([(0,Ge.fI)(),Ni("design:type","function"==typeof(mi=void 0!==ae.Mi&&ae.Mi)?mi:Object)],zi.prototype,"personalizationDialogPosition",void 0),bi([(0,Ge.fI)(),Ni("design:type",String)],zi.prototype,"activeItemIdentifier",void 0),bi([(0,Ge.fI)(),Ni("design:type",String)],zi.prototype,"conditionType",void 0),bi([(0,Ge.fI)(),Ni("design:type","function"==typeof(Mi=void 0!==P.Entities&&P.Entities)?Mi:Object)],zi.prototype,"personalizationConditionTypes",void 0),bi([(0,Ge.fI)({default:()=>[]}),Ni("design:type",Array)],zi.prototype,"friendlyElementSelectors",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"addWidgetVariant",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"updateWidgetConditionTypeParameters",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"removeWidgetVariant",void 0),bi([(0,Ge.fI)(),Ni("design:type",Function)],zi.prototype,"closePopup",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"openPopup",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"selectWidgetVariant",void 0),bi([(0,Ge.fI)(),Ni("design:type",Object)],zi.prototype,"changeVariantsPriority",void 0),zi=bi([(0,Ge.wA)({mixins:[Ti.jB]})],zi);var Ai=zi,vi=(0,Jt.Z)(Ai,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-personalization-button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onClickAway,expression:"onClickAway"}],ref:"personalizationButton",attrs:{"show-personalization-popup":e.isPersonalizationOpen,"button-type":e.buttonType},domProps:{localizationService:e.$_localizationService,builderConfig:e.builderConfig,httpClient:e.httpClient,popupItems:e.popupItems,activeItemIdentifier:e.activeItemIdentifier,personalizationPopupPosition:e.personalizationDialogPosition,personalizationConditionTypes:e.personalizationConditionTypes,conditionType:e.conditionType,selectVariant:e.selectVariant,addVariant:e.addVariant,updateVariant:e.updateVariant,deleteVariant:e.deleteVariant,changeVariantsPriority:e.changeVariantsOrder},on:{openPersonalizationPopup:e.onOpenPersonalizationPopup,closePersonalizationPopup:e.closePopup}})}),[],!1,null,null,null).exports;const Ei=(e,t,{widgets:i,metadata:o,widgetVariants:n})=>{const s=Object.values(Ke()(n,i[t].variants));return e?(e=>{const t=(0,a.ko)(d.rv.LocalizationService).getLocalization("variant.original");let i;const o=Et()(e).reverse().map(((e,o)=>(e.name||(i=o),{name:e.name||t,iconClass:null,key:e.identifier,description:e.name||t,renderActionButtons:!!e.name,parameters:e.conditionTypeParameters})));return r.T.move(o,i,o.length-1)})(s):(0,a.ko)(d.rv.PopUpElementsService).getWidgetElements(Object.values(o.personalizationConditionTypes))};var Si,Li=(0,qe.$)(((e,{widgetIdentifier:t})=>{const{widgets:i,widgetVariants:o,displayedWidgetVariants:n,popup:a,metadata:r}=e,s=i[t]?i[t].conditionType:null,c=t===a.componentIdentifier&&a.popupType===ae.kQ.Personalization,l=i[t]?Ei(!!s,t,e):[],p=n[t]?o[n[t]].identifier:null,d=r.personalizationConditionTypes;return{isPersonalizationOpen:c,popupItems:l,personalizationDialogPosition:a.position,activeItemIdentifier:p,conditionType:s,personalizationConditionTypes:d,friendlyElementSelectors:[`.${Oi.M}`]}}),(()=>({addWidgetVariant:Lt,updateWidgetConditionTypeParameters:He.jS,removeWidgetVariant:kt,openPopup:Ie.Mw,closePopup:Ie.j4,selectWidgetVariant:ji.Ej,changeVariantsPriority:Oe})))(vi),ki=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},xi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ci=class extends Ge.w3{constructor(){super(...arguments),this.showHeaderBelow=!1,this.propertiesDialogType=ae.Ey.WidgetProperties,this.copyButtonTooltip="clipboard.widgets.copybutton.tooltip"}get isPersonalizationAvailable(){return v.ey.featureSet.personalizationEnabled&&!r.rq.isEmpty(this.personalizationConditionTypes)}get headerClasses(){return{"ktc-widget-header--top":!this.showHeaderBelow,"ktc-widget-header--bottom":this.showHeaderBelow,"ktc-widget-header--hidden":!this.showWidgetHeader}}mounted(){this.ensureHeaderPosition()}updated(){this.ensureHeaderPosition()}ensureHeaderPosition(){this.showHeaderBelow=this.widgetTopOffset<this.$el.clientHeight}};ki([(0,Ge.fI)({required:!0}),xi("design:type",String)],Ci.prototype,"widgetTitle",void 0),ki([(0,Ge.fI)({required:!0}),xi("design:type",String)],Ci.prototype,"widgetIdentifier",void 0),ki([(0,Ge.fI)({required:!0}),xi("design:type",Number)],Ci.prototype,"widgetTopOffset",void 0),ki([(0,Ge.fI)(),xi("design:type",Boolean)],Ci.prototype,"showWidgetHeader",void 0),ki([(0,Ge.fI)(),xi("design:type","function"==typeof(Si=void 0!==P.Entities&&P.Entities)?Si:Object)],Ci.prototype,"personalizationConditionTypes",void 0),ki([(0,Ge.fI)(),xi("design:type",Boolean)],Ci.prototype,"showPropertiesButton",void 0),Ci=ki([(0,Ge.wA)({components:{WidgetPropertiesButton:ti,WidgetPersonalization:Li,CopyWidgetButton:ci}})],Ci);var Qi=Ci,Pi=(0,Jt.Z)(Qi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("kentico-widget-header",{class:e.headerClasses,domProps:{localizationService:e.$_localizationService,widgetTitle:e.widgetTitle},on:{removeWidget:function(t){return e.$emit(t.type)}}},[i("div",{staticClass:"ktc-extra-header-buttons",attrs:{slot:"extraHeaderButtons"},slot:"extraHeaderButtons"},[e.isPersonalizationAvailable?i("WidgetPersonalization",{attrs:{widgetIdentifier:e.widgetIdentifier}}):e._e(),e._v(" "),e.showPropertiesButton?i("WidgetPropertiesButton",{attrs:{identifier:e.widgetIdentifier,dialogType:e.propertiesDialogType,buttonTooltip:"widget.propertiesButtonTooltip"}}):e._e(),e._v(" "),i("CopyWidgetButton",{attrs:{identifier:e.widgetIdentifier,tooltip:e.copyButtonTooltip}})],1)])}),[],!1,null,"b9e6002c",null),Yi=Pi.exports;var Ui=(0,qe.$)(((e,{widgetIdentifier:t})=>{const{widgets:i,widgetSelection:o,dragAndDrop:n,highlightedWidget:a,metadata:r}=e;return{showWidgetHeader:(a===t||o.identifier===t)&&!n.itemIdentifier,personalizationConditionTypes:r.personalizationConditionTypes,showPropertiesButton:!!i[t]&&r.widgets[i[t].type].hasEditableProperties}}))(Yi),Wi=i(7142);var Ri=(0,qe.$)(((e,t)=>{const{dragAndDrop:i,widgets:o,popup:n,zones:a,sections:r}=e,{sectionIdentifier:s,zoneIndex:c}=t,l=r[s]?r[s].zones[c]:"";return{zoneIdentifier:l,dragAndDrop:i,zone:a[l],popup:n,widgetsInZone:a[l]?a[l].widgets.map((e=>o[e])):[]}}),(()=>({removeWidget:Qt,closePopup:Ie.j4,openPopup:(e,t,i=null,o=null)=>Rt(e,t,i,o)})))(Wi.Z),Vi=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Bi=class extends hi.H{};Bi=Vi([(0,Ge.wA)({components:{WidgetZone:Ri,WidgetHeader:Ui}})],Bi);var Fi=Bi,_i=(0,Jt.Z)(Fi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("WidgetZone",{attrs:{sectionIdentifier:e.sectionIdentifier,zoneIndex:e.zoneIndex,areaIdentifier:e.areaIdentifier},scopedSlots:e._u([{key:"widgetHeader",fn:function(e){var t=e.widgetTitle,o=e.widgetIdentifier,n=e.widgetTopOffset;return i("WidgetHeader",{attrs:{widgetTitle:t,widgetIdentifier:o,widgetTopOffset:n}})}}])})}),[],!1,null,null,null),Zi=_i.exports,$i=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let Gi=class extends((0,Ge.Wr)(Ii.r)){created(){this.widgetZone=Zi}};Gi=$i([Ge.wA],Gi);var qi=Gi,Hi=(0,Jt.Z)(qi,undefined,undefined,!1,null,null,null).exports,Ji=i(8076),Ki=i(9511);var Xi=(0,qe.$)((({popup:e},{sectionIdentifier:t})=>({isSectionListOpen:e.componentIdentifier===t&&e.popupType===ae.kQ.AddSection})),(()=>({closePopup:Ki.j4,openPopup:Vt,setPopupPosition:Ki.FO})))(Ji.Z),eo=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},to=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let io=class extends Ge.w3{};eo([(0,Ge.fI)({required:!0}),to("design:type",String)],io.prototype,"identifier",void 0),io=eo([(0,Ge.wA)({components:{EditableArea:_t,SectionMarkup:Hi,SectionHeaderExtraButtons:Di,SectionDivider:Xi}})],io);var oo=io,no=(0,Jt.Z)(oo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("EditableArea",{attrs:{identifier:e.identifier},scopedSlots:e._u([{key:"sectionMarkup",fn:function(t){var o=t.sectionMarkup,n=t.sectionIdentifier;return i("SectionMarkup",{attrs:{sectionMarkup:o,sectionIdentifier:n,areaIdentifier:e.identifier}})}},{key:"sectionHeaderExtraButtons",fn:function(e){var t=e.sectionIdentifier;return i("SectionHeaderExtraButtons",{attrs:{sectionIdentifier:t}})}},{key:"sectionDivider",fn:function(e){var t=e.sectionIdentifier,o=e.areaIdentifier;return i("SectionDivider",{attrs:{sectionIdentifier:t,areaIdentifier:o}})}}])})}),[],!1,null,null,null),ao=no.exports,ro=i(6052),so=i(1660);var co=(0,qe.$)((({modalDialogs:e,popup:t})=>({modalDialogs:e.dialogs.filter((e=>e.type===ae.Ey.Custom)),popupType:t.popupType})),(()=>({selectItem:new so.m(Ct,bt).selectItem})))(ro.Z),lo=i(3245),po=i(4313);class go{constructor(e,t,i){this.setWidgetPropertiesThunk=e,this.setSectionPropertiesThunk=t,this.setPageTemplatePropertiesThunk=i,this.submitPropertiesDialogForm=(e,t,i,o)=>async(n,a,r)=>{try{const r=await(0,po.M)(t,o);if(this.isFormValid(r)){const{modalDialogs:t}=a(),o=t.dialogs[e],s=Object.assign({},i,r.data.properties);if(!Pe()(i,s)){const e=this.getSetPropertiesThunk(o.type);await n(e(o.identifier,s))}n((0,ji.nf)(e))}else n((0,lo.tL)(e)),n((0,lo.wD)(e,r.data))}catch(e){r.logger.logException(e)}},this.getSetPropertiesThunk=e=>{switch(e){case ae.Ey.WidgetProperties:return this.setWidgetPropertiesThunk;case ae.Ey.SectionProperties:return this.setSectionPropertiesThunk;case ae.Ey.TemplateProperties:return this.setPageTemplatePropertiesThunk}},this.isFormValid=e=>"valid"===e.status}}var uo,fo=i(3538),yo=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},mo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Mo=class extends Ge.w3{constructor(){super(...arguments),this.dialogIndex=0,this.formChanged=!1}get dialogConfiguration(){return{title:this.componentName,showFooter:!0,applyButtonText:this.$_localizationService.getLocalization("widgetproperties.apply"),cancelButtonText:this.$_localizationService.getLocalization("widgetproperties.cancel"),tabs:null,theme:this.dialogTheme,showLoader:!1,dialogIndex:this.dialogIndex,openedDialogsCount:this.dialogsCount,width:"600px",maximized:!1,setPosition:!1}}get modalDialogStyles(){return this.dialogsCount>1?{}:{top:0,left:0,bottom:0,right:0,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10200}}get dialogMessages(){return{unsavedChanges:this.$_localizationService.getLocalization("modalDialog.close.confirmation"),loaderMessage:this.$_localizationService.getLocalization("modaldialogs.loading"),closeTooltip:this.$_localizationService.getLocalization("typelist.closeTooltip")}}async mounted(){(0,fo.J)(document),await this.fetchMarkup(this.dialogIndex,this.propertiesFormUrl,this.properties)}beforeDestroy(){0===this.dialogIndex&&(0,fo.h)(document)}async onSubmitPropertiesForm(e){await this.submitDialogForm(this.dialogIndex,e.detail.configurationForm.getAttribute("action"),this.properties,e.detail.formData)}onFormChange(){this.formChanged=!0}onDialogClose(){this.closeDialog(this.dialogIndex)}async onDialogApply(){await this.$refs.propertiesForm.validateProperties()}};yo([(0,Ge.fI)(),mo("design:type",String)],Mo.prototype,"formMarkup",void 0),yo([(0,Ge.fI)(),mo("design:type",Object)],Mo.prototype,"properties",void 0),yo([(0,Ge.fI)(),mo("design:type",String)],Mo.prototype,"propertiesFormUrl",void 0),yo([(0,Ge.fI)(),mo("design:type",String)],Mo.prototype,"componentName",void 0),yo([(0,Ge.fI)(),mo("design:type",Boolean)],Mo.prototype,"formIsValid",void 0),yo([(0,Ge.fI)(),mo("design:type",String)],Mo.prototype,"dialogId",void 0),yo([(0,Ge.fI)(),mo("design:type","function"==typeof(uo=void 0!==d.Q2&&d.Q2)?uo:Object)],Mo.prototype,"dialogTheme",void 0),yo([(0,Ge.fI)(),mo("design:type",Number)],Mo.prototype,"dialogsCount",void 0),yo([(0,Ge.fI)(),mo("design:type",Function)],Mo.prototype,"closeDialog",void 0),yo([(0,Ge.fI)(),mo("design:type",Function)],Mo.prototype,"fetchMarkup",void 0),yo([(0,Ge.fI)(),mo("design:type",Function)],Mo.prototype,"submitDialogForm",void 0),Mo=yo([Ge.wA],Mo);var Do=Mo,Io=(0,Jt.Z)(Do,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("kentico-modal-dialog",{style:e.modalDialogStyles,attrs:{id:e.dialogId},domProps:{configuration:e.dialogConfiguration,messages:e.dialogMessages,isModified:e.formChanged},on:{apply:e.onDialogApply,close:e.onDialogClose}},[i("kentico-properties-form",{ref:"propertiesForm",domProps:{localizationService:e.$_localizationService,formMarkup:e.formMarkup,componentName:e.componentName,isValid:e.formIsValid,theme:e.dialogTheme,openedDialogsCount:e.dialogsCount},on:{submitPropertiesForm:e.onSubmitPropertiesForm,formChange:e.onFormChange}})],1)}),[],!1,null,null,null),ho=Io.exports;var Oo=(0,qe.$)((e=>{const{modalDialogs:t}=e,i=t.dialogs[0];if(!i)return null;const{type:o,markup:n,isValid:a,title:r,markupUrl:s,model:c}=i;return{componentName:r,dialogId:le.po,dialogType:o,dialogTheme:t.theme,formMarkup:n,properties:c,propertiesFormUrl:s,formIsValid:a,dialogsCount:t.dialogs.length}}),(()=>({closeDialog:ji.nf,fetchMarkup:ji.fh,submitDialogForm:new go(Yt,ji.Tv,Ut).submitPropertiesDialogForm})))(ho),jo=i(7110),To=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},wo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let bo=class extends Ge.w3{constructor(){super(...arguments),this.changeTemplateIcon=d.Ei.Change,this.buttonType=d.L$.Change}openChangeTemplatePopup(){this.openModalDialog({url:this.dialogUrl,data:{currentTemplateIdentifier:this.currentTemplateIdentifier},title:this.$_localizationService.getLocalization("template.change"),theme:d.Q2.Template,applyCallback:this.applyCallback,showFooter:!0})}changePageTemplate(e){A.postMessage(d.u.CONFIGURATION_CHANGED,null,"*"),A.postMessage(d.u.CHANGE_TEMPLATE,e,"*")}get localizedButtonTooltip(){return this.$_localizationService.getLocalization(this.buttonTooltip)}async applyCallback(e){const t=e.document.querySelector(".ktc-FlatSelectedItem");if(!!!t)return{closeDialog:!1};if(t.getAttribute("data-identifier")===this.currentTemplateIdentifier)return{closeDialog:!0};const i=this.$_localizationService.getLocalization("template.change.confirmation");if(!await(0,jo.i)(i))return{closeDialog:!1};const o=t.dataset.identifier;return this.changePageTemplate(o),{closeDialog:!0}}};To([(0,Ge.fI)({required:!0}),wo("design:type",String)],bo.prototype,"buttonTooltip",void 0),To([(0,Ge.fI)(),wo("design:type",String)],bo.prototype,"dialogUrl",void 0),To([(0,Ge.fI)(),wo("design:type",String)],bo.prototype,"currentTemplateIdentifier",void 0),To([(0,Ge.fI)(),wo("design:type",Function)],bo.prototype,"openModalDialog",void 0),bo=To([Ge.wA],bo);var No=bo,zo=(0,Jt.Z)(No,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-header-button",{attrs:{"is-template-button":!0,"button-type":e.buttonType},domProps:{buttonTooltip:e.localizedButtonTooltip,icon:e.changeTemplateIcon},on:{click:e.openChangeTemplatePopup}})}),[],!1,null,null,null).exports;var Ao=(0,qe.$)((({config:e,pageTemplate:t})=>({currentTemplateIdentifier:t.configurationIdentifier?t.configurationIdentifier:t.identifier,dialogUrl:e.pageTemplate.selectorDialogEndpoint})),(()=>({openModalDialog:U.G3})))(zo),vo=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Eo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let So=class extends Ge.w3{constructor(){super(...arguments),this.templateDialogType=ae.Ey.TemplateProperties}};vo([(0,Ge.fI)({required:!0}),Eo("design:type",String)],So.prototype,"templateIdentifier",void 0),vo([(0,Ge.fI)({required:!0}),Eo("design:type",Boolean)],So.prototype,"hasTemplate",void 0),vo([(0,Ge.fI)({required:!0}),Eo("design:type",Boolean)],So.prototype,"hasTemplateProperties",void 0),So=vo([(0,Ge.wA)({components:{TemplatePropertiesButton:ti,ChangeTemplateButton:Ao}})],So);var Lo,ko,xo,Co,Qo=So,Po=(0,Jt.Z)(Qo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ktc-template-header"},[e.hasTemplate?i("ChangeTemplateButton",{attrs:{buttonTooltip:"template.changebuttontooltip"}}):e._e(),e._v(" "),e.hasTemplateProperties?i("TemplatePropertiesButton",{attrs:{buttonTooltip:"template.propertiesbuttontooltip",identifier:e.templateIdentifier,isTemplateButton:!0,dialogType:e.templateDialogType}}):e._e()],1)}),[],!1,null,null,null),Yo=Po.exports,Uo=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Wo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ro=class extends Ge.w3{onItemSelect({detail:e}){e.disabled||this.pasteItem(e.key)}onDeleteWidgetFromClipboard({detail:e}){e.deletable&&this.deleteItemFromClipboard(e.key)}onItemMouseEnter({detail:e}){const{key:t,rect:i}=e,o=window.scrollY+i.top+i.height,n=window.scrollX+i.left;this.showThumbnail(t,o,n)}onItemMouseLeave({detail:e}){this.hideThumbnail(e)}};Uo([(0,Ge.fI)(),Wo("design:type",Boolean)],Ro.prototype,"showItems",void 0),Uo([(0,Ge.fI)(),Wo("design:type",Boolean)],Ro.prototype,"doubleColumn",void 0),Uo([(0,Ge.fI)(),Wo("design:type",Array)],Ro.prototype,"popupItems",void 0),Uo([(0,Ge.fI)(),Wo("design:type",String)],Ro.prototype,"headerText",void 0),Uo([(0,Ge.fI)(),Wo("design:type","function"==typeof(Lo=void 0!==n.PasteItem&&n.PasteItem)?Lo:Object)],Ro.prototype,"pasteItem",void 0),Uo([(0,Ge.fI)(),Wo("design:type","function"==typeof(ko=void 0!==n.ShowThumbnail&&n.ShowThumbnail)?ko:Object)],Ro.prototype,"showThumbnail",void 0),Uo([(0,Ge.fI)(),Wo("design:type","function"==typeof(xo=void 0!==n.HideThumbnail&&n.HideThumbnail)?xo:Object)],Ro.prototype,"hideThumbnail",void 0),Uo([(0,Ge.fI)(),Wo("design:type","function"==typeof(Co=void 0!==n.DeleteItem&&n.DeleteItem)?Co:Object)],Ro.prototype,"deleteItemFromClipboard",void 0),Ro=Uo([Ge.wA],Ro);var Vo=Ro,Bo=(0,Jt.Z)(Vo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showItems&&e.popupItems.length?i("div",[i("kentico-popup-content-header",{attrs:{text:e.headerText}}),e._v(" "),i("kentico-pop-up-listing",{domProps:{items:e.popupItems,doubleColumn:e.doubleColumn},on:{selectItem:function(t){return t.stopPropagation(),e.onItemSelect.apply(null,arguments)},removeItem:function(t){return t.stopPropagation(),e.onDeleteWidgetFromClipboard.apply(null,arguments)},itemMouseEnter:e.onItemMouseEnter,itemMouseLeave:e.onItemMouseLeave}})],1):e._e()}),[],!1,null,"6fabc5cc",null),Fo=Bo.exports;var _o=(0,qe.$)((({metadata:e,clipboard:t,popup:i,editableAreasConfiguration:o,widgetZonesConfiguration:n})=>{const r=(0,a.ko)(d.rv.LocalizationService),{copiedWidgets:s,pastableWidgets:c}=t.widgets,l=r.getLocalization("clipboard.deletebuttontooltip"),p=r.getLocalization("widget.copiedwidgets.popup.header"),g=s.map((({widgetType:t,clipboardItemIdentifier:a,conditionType:s})=>{var p,d,g,u,f,y;const{name:m,description:M,iconClass:D}=e.widgets[t],I=!c.includes(t);let h=M;if(I){const e=!(null===(g=null===(d=null===(p=o[i.areaIdentifier])||void 0===p?void 0:p.widgetRestrictions)||void 0===d?void 0:d.includes(t))||void 0===g||g);h=!(null===(y=null===(f=null===(u=n[i.zoneIdentifier])||void 0===u?void 0:u.widgetRestrictions)||void 0===f?void 0:f.includes(t))||void 0===y||y)&&e?r.getLocalization("widgetlist.copiedwidget.zoneareanotallowed"):e?r.getLocalization("widgetlist.copiedwidget.notallowed"):r.getLocalization("widgetlist.copiedwidget.zonenotallowed")}const O={name:m,iconClass:D,description:h,key:a,disabled:I,deletable:!0,deleteButtonTitle:l};if(s){const e=r.getLocalization("clipboard.widgets.tooltipwithvariants",O.name);return Object.assign(Object.assign({},O),{tooltip:O.description?`${e}\n${O.description}`:e,secondaryIconClass:"icon-personalisation-variants"})}return O}));return{popupItems:g,showItems:i.popupType===ae.kQ.AddWidget&&t.widgets.copiedWidgets.length>0,doubleColumn:i.doubleColumn,headerText:p}}),(()=>({pasteItem:pt,showThumbnail:ke,hideThumbnail:xe,deleteItemFromClipboard:ft})))(Fo);var Zo=(0,qe.$)((({metadata:e,clipboard:t,popup:i})=>{const o=(0,a.ko)(d.rv.LocalizationService),{copiedSections:n,pastableSections:r}=t.sections,s=o.getLocalization("clipboard.deletebuttontooltip"),c=o.getLocalization("section.copiedsections.popup.header"),l=n.map((({clipboardItemIdentifier:t,sectionType:i,zones:n})=>{const{name:a,description:c,iconClass:l}=e.sections[i],p=!r.includes(t),d=n.flatMap((e=>e)).some((e=>e.conditionType));let g=p?o.getLocalization("sectionlist.copiedsection.notallowed"):c;const u={name:a,iconClass:l,description:g,key:t,disabled:p,deletable:!0,deleteButtonTitle:s};if(d){return g=`${o.getLocalization("sectionlist.copiedsection.tooltipwithvariants",a)}\n${g}`,Object.assign(Object.assign({},u),{secondaryIconClass:"icon-personalisation-variants",tooltip:g})}return u}));return{popupItems:l,showItems:i.popupType===ae.kQ.AddSection&&t.sections.copiedSections.length>0,doubleColumn:i.doubleColumn,headerText:c}}),(()=>({pasteItem:dt,showThumbnail:ke,hideThumbnail:xe,deleteItemFromClipboard:ut})))(Fo);var $o=(0,qe.$)((({metadata:e,clipboard:t,popup:i,editableAreasConfiguration:o,widgetZonesConfiguration:n})=>{const r=(0,a.ko)(d.rv.LocalizationService),{restrictedWidgets:s,pastableWidgets:c}=t.widgets,l=r.getLocalization("clipboard.deletebuttontooltip"),p=r.getLocalization("widget.restrictedwidgets.popup.header"),g=s.map((({widgetType:t,clipboardItemIdentifier:a,conditionType:s})=>{var p,d,g,u,f,y;const{name:m,description:M,iconClass:D}=e.widgets[t],I=!c.includes(t);let h=M;if(I){const e=!(null===(g=null===(d=null===(p=o[i.areaIdentifier])||void 0===p?void 0:p.widgetRestrictions)||void 0===d?void 0:d.includes(t))||void 0===g||g);h=!(null===(y=null===(f=null===(u=n[i.zoneIdentifier])||void 0===u?void 0:u.widgetRestrictions)||void 0===f?void 0:f.includes(t))||void 0===y||y)&&e?r.getLocalization("widgetlist.copiedwidget.zoneareanotallowed"):e?r.getLocalization("widgetlist.copiedwidget.notallowed"):r.getLocalization("widgetlist.copiedwidget.zonenotallowed")}const O={name:m,iconClass:D,description:h,key:a,disabled:I,deletable:!0,deleteButtonTitle:l};if(s){const e=r.getLocalization("clipboard.widgets.tooltipwithvariants",O.name);return Object.assign(Object.assign({},O),{tooltip:O.description?`${e}\n${O.description}`:e,secondaryIconClass:"icon-personalisation-variants"})}return O}));return{popupItems:g,showItems:i.popupType===ae.kQ.AddWidget&&t.widgets.restrictedWidgets.length>0,doubleColumn:i.doubleColumn,headerText:p}}),(()=>({pasteItem:mt,showThumbnail:ke,hideThumbnail:xe,deleteItemFromClipboard:yt})))(Fo),Go=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},qo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ho=class extends Ge.w3{get widgetsListingHeaderText(){return this.$_localizationService.getLocalization("widget.widgets.popup.header")}get popupContentHeaderText(){return this.showWidgetClipboardEntries?this.$_localizationService.getLocalization("widget.widgets.popup.header"):this.showSectionClipboardEntries?this.$_localizationService.getLocalization("section.sections.popup.header"):void 0}};Go([(0,Ge.fI)(),qo("design:type",Boolean)],Ho.prototype,"showWidgetClipboardEntries",void 0),Go([(0,Ge.fI)(),qo("design:type",Boolean)],Ho.prototype,"showSectionClipboardEntries",void 0),Ho=Go([(0,Ge.wA)({components:{RestrictedWidgetsList:$o,CopiedWidgetsList:_o,CopiedSectionsList:Zo}})],Ho);var Jo=Ho,Ko=(0,Jt.Z)(Jo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showWidgetClipboardEntries||e.showSectionClipboardEntries?i("div",{staticClass:"ktc-clipboard-entries"},[i("RestrictedWidgetsList"),e._v(" "),i("CopiedWidgetsList"),e._v(" "),i("CopiedSectionsList"),e._v(" "),i("kentico-popup-content-header",{attrs:{text:e.popupContentHeaderText}})],1):e._e()}),[],!1,null,"92a020a4",null),Xo=Ko.exports;var en=(0,qe.$)((({clipboard:e,popup:t})=>({showWidgetClipboardEntries:t.popupType===ae.kQ.AddWidget&&(e.widgets.copiedWidgets.length>0||e.widgets.restrictedWidgets.length>0),showSectionClipboardEntries:t.popupType===ae.kQ.AddSection&&e.sections.copiedSections.length>0})))(Xo),tn=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},on=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let nn=class extends Ge.w3{};tn([(0,Ge.fI)(),on("design:type",Array)],nn.prototype,"thumbnails",void 0),nn=tn([Ge.wA],nn);var an=nn,rn=(0,Jt.Z)(an,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition-group",{attrs:{name:"ktc-thumbnails"}},e._l(e.thumbnails,(function(e){return i("kentico-thumbnail",{key:e.identifier,staticClass:"ktc-clipboard-thumbnail",style:{left:e.left+"px",top:e.top+"px"},domProps:{imageUrl:e.url}})})),1)}),[],!1,null,"a8db3aac",null),sn=rn.exports;const cn=({widgets:e,thumbnails:t})=>i=>{const o=e.copiedWidgets.find((e=>e.clipboardItemIdentifier===i)),n=e.restrictedWidgets.find((e=>e.clipboardItemIdentifier===i));return Object.assign(Object.assign({},t[i]),{identifier:i,url:(null==o?void 0:o.thumbnail)||(null==n?void 0:n.thumbnail)})},ln=({sections:e,thumbnails:t})=>i=>{const o=e.copiedSections.find((e=>e.clipboardItemIdentifier===i));return Object.assign(Object.assign({},t[i]),{identifier:i,url:null==o?void 0:o.thumbnail})};var pn=(0,qe.$)((({clipboard:e,popup:t})=>{const i=Object.keys(e.thumbnails);if(!i.length)return{thumbnails:[]};let o;return t.popupType===ae.kQ.AddWidget?o=cn(e):t.popupType===ae.kQ.AddSection&&(o=ln(e)),{thumbnails:o?i.map(o):[]}}))(sn),dn=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},gn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let un=class extends Ge.w3{};dn([(0,Ge.fI)(),gn("design:type",Boolean)],un.prototype,"hasTemplate",void 0),dn([(0,Ge.fI)(),gn("design:type",Boolean)],un.prototype,"hasTemplateProperties",void 0),dn([(0,Ge.fI)(),gn("design:type",String)],un.prototype,"templateIdentifier",void 0),dn([(0,Ge.fI)(),gn("design:type",Boolean)],un.prototype,"showPropertiesDialog",void 0),un=dn([(0,Ge.wA)({components:{PropertiesDialog:Oo,TemplateButtons:Yo,GlobalComponentWrapper:co,Clipboard:en,ClipboardThumbnails:pn}})],un);var fn=un,yn=(0,Jt.Z)(fn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("GlobalComponentWrapper",[e.hasTemplate||e.hasTemplateProperties?i("TemplateButtons",{attrs:{templateIdentifier:e.templateIdentifier,hasTemplate:e.hasTemplate,hasTemplateProperties:e.hasTemplateProperties}}):e._e(),e._v(" "),e.showPropertiesDialog?i("PropertiesDialog"):e._e(),e._v(" "),i("Clipboard",{attrs:{slot:"pop-up-content-top"},slot:"pop-up-content-top"}),e._v(" "),i("ClipboardThumbnails")],1)}),[],!1,null,null,null),mn=yn.exports;var Mn=(0,qe.$)((({config:e,modalDialogs:t,pageTemplate:i,metadata:o})=>({hasTemplate:!!i&&e.pageTemplate.isSelectable,hasTemplateProperties:!!i&&i.identifier&&o.pageTemplates[i.identifier].hasProperties,templateIdentifier:i&&i.identifier,showPropertiesDialog:!!t.dialogs.length&&t.dialogs[0].type!==ae.Ey.Custom})))(mn),Dn=i(6785),In=i(5102);const hn=e=>{e&&e.toolbarButtons&&On(e)},On=e=>{if(Array.isArray(e.toolbarButtons))e.toolbarButtons=e.toolbarButtons.filter((e=>e!==In.Um));else if((0,Dn.Z)(e.toolbarButtons))for(const t of Object.values(e.toolbarButtons))t&&t.buttons&&(t.buttons=t.buttons.filter((e=>e!==In.Um)))};var jn,Tn,wn,bn=i(5445),Nn=function(e,t,i,o){var n,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,i,r):n(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},zn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},An=function(e,t){return function(i,o){t(i,o,e)}};let vn=class extends Q.I{constructor(e,t,i){super(e,t,i)}async initializePageBuilder(e){const t=new pe(e.pageIdentifier,e.applicationPath,e.configurationEndpoints,e.metadataEndpoint,e.allowedOrigins,e.constants,e.featureSet,e.pageTemplate,e.selectors,e.clipboard);(0,bn.P)(e.htmlSanitizer);const i=await super.initialize(t,(t=>$e(t,e.developmentMode)),Mn,ao,Pt,At);window.addEventListener("focus",(async()=>{const{popup:e}=i.getState(),t=[ae.kQ.AddWidget,ae.kQ.AddSection];if(e.componentIdentifier&&t.includes(e.popupType)){const e=i.dispatch;await e(gt())}})),ne.forEach((e=>e({namespace:window.kentico.modalDialog,config:t,dispatch:i.dispatch,localizationService:this.localizationService}))),document.addEventListener(se.NC,(({target:t,detail:i})=>{(0,re.Y)(t,i,hn,e.htmlSanitizer)}))}};vn=Nn([(0,g.b)(),An(0,(0,C.f)(d.rv.LocalizationService)),An(1,(0,C.f)(d.rv.PageConfigurationService)),An(2,(0,C.f)(d.rv.MessagingService)),zn("design:paramtypes",["function"==typeof(jn=void 0!==P.LocalizationService&&P.LocalizationService)?jn:Object,"function"==typeof(Tn=void 0!==l.N&&l.N)?Tn:Object,"function"==typeof(wn=void 0!==z.o&&z.o)?wn:Object])],vn),(0,a.XZ)(x),window.kentico=window.kentico||{},window.kentico.pageBuilder={init:async e=>{const t=(0,a.f0)(vn);await t.initializePageBuilder(e)},registerInlineEditor:s.Fx},r.iq.disableDocumentLinks()}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=t,e=[],o.O=function(t,i,n,a){if(!i){var r=1/0;for(p=0;p<e.length;p++){i=e[p][0],n=e[p][1],a=e[p][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](i[c])}))?i.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(p--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[i,n,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={84:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,r=i[0],s=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)var p=c(o)}for(t&&t(i);l<r.length;l++)a=r[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},i=self.webpackChunkpage_builder=self.webpackChunkpage_builder||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var n=o.O(void 0,[216,447],(function(){return o(4733)}));n=o.O(n)}();