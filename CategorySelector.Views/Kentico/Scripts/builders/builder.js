(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([[447],{3062:function(e,t,n){"use strict";n.d(t,{I:function(){return le}});var i=n(5466),o=n(538),r=n(9621),s=n(9123),a=n(2817),c=n(8452),l=n(8661),d=n.n(l),u=n(5030),p=n.n(u),g=n(5018),f=n(9549),h=n(3583),m=n(9887),y=n(4795);const v=(e,...t)=>Object.keys(e).filter((n=>{const{widgetRestrictions:i}=e[n];return t.some((e=>!(0,m.iV)(i,e)))})),b=(e,t)=>(n,i)=>{const{editableAreasConfiguration:o,widgets:r,zones:s,widgetZonesConfiguration:a,editableAreas:c,sections:l}=i(),u=r[e].type,h=s[t].widgets.indexOf(e),y=v(o,u),b=p()(l,d()(y,(e=>c[e].sections))),w=((e,t,n)=>{let i=Object.keys(e);return n&&(i=i.filter((e=>!n.includes(e)))),i.filter((n=>{const{widgetRestrictions:i}=e[n];return!(0,m.iV)(i,t)}))})(a,u,d()(Object.values(b),(e=>e.zones)));n((0,f.CA)(g.p.Widget,u,e,t,h,y,w))},w=(e,t)=>(n,i)=>{const{editableAreas:o,editableAreasConfiguration:r,sections:s,zones:a,widgets:c}=i(),l=s[e].type,d=o[t].sections.indexOf(e),u=((e,t,n,i)=>{const o=(0,y.Yn)(t.zones,n),r=h.T.getUniqueValues(o,(e=>i[e].type)),s=Object.keys(e).filter((n=>!(0,m.iV)(e[n].sectionRestrictions,t.type))),a=v(e,...r);return h.T.getUniqueValues([...s,...a])})(r,s[e],a,c);n((0,f.CA)(g.p.Section,l,e,t,d,u,[]))};var k=n(259),_=n(4637),O=n(1953),I=n(9868);let T;const S=(e,t)=>({makeOnDragStart:n=>i=>{e(n(i.source.id,i.sourceContainer.id)),A(),document.addEventListener("keyup",C(t,e)),window.addEventListener("message",j(t,e));const o=document.getElementById(i.source.id);(0,k.sB)(o),(0,_.postMessage)(I.u.MESSAGING_DRAG_START,null,"*")},makeOnDragStop:n=>()=>{document.body.style.cursor="auto",T&&clearTimeout(T),document.removeEventListener("keyup",C(t,e)),window.removeEventListener("message",j(t,e)),(0,_.postMessage)(I.u.MESSAGING_DRAG_STOP,null,"*");const i=t().dragAndDrop;if(i.itemIdentifier){const t=document.getElementById(i.itemIdentifier);if((0,k.tT)(t),null!==i.dropMarkerPosition&&i.targetContainerIdentifier){const t=i.sourceContainerIdentifier===i.targetContainerIdentifier&&i.originalPosition<=i.dropMarkerPosition?i.dropMarkerPosition-1:i.dropMarkerPosition;e(n(i.itemIdentifier,i.sourceContainerIdentifier,i.targetContainerIdentifier,t))}e((0,O.C2)())}},onDragOver:n=>{const i=t();if(n.source.id===n.over.id&&null!==i.dragAndDrop.dropMarkerPosition){const{top:t,bottom:i}=n.over.getBoundingClientRect(),o=n.sensorEvent.clientY;o>=t&&o<=i?e((0,O.mn)()):T&&clearTimeout(T)}n.over.id!==i.dragAndDrop.itemIdentifier&&T&&clearTimeout(T)},onDragContainerOver:e=>{const n=t(),i=e.overContainer.id,o=n.dragAndDrop.sourceContainerIdentifier;T&&i!==o&&clearTimeout(T)},onDragContainerOut:n=>{n.overContainer.id===t().dragAndDrop.targetContainerIdentifier&&(T=setTimeout((()=>e((0,O.mn)())),s._V))}}),A=()=>{document.body.style.cursor="move",document.body.style.cursor="grabbing",document.body.style.cursor="-moz-grabbing",document.body.style.cursor="-webkit-grabbing"},C=(e,t)=>n=>{27===n.which&&e().dragAndDrop.itemIdentifier&&E(t)},j=(e,t)=>n=>{n.data&&n.data.msg===I.u.MESSAGING_DRAG_STOP&&e().dragAndDrop.itemIdentifier&&E(t)},E=e=>{e((0,O.C2)()),document.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0}))};var D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const P=Object.getOwnPropertySymbols(c.Draggable.Plugins.Mirror.prototype),M=["onMirrorCreated","onMirrorMove"].reduce(((e,t)=>(e[t]=P.find((e=>e.toString().includes(t))),e)),{});class x extends c.Draggable.Plugins.Mirror{[M.onMirrorCreated]({mirror:e,source:t,sensorEvent:n}){const i={mirror:e,mirrorClass:this.draggable.getClassNameFor("mirror"),sensorEvent:n,source:t,options:this.options,scrollOffset:this.scrollOffset};return Promise.resolve(i).then(L).then(z).then(R).then(H).then(N({initial:!0})).then(B).then((e=>{var{mirrorOffset:t,initialX:n,initialY:i}=e,o=D(e,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=t,this.initialX=n,this.initialY=i,Object.assign({mirrorOffset:t,initialX:n,initialY:i},o)}))}[M.onMirrorMove](e){if(e.canceled())return null;const t={initialX:this.initialX,initialY:this.initialY,mirror:e.mirror,mirrorOffset:this.mirrorOffset,options:this.options,scrollOffset:this.scrollOffset,sensorEvent:e.sensorEvent};return Promise.resolve(t).then(N({withFrame:!0}))}}function L(e){var{source:t}=e,n=D(e,["source"]);return $((e=>{const i=t.getBoundingClientRect();e(Object.assign({source:t,sourceRect:i},n))}))}function R(e){var{mirror:t,source:n,options:i}=e,o=D(e,["mirror","source","options"]);return $((e=>{let r,s;if(i.constrainDimensions){const e=getComputedStyle(n);r=e.getPropertyValue("height"),s=e.getPropertyValue("width")}t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,t.style.transformOrigin="0 0",t.style.opacity="0.7",t.style.backgroundColor=function(e){if(!e)return;let t=e,n="white";for(;t;){const e=getComputedStyle(t).getPropertyValue("background-color");if("rgba(0, 0, 0, 0)"!==e&&"transparent"!==e){n=e;break}t=t.parentElement}return n}(t),i.constrainDimensions&&(t.style.height=r,t.style.width=s),e(Object.assign({mirror:t,source:n,options:i},o))}))}function z(e){var{sensorEvent:t,sourceRect:n,options:i}=e,o=D(e,["sensorEvent","sourceRect","options"]);return $((e=>{const r={top:null===i.cursorOffsetY?.5*(t.clientY-n.top):i.cursorOffsetY,left:null===i.cursorOffsetX?.5*(t.clientX-n.left):i.cursorOffsetX};e(Object.assign({sensorEvent:t,sourceRect:n,mirrorOffset:r,options:i},o))}))}function N({withFrame:e=!1,initial:t=!1}={}){return n=>{var{mirror:i,sensorEvent:o,mirrorOffset:r,initialY:s,initialX:a,scrollOffset:c,options:l}=n,d=D(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options"]);return $((e=>{const n=Object.assign({mirror:i,mirrorOffset:r,options:l,sensorEvent:o},d);if(r){const e=o.clientX-r.left-c.x,d=o.clientY-r.top-c.y;l.xAxis&&l.yAxis||t?i.style.transform=`translate3d(${e}px, ${d}px, 0) scale(0.5)`:l.xAxis&&!l.yAxis?i.style.transform=`translate3d(${e}px, ${s}px, 0)`:l.yAxis&&!l.xAxis&&(i.style.transform=`translate3d(${a}px, ${d}px, 0)`),t&&(n.initialX=e,n.initialY=d)}e(n)}),{raf:e})}}function H(e){var{mirror:t,mirrorClass:n}=e,i=D(e,["mirror","mirrorClass"]);return $((e=>{t.classList.add(n),e(Object.assign({mirror:t,mirrorClass:n},i))}))}function B(e){var{mirror:t}=e,n=D(e,["mirror"]);return $((e=>{t.removeAttribute("id"),delete t.id,e(Object.assign({mirror:t},n))}))}function $(e,{raf:t=!1}={}){return new Promise(((n,i)=>{t?requestAnimationFrame((()=>{e(n,i)})):e(n,i)}))}var W=n(4475);const G=Object.getOwnPropertySymbols(c.Sensors.MouseSensor.prototype),U=["onMouseDown","onMouseMove","onMouseUp","onContextMenuWhileDragging"].reduce(((e,t)=>(e[t]=G.find((e=>e.toString().includes(t))),e)),{});class q extends c.Sensors.MouseSensor{[U.onMouseDown](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;document.addEventListener("mouseup",this[U.onMouseUp]);const t=document.elementFromPoint(e.clientX,e.clientY),n=(0,W.closest)(t,this.containers);n&&(this.mouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout((()=>{if(!this.mouseDown)return;const i=new c.Sensors.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,i),this.currentContainer=n,this.dragging=!i.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[U.onContextMenuWhileDragging]),document.addEventListener("mousemove",this[U.onMouseMove]))}),this.options.delay))}}const V="ktc-draggable-mirror",F=e=>{document.addEventListener(s.sh,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.removeContainer(t)}))})),document.addEventListener(s.eD,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.addContainer(t)}))}));const t=e=>document.querySelectorAll(`div[id="${e}"] .ktc-widget-zone`)};var Z=n(932),K=n(1008),Q=n(4447),X=n(2043),Y=n(3395),J=n(9511),ee=n(5844),te=n(7945),ne=n(209);var ie,oe,re,se=n(5445),ae=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ce=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};o.default.config.ignoredElements=[/^kentico-/],o.default.config.productionTip=!1;let le=class{constructor(e,t,n){this.localizationService=e,this.pageConfigurationService=t,this.messagingService=n,this.wasInitialized=!1}async initialize(e,t,n,i,s,a){if(!this.wasInitialized){this.wasInitialized=!0;try{e.validate(),o.default.prototype.$_localizationService=this.localizationService,(0,r.Ie)(e);const l=t(await this.pageConfigurationService.getConfiguration(e));return((e,t)=>{const n=window.kentico||{};n.localization=n.localization||{},n.localization.getString=t.getLocalizationWithoutPrefix;const i={open:t=>e((0,ne.G3)(t)),apply:t=>e((0,ne.Uh)(t)),cancel:t=>e((0,ne.gk)(t)),getData:()=>e((0,ne.Yu)())},o=n.modalDialog=n.modalDialog||{};Object.assign(o,i)})(l.dispatch,this.localizationService),(0,se.M)(),this.messagingService.registerListener(l.getState,l.dispatch,e.allowedOrigins),(0,_.postMessage)(I.u.GET_DISPLAYED_WIDGET_VARIANTS,null,"*"),window.addEventListener("resize",(()=>{this.updatePopupContainerPosition(l)})),((e,t,n)=>{const i=document.createElement("draggable"),o=new c.Draggable(i,{classes:{mirror:V,"source:dragging":"ktc-widget--dragged"},draggable:".ktc-widget",handle:".ktc-widget-header-handle",mirror:{constrainDimensions:!0},plugins:[x],sensors:[q]});o.removePlugin(c.Draggable.Plugins.Mirror),o.removeSensor(c.Sensors.MouseSensor),F(o);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:l,onDragContainerOut:d}=S(e,t);o.on("drag:start",r(b)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",l).on("drag:out:container",d)})(l.dispatch,l.getState,s),this.initializeEditableAreas(l,i),((e,t,n)=>{const i=document.querySelectorAll(".ktc-editable-area"),o=new c.Draggable(i,{classes:{mirror:V,"source:dragging":"ktc-section--dragged"},draggable:".ktc-section",handle:".ktc-section-header-drag-icon",mirror:{constrainDimensions:!0},plugins:[x]});o.removePlugin(c.Draggable.Plugins.Mirror);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:l,onDragContainerOut:d}=S(e,t);o.on("drag:start",r(w)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",l).on("drag:out:container",d)})(l.dispatch,l.getState,a),this.initializeGlobalComponentWrapper(l,n),(0,K.T)(),(0,ee.R)(),l}catch(e){Q.k.logException(e)}}}getGlobalComponentWrapperHost(){return document.body}initializeGlobalComponentWrapper(e,t){this.createGlobalComponentWrapperHost(),new o.default({mixins:[(0,te.F)(e)],render:e=>e(t)}).$mount(`.${s.N3}`)}createGlobalComponentWrapperHost(){const e=document.createElement("div");e.classList.add(s.N3),this.getGlobalComponentWrapperHost().appendChild(e)}updatePopupContainerPosition(e){if(null!==e.getState().popup.componentIdentifier){const t=document.querySelector("kentico-add-component-button[is-active='true'], kentico-personalization-button[show-personalization-popup]");if(null!==t){const n=t.getBoundingClientRect(),i=(0,Z.b)(n,null,!0),o=(0,Z.o)(n);e.dispatch((0,J.FO)(i,o))}}}initializeEditableAreas(e,t){Object.keys(e.getState().editableAreas).forEach((n=>{new o.default({mixins:[(0,te.F)(e)],render:e=>e(t,{props:{identifier:n}})}).$mount(`[data-kentico-editable-area-id="${n}"]`)}))}};le=ae([(0,i.b)(),ce("design:paramtypes",["function"==typeof(ie=void 0!==a.LocalizationService&&a.LocalizationService)?ie:Object,"function"==typeof(oe=void 0!==Y.N&&Y.N)?oe:Object,"function"==typeof(re=void 0!==X.o&&X.o)?re:Object])],le)},9621:function(e,t,n){"use strict";n.d(t,{Ie:function(){return s},dJ:function(){return o},ey:function(){return r}});var i=n(2861);let o,r;const s=e=>{o=i.Z.create({}),r=e}},6756:function(e,t,n){"use strict";n.d(t,{_G:function(){return s},hK:function(){return a},_t:function(){return c},y0:function(){return l},zL:function(){return d}});var i=n(9621),o=n(6988),r=n(9868);const s=async e=>(await i.dJ.get(e)).data,a=async(e,t)=>{const n=i.ey.getComponentMarkupData(t);return(await i.dJ.post(e,n)).data},c=async()=>{const e=await i.dJ.get(i.ey.metadataEndpoint);return(0,o.ko)(r.rv.NormalizerService).normalizeMetadata(e.data)},l=async()=>{const e=await i.dJ.get(i.ey.configurationEndpoints.load);return(0,o.ko)(r.rv.NormalizerService).normalizeConfiguration(e.data)},d=async(e,t)=>((e,t)=>{const n={[i.ey.constants.editingInstanceHeader]:t};return i.dJ.post(i.ey.configurationEndpoints.store,e,{headers:n})})((0,o.ko)(r.rv.NormalizerService).denormalizeConfiguration(e),t)},9351:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var i=n(3612);const o=new i.fK.Entity("widgets",{},{idAttribute:"typeIdentifier"}),r=new i.fK.Entity("sections",{},{idAttribute:"typeIdentifier"}),s={pageTemplates:[new i.fK.Entity("pageTemplates",{},{idAttribute:"typeIdentifier"})],personalizationConditionTypes:[new i.fK.Entity("personalizationConditionTypes",{},{idAttribute:"typeIdentifier"})],sections:[r],widgets:[o]}},6669:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});class i{constructor(e,t,n,i,o,r,s){this.applicationPath=e,this.configurationEndpoints=t,this.metadataEndpoint=n,this.allowedOrigins=i,this.propertiesEditorClientId=o,this.constants=r,this.selectors=s}}},460:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var i=n(4775),o=n(3583),r=n(3786),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends i.w3{render(e){const t=(0,r.M4)(this.sectionMarkup);return e({template:`<div ref="sectionMarkup" class="ktc-section-body-wrapper">${t.strippedMarkup}</div>`,components:{WidgetZone:this.widgetZone},data:()=>({sectionIdentifier:this.sectionIdentifier,areaIdentifier:this.areaIdentifier}),mounted(){(0,r.v6)(this.$refs.sectionMarkup,t.scriptMappings),o.iq.disableElementLinks(this.$refs.sectionMarkup)},updated(){(0,r.v6)(this.$refs.sectionMarkup,t.scriptMappings),o.iq.disableElementLinks(this.$refs.sectionMarkup)}})}};s([(0,i.fI)({required:!0}),a("design:type",String)],c.prototype,"sectionIdentifier",void 0),s([(0,i.fI)({required:!0}),a("design:type",String)],c.prototype,"sectionMarkup",void 0),s([(0,i.fI)({required:!0}),a("design:type",String)],c.prototype,"areaIdentifier",void 0),c=s([i.wA],c)},2858:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var i=n(4775),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class s extends i.w3{}o([(0,i.fI)({required:!0}),r("design:type",String)],s.prototype,"sectionIdentifier",void 0),o([(0,i.fI)({required:!0}),r("design:type",Number)],s.prototype,"zoneIndex",void 0),o([(0,i.fI)({required:!0}),r("design:type",String)],s.prototype,"areaIdentifier",void 0)},9156:function(e,t,n){"use strict";n.d(t,{cX:function(){return S},Qc:function(){return A.Z},rE:function(){return H},pL:function(){return ne},M$:function(){return fe}});var i={};n.r(i);var o={};n.r(o);var r={};n.r(r);var s={};n.r(s);var a,c,l=n(7945),d=n(1698),u=n(1953),p=n(4775),g=n(2817),f=n(3583),h=n(9148),m=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let v=class extends p.w3{get popupTheme(){return f.qw.getTheme(this.popup.popupType)}get headerTitle(){switch(this.popup.popupType){case h.kQ.AddWidget:return this.$_localizationService.getLocalization("widget.headerTitle");case h.kQ.AddSection:return this.$_localizationService.getLocalization("section.headerTitle");default:return""}}get noComponentsAvailableMessage(){return this.$_localizationService.getLocalization("widgetlist.nowidgets")}get containerStyle(){return this.popup&&this.popup.listingOffset?{top:this.popup.listingOffset.top+"px",left:this.popup.listingOffset.left+"px"}:null}onInsertComponent(e){this.selectItem(e.detail.key)}};m([(0,p.fI)(),y("design:type","function"==typeof(a=void 0!==g.Popup&&g.Popup)?a:Object)],v.prototype,"popup",void 0),m([(0,p.fI)(),y("design:type",Boolean)],v.prototype,"isDnDActive",void 0),m([(0,p.fI)(),y("design:type",Array)],v.prototype,"items",void 0),m([(0,p.fI)(),y("design:type","function"==typeof(c=void 0!==i.ClosePopup&&i.ClosePopup)?c:Object)],v.prototype,"closePopup",void 0),m([(0,p.fI)(),y("design:type",Function)],v.prototype,"selectItem",void 0),v=m([p.wA],v);var b=v,w=n(1900),k=(0,w.Z)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ktc-add-component-pop-up",style:e.containerStyle},[n("kentico-pop-up-container",{directives:[{name:"show",rawName:"v-show",value:!e.isDnDActive,expression:"!isDnDActive"}],attrs:{showBackButton:!1,triangle:""},domProps:{theme:e.popupTheme,headerTitle:e.headerTitle,position:e.popup.position,localizationService:e.$_localizationService},on:{selectItem:e.onInsertComponent,closePopup:e.closePopup}},[n("div",{attrs:{slot:"pop-up-content"},slot:"pop-up-content"},[e._t("pop-up-content-top")],2),e._v(" "),n("kentico-pop-up-listing",{attrs:{slot:"pop-up-content"},domProps:{items:e.items,noItemsAvailableMessage:e.noComponentsAvailableMessage,doubleColumn:e.popup.doubleColumn},slot:"pop-up-content"})],1)],1)}),[],!1,null,"0ea13038",null),_=k.exports;var O,I,T,S=(0,l.$)((({popup:e,dragAndDrop:t,editableAreasConfiguration:n,widgetZonesConfiguration:i,metadata:o})=>{const r=n[e.areaIdentifier],s=i[e.zoneIdentifier];return{popup:e,isDnDActive:!!t.itemIdentifier,items:(0,d.u)(e.popupType,o,r,s)}}),(()=>({closePopup:u.j4})))(_),A=n(1770),C=n(9549),j=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let D=class extends p.w3{onMouseOver(){const e=this.isBottom?this.position+1:this.position;if(this.containerIdentifier===this.dragAndDrop.sourceContainerIdentifier){if(e===(this.isBottom?this.dragAndDrop.originalPosition:this.dragAndDrop.originalPosition+1))return void(null!==this.dragAndDrop.dropMarkerPosition&&this.hideDropMarker())}this.containerIdentifier===this.dragAndDrop.targetContainerIdentifier&&e===this.dragAndDrop.dropMarkerPosition||this.showDropMarker(this.containerIdentifier,e)}};j([(0,p.fI)({required:!0}),E("design:type",String)],D.prototype,"containerIdentifier",void 0),j([(0,p.fI)({required:!0}),E("design:type",Number)],D.prototype,"position",void 0),j([(0,p.fI)({required:!1,default:!1}),E("design:type",Boolean)],D.prototype,"isBottom",void 0),j([(0,p.fI)(),E("design:type","function"==typeof(O=void 0!==g.DragAndDrop&&g.DragAndDrop)?O:Object)],D.prototype,"dragAndDrop",void 0),j([(0,p.fI)(),E("design:type","function"==typeof(I=void 0!==o.HideDropMarker&&o.HideDropMarker)?I:Object)],D.prototype,"hideDropMarker",void 0),j([(0,p.fI)(),E("design:type","function"==typeof(T=void 0!==o.ShowDropMarker&&o.ShowDropMarker)?T:Object)],D.prototype,"showDropMarker",void 0),D=j([p.wA],D);var P=D,M=(0,w.Z)(P,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ktc-dropzone",on:{mouseover:e.onMouseOver}})}),[],!1,null,"5a8dda92",null).exports;var x,L,R,z,N,H=(0,l.$)((({dragAndDrop:e})=>({dragAndDrop:e})),(()=>({hideDropMarker:C.mn,showDropMarker:C.NW})))(M),B=n(209),$=n(9123),W=n(1008),G=n(3538),U=n(9868),q=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},V=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let F=class extends p.w3{constructor(){super(...arguments),this.baseUnit=16,this.dialogContentHeight=0,this.isDialogContentLoaded=!1,this.hookCancelScreenLock=()=>{const e=this.$refs.dialogContentWrapper.contentDocument.documentElement;(0,W.T)(e)},this.injectResizeToIframe=()=>{const e=this.$refs.dialogContentWrapper.contentWindow;e.kentico=e.kentico||{},e.kentico.modalDialog=e.kentico.modalDialog||{},e.kentico.modalDialog.resize=this.onResize}}get dialogConfiguration(){const{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,width:o,maximized:r,tabs:s,activeTabIndex:a}=this.dialog;return{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,tabs:s.map(((e,t)=>({title:e.title,iconClassName:e.iconClassName,active:t===a}))),theme:this.theme,showLoader:!this.isDialogContentLoaded,dialogIndex:this.dialogIndex,openedDialogsCount:this.openedDialogsCount,width:this.isDialogContentLoaded?o:"38%",maximized:!!this.isDialogContentLoaded&&r,setPosition:!0}}get footerHeight(){return this.dialogConfiguration.showFooter?$.xd:0}get dialogContentStringHeight(){return`${this.dialogContentHeight}px`}get dialogMessages(){return{unsavedChanges:this.unsavedChangesMessage,loaderMessage:this.loaderMessage,closeTooltip:this.closeTooltip}}get closeTooltip(){return this.$_localizationService.getLocalization("typelist.closeTooltip")}get unsavedChangesMessage(){return this.$_localizationService.getLocalization("modalDialog.close.confirmation")}get loaderMessage(){return this.$_localizationService.getLocalization("modaldialogs.loading")}getDialogContentHeight(){const e=this.$refs.dialogContentWrapper,t=e.scrollHeight>e.contentDocument.body.scrollHeight?e.scrollHeight:e.contentDocument.body.scrollHeight,n=t+$.Jc+this.footerHeight,i=window.innerHeight-2*this.baseUnit;return this.dialog.maximized||n>i?i-$.Jc-this.footerHeight:t}mounted(){(0,G.J)(document),window.addEventListener("resize",this.onResize)}beforeDestroy(){0===this.dialogIndex&&(0,G.h)(document),window.removeEventListener("resize",this.onResize)}onResize(){this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+$.Jc+this.footerHeight)}))}onDialogApply(){this.applyDialog(this.$refs.dialogContentWrapper.contentWindow)}onDialogClose(){this.closeDialog(this.$refs.dialogContentWrapper.contentWindow)}onSelectTab({detail:e}){this.selectDialogTab(e)}onDialogContentLoaded(){this.isDialogContentLoaded=!0,this.injectResizeToIframe(),this.hookCancelScreenLock(),this.$nextTick((()=>{this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+$.Jc+this.footerHeight)}))}))}};q([(0,p.fI)({required:!0}),V("design:type",Number)],F.prototype,"dialogIndex",void 0),q([(0,p.fI)(),V("design:type","function"==typeof(x=void 0!==g.ModalDialog&&g.ModalDialog)?x:Object)],F.prototype,"dialog",void 0),q([(0,p.fI)(),V("design:type","function"==typeof(L=void 0!==U.Q2&&U.Q2)?L:Object)],F.prototype,"theme",void 0),q([(0,p.fI)(),V("design:type",Number)],F.prototype,"openedDialogsCount",void 0),q([(0,p.fI)(),V("design:type","function"==typeof(R=void 0!==r.ApplyDialog&&r.ApplyDialog)?R:Object)],F.prototype,"applyDialog",void 0),q([(0,p.fI)(),V("design:type","function"==typeof(z=void 0!==r.CloseDialog&&r.CloseDialog)?z:Object)],F.prototype,"closeDialog",void 0),q([(0,p.fI)(),V("design:type","function"==typeof(N=void 0!==r.SelectDialogTab&&r.SelectDialogTab)?N:Object)],F.prototype,"selectDialogTab",void 0),F=q([p.wA],F);var Z=F,K=(0,w.Z)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("kentico-modal-dialog",{ref:"modalDialog",domProps:{configuration:e.dialogConfiguration,messages:e.dialogMessages},on:{apply:e.onDialogApply,close:e.onDialogClose,selectTab:e.onSelectTab,mousewheel:function(e){e.preventDefault(),e.stopPropagation()},mouseup:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}}},[n("iframe",{directives:[{name:"show",rawName:"v-show",value:e.isDialogContentLoaded,expression:"isDialogContentLoaded"}],ref:"dialogContentWrapper",staticClass:"ktc-modal-dialog__content",style:{height:e.dialogContentStringHeight},attrs:{src:e.dialog.markupUrl},on:{load:e.onDialogContentLoaded}})])}),[],!1,null,"6e54761c",null),Q=K.exports;var X,Y,J,ee,te,ne=(0,l.$)((({modalDialogs:e},{dialogIndex:t})=>({dialog:e.dialogs[t],openedDialogsCount:e.dialogs.length,theme:e.theme})),(()=>({closeDialog:B.gk,applyDialog:B.Uh,selectDialogTab:B.YW})))(Q),ie=(n(6562),n(6988)),oe=n(9887),re=n(9511),se=n(8419),ae=n.n(se),ce=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},le=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let de=class extends p.w3{constructor(){super(...arguments),this.setOpacityTimeoutCancellationToken=!1,this.isMouseOver=!1,this.isFocused=!1}onSectionTypeListPositionChange(e){this.isMouseOver||e||(this.isFocused=!1)}onBorderHighlightedChange(e){e?this.highlightHeader():this.unhighlightHeader()}get sectionHeaderClasses(){return{"ktc-admin-ui":!0,"ktc-section-header-wrapper":!0,"ktc-section-header--hidden":!this.sectionHeaderPosition,"ktc-section-header-wrapper--focus":this.isFocused}}get getSectionTypeListTitleText(){return this.$_localizationService.getLocalization("section.typelist.title")}onToggleSectionTypeList(){this.sectionTypeListPosition?this.closePopup():this.openPopup(this.sectionIdentifier,this.calculatePopupPosition(),h.kQ.ChangeSection)}onClosePopup(e){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.$emit(e.type,e)}onChangeSection(e){this.isFocused=!1,this.$emit("changeSection",e)}highlightHeader(){this.isMouseOver=!0,this.isFocused||(this.setOpacityTimeoutCancellationToken=!1,setTimeout((()=>{this.setOpacityTimeoutCancellationToken||(this.isFocused=!0)}),300))}unhighlightHeader(){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.isFocused&&!this.sectionTypeListPosition&&(this.isFocused=!1)}calculatePopupPosition(){const e=$.R7+10;return this.$el.getBoundingClientRect().left-e>=0?h.Mi.Left:h.Mi.Right}mounted(){ae().addOne(this.$el)}beforeDestroy(){ae().removeOne(this.$el)}};ce([(0,p.fI)({required:!0}),le("design:type",String)],de.prototype,"areaIdentifier",void 0),ce([(0,p.fI)({required:!0}),le("design:type",String)],de.prototype,"sectionIdentifier",void 0),ce([(0,p.fI)({required:!0}),le("design:type",Boolean)],de.prototype,"showSectionTypeList",void 0),ce([(0,p.fI)({required:!0}),le("design:type",String)],de.prototype,"sectionType",void 0),ce([(0,p.fI)({required:!0}),le("design:type",Boolean)],de.prototype,"highlighted",void 0),ce([(0,p.fI)(),le("design:type","function"==typeof(X=void 0!==h.Mi&&h.Mi)?X:Object)],de.prototype,"sectionTypeListPosition",void 0),ce([(0,p.fI)(),le("design:type","function"==typeof(Y=void 0!==h.Mi&&h.Mi)?Y:Object)],de.prototype,"sectionHeaderPosition",void 0),ce([(0,p.fI)(),le("design:type",Array)],de.prototype,"availableSectionTypes",void 0),ce([(0,p.fI)(),le("design:type",Boolean)],de.prototype,"doubleColumn",void 0),ce([(0,p.fI)(),le("design:type","function"==typeof(J=void 0!==s.OpenPopup&&s.OpenPopup)?J:Object)],de.prototype,"openPopup",void 0),ce([(0,p.fI)(),le("design:type","function"==typeof(ee=void 0!==s.ClosePopup&&s.ClosePopup)?ee:Object)],de.prototype,"closePopup",void 0),ce([(0,p.RL)("sectionTypeListPosition"),le("design:type",Function),le("design:paramtypes",["function"==typeof(te=void 0!==h.Mi&&h.Mi)?te:Object]),le("design:returntype",void 0)],de.prototype,"onSectionTypeListPositionChange",null),ce([(0,p.RL)("highlighted"),le("design:type",Function),le("design:paramtypes",[Boolean]),le("design:returntype",void 0)],de.prototype,"onBorderHighlightedChange",null),de=ce([p.wA],de);var ue=de,pe=(0,w.Z)(ue,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.sectionHeaderClasses},[n("kentico-section-header",{attrs:{display:e.sectionHeaderPosition,"section-type-list-position":e.sectionTypeListPosition},domProps:{localizationService:e.$_localizationService,sectionTypeListTitleText:e.getSectionTypeListTitleText,sectionTypes:e.availableSectionTypes,activeSectionTypeIdentifier:e.sectionType,doubleColumn:e.doubleColumn},on:{removeSection:function(t){return e.$emit(t.type,t)},toggleSectionTypeList:e.onToggleSectionTypeList,closePopup:e.onClosePopup,selectItem:e.onChangeSection}},[n("div",{attrs:{slot:"sectionHeaderExtraButtons"},slot:"sectionHeaderExtraButtons"},[e._t("sectionHeaderExtraButtons")],2)])],1)}),[],!1,null,null,null),ge=pe.exports;var fe=(0,l.$)((({highlightedSection:e,popup:t,editableAreasConfiguration:n,metadata:i},{areaIdentifier:o,sectionIdentifier:r})=>{const s=e.sectionIdentifier===r&&t.popupType===h.kQ.ChangeSection,a=(0,ie.ko)(U.rv.PopUpElementsService),c=n[o].sectionRestrictions;return{sectionTypeListPosition:s?t.position:null,sectionHeaderPosition:e.sectionIdentifier===r?e.headerPosition:null,availableSectionTypes:a.getSectionElements((0,oe.Gq)(c,i.sections)),doubleColumn:t.doubleColumn}}),(()=>({openPopup:re.Mw,closePopup:re.j4})))(ge)},9123:function(e,t,n){"use strict";n.d(t,{Ak:function(){return a},Jc:function(){return d},N3:function(){return l},R7:function(){return s},TL:function(){return r},_V:function(){return c},eD:function(){return o},po:function(){return p},sh:function(){return i},xd:function(){return u}});const i="kenticoSectionRemove",o="kenticoSectionMounted",r=300,s=600,a=40,c=250,l="ktc-global-component",d=36,u=64,p="ktc-properties-dialog"},6988:function(e,t,n){"use strict";n.d(t,{XZ:function(){return o},f0:function(){return s},ko:function(){return r}});let i=null;const o=e=>{i=e},r=e=>i.get(e),s=e=>i.resolve(e)},9825:function(e,t,n){"use strict";var i;n.d(t,{U:function(){return i}}),function(e){e[e.PAGE=0]="PAGE",e[e.MEDIA=1]="MEDIA",e[e.ATTACHMENT=2]="ATTACHMENT",e[e.LOCAL=3]="LOCAL",e[e.EXTERNAL=4]="EXTERNAL"}(i||(i={}))},7110:function(e,t,n){"use strict";n.d(t,{i:function(){return c},y:function(){return a}});var i=n(4637),o=n(9868);const r=window.kentico=window.kentico||{},s=r._confirmDialog=r._confirmDialog||{},a=e=>{s.resolve(e)},c=e=>new Promise((t=>{s.resolve=t,(0,i.postMessage)(o.u.CONFIRM,{message:e},"*")}))},7945:function(e,t,n){"use strict";n.d(t,{$:function(){return a},F:function(){return c}});var i=n(4791),o=n(8047);const r=()=>({}),s=()=>({}),a=(e=r,t=s)=>n=>({name:`connected-${n.name}`,inject:["store"],data:()=>({state:null}),props:Object.assign({},(0,o.vs)(n.options.props)),render(e){return e(n,{on:this._events,props:Object.assign(Object.assign(Object.assign({},this.$props),this.stateToProps),this.dispatchToProps),scopedSlots:this.$scopedSlots},(0,o.iV)(this.$slots))},computed:{stateToProps(){return e(this.state,this.$options.propsData)},dispatchToProps(){return Object.assign({},(0,i.DE)(t(),this.store.dispatch))}},methods:{updateState(){this.state=this.store.getState()}},created(){this.$createElement=this.$parent.$createElement;this.unsubscribe=((t,n)=>{let i=e(t.getState(),this.$options.propsData||{});return t.subscribe((()=>{const r=e(t.getState(),this.$options.propsData);(0,o.wU)(i,r)||(i=r,n())}))})(this.store,this.updateState),this.updateState()},destroyed(){this.unsubscribe&&this.unsubscribe()}}),c=e=>({data:{store:e},provide(){return{store:this.store}}})},3439:function(e,t,n){"use strict";n.d(t,{U:function(){return i},l:function(){return o}});const i=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},o=e=>e?e[0]:null},3786:function(e,t,n){"use strict";n.d(t,{El:function(){return r},M4:function(){return a},YI:function(){return s},v6:function(){return c}});var i=n(8721),o=n(4447);const r=(e,t,n)=>{t.innerHTML=e;const i=t.querySelectorAll("script");Array.prototype.forEach.call(i,(e=>{const t=e.parentNode,i=document.createElement("script");[...e.attributes].forEach((e=>{i.setAttribute(e.name,e.value)}));try{e.src?(i.classList.add("ktc-tmp-element"),i.classList.add(n),document.head.appendChild(i)):(i.innerHTML=e.innerHTML,t.replaceChild(i,e)),e.remove()}catch(e){o.k.logException(e)}}))},s=e=>{const t=document.head.querySelectorAll(`.${e}`);Array.prototype.forEach.call(t,(e=>{e.remove()}))},a=e=>{const t={},n=document.createElement("div");n.innerHTML=e;const o=n.querySelectorAll("script");return Array.prototype.forEach.call(o,(e=>{const n=(0,i.Z)(),o=document.createElement("div");o.style.display="none",o.dataset.kenticoScriptId=n;const r=document.createElement("script");r.innerHTML=e.innerHTML,e.src&&(r.src=e.src),e.type&&(r.type=e.type),t[n]=r,e.parentNode.replaceChild(o,e)})),{strippedMarkup:n.innerHTML,scriptMappings:t}},c=(e,t)=>{const n=e.querySelectorAll("div[data-kentico-script-id]");Array.prototype.forEach.call(n,(e=>{const n=t[e.dataset.kenticoScriptId];e.parentNode.replaceChild(n,e)}))}},1008:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var i=n(4637),o=n(9868);const r=()=>{setTimeout((()=>(0,i.postMessage)(o.u.CANCEL_SCREENLOCK,null,"*")),1e3)},s=(e=document.documentElement)=>{e.addEventListener("mousedown",r,!0),e.addEventListener("keydown",r,!0)}},1944:function(e,t,n){"use strict";n.d(t,{B:function(){return i},N:function(){return o}});const i=(e,t,n)=>e&&r(e)+`${t}=${n}`,o=(e,t)=>e&&r(e)+Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&"),r=e=>e+(e.indexOf("?")>-1?"&":"?")},4447:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var i=n(6988),o=n(4637),r=n(9868);const s={logError:e=>{(0,o.postMessage)(r.u.MESSAGING_ERROR,e,"*")},logException:e=>{console.error(e),(0,o.postMessage)(r.u.MESSAGING_EXCEPTION,(0,i.ko)(r.rv.LocalizationService).getLocalization("errors.generalerror"),"*")},logExceptionWithMessage:(e,t)=>{console.error(e),(0,o.postMessage)(r.u.MESSAGING_EXCEPTION,t,"*")},logWarning:e=>{(0,o.postMessage)(r.u.MESSAGING_WARNING,e,"*")}}},3538:function(e,t,n){"use strict";n.d(t,{J:function(){return r},h:function(){return o}});const i="ktc-no-scroll",o=e=>{e.body.classList.remove(i)},r=e=>{e.body.classList.add(i)}},7273:function(){!function(e){try{return new MouseEvent("test"),!1}catch(e){}const t=function(t,n){n=n||{bubbles:!1,cancelable:!1};const i=document.createEvent("MouseEvent");return i.initMouseEvent(t,n.bubbles,n.cancelable,e,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),i};t.prototype=Event.prototype,e.MouseEvent=t}(window)},9167:function(e,t,n){"use strict";n.d(t,{Lr:function(){return o},NC:function(){return r},Q1:function(){return s},nF:function(){return i}});const i=".ktc-rich-text-wrapper",o="ktc-rich-text-value",r="Kentico.FormComponents.RichText.Initialize",s="ktc-tab-active"},7972:function(e,t,n){"use strict";n.d(t,{Y:function(){return p}});var i=n(9167),o=n(3342),r=n(8858);const s="Kentico.FormComponents.RichText.ApplyButtonAnimation",a="ktc-rich-text-form-component--fullscreen",c="ktc-btn-slide";class l{constructor(e,t){this.froalaEditor=e,this.formComponent=t,this.applyAndCloseButtonText=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applyandclosebutton"]}initialize(){this.ensureSaveButton(),this.ensureFullscreen()}ensureSaveButton(){const e=document.createElement("div");e.innerHTML=n(5454)({buttonText:this.applyAndCloseButtonText});const t=e.firstChild;t.addEventListener("click",(()=>{this.handleFullscreenExit(),t.remove()})),document.body.appendChild(t),this.froalaEditor.tooltip.bind(this.froalaEditor.$sc,".ktc-btn-rich-text-apply"),this.ensureApplyButtonAnimation(t)}ensureFullscreen(){document.body.classList.add(a),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.events.focus()}ensureApplyButtonAnimation(e){localStorage.getItem(s)||(setTimeout((()=>{e.classList.add(c)}),300),setTimeout((()=>{e.classList.remove(c)}),3e3),localStorage.setItem(s,"1"))}handleFullscreenExit(){const e=this.formComponent.querySelector(`.${i.Lr}`);this.froalaEditor.codeView.isActive()&&this.froalaEditor.codeView.toggle();const t=this.froalaEditor.html.get();e.value=(0,r.NU)(t),e.dispatchEvent(new Event("change")),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.destroy();const n=this.froalaEditor.$oel[0];n.innerHTML="",this.formComponent.querySelector("[data-inline-editor]").appendChild(n),document.body.classList.remove(a)}}const d=e=>({toolbarInline:!1,iframe:!0,zIndex:10205,events:{initialized(){new l(this,e).initialize()}},iframeStyle:n(1778)()}),u=n(7127)(),p=(e,t,s,a,c=!0)=>{const l=e.querySelector(".ktc-btn"),p=e.querySelector(`.${i.Lr}`);l&&l.addEventListener("click",(()=>{const t=e.querySelector(i.nF);t.classList.add("ktc-rich-text-form-component__froala"),document.body.appendChild(t),(0,o.Q)(t,d(e),p.value,c,a,s)})),p.value=t.html,p.addEventListener("change",(()=>{e.querySelector("iframe").srcdoc=(e=>(e=(0,r.h4)(e),n(8503)({html:e,froalaCss:u})))(p.value),""===p.value?e.classList.add("ktc-rich-text-form-component--empty"):e.classList.remove("ktc-rich-text-form-component--empty")})),p.dispatchEvent(new Event("change"))}},6785:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});const i=e=>"object"==typeof e},1201:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n(8858);const o=(e,t,n)=>{const o=r({initialized(){if(e){const t=(0,i.eF)(e,this.opts.contextMacros);this.html.set(t)}},"html.set"(){(0,i.ht)(this)},contentChanged(){(0,i.ht)(this)}},t);return r(o,n)},r=(e,t)=>{if("object"!=typeof t.events)return e;const n=Object.assign({},e),i=Object.assign({},t.events);for(const[e,t]of Object.entries(n)){const o=i[e];"function"==typeof o&&(n[e]=function(...e){t.call(this,...e),o.call(this,...e)},delete i[e])}return Object.assign(Object.assign({},n),i)}},262:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var i=n(4631),o=n.n(i),r=(n(9589),n(4122)),s=n(2759),a=n(5102),c=n(6166);const l={codeMirror:o(),pasteDeniedAttrs:["id","style"],imageAllowedTypes:["gif","png","jpg","jpeg","svg","webp"],imageEditButtons:[s.wQ,"imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageSize"],quickInsertButtons:[a.t6,a.MJ,"table","ul","ol","hr"],linkEditButtons:["linkOpen",a.VX,"linkRemove"],toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["formatOL","formatUL","paragraphFormat","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","paragraphStyle","lineHeight","outdent","indent","quote"],buttonsVisible:2},moreRich:{buttons:[a.tT,a.y_,c.U3,a.uW,"insertTable","emoticons","specialCharacters","insertHR"]},moreMisc:{buttons:["undo","redo",a.Um,"selectAll","html","help"],buttonsVisible:2}}},d=(e,t,n,i)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),t),n),i),{key:r.DEFAULTS.licenseKey,events:e,attribution:!1})},2759:function(e,t,n){"use strict";n.d(t,{$7:function(){return l},HX:function(){return p},Ke:function(){return d},Qc:function(){return i},_K:function(){return c},oo:function(){return s},py:function(){return u},wQ:function(){return r},y_:function(){return o},zB:function(){return a}});const i="kenticoImagePlugin",o="insertImage",r="imageReplace",s="image",a="closeImagePopup",c="openImageSelection",l="clearImageSelection",d="saveImage",u="updateImage",p=`${i}.popupImage`},6550:function(e,t,n){"use strict";n.d(t,{y:function(){return rt},b:function(){return ot}});var i=n(4122),o=n.n(i),r=n(2759),s=n(4435);class a{constructor(e,t,n){this.commandName=e,this.commandParameters=t,this.commandIcon=n}get getPluginType(){return null}register(){(0,i.RegisterCommand)(this.commandName,Object.assign(Object.assign({},this.commandParameters),{title:null!==this.getPluginType&&this.commandParameters.title?(0,s.GQ)(this.commandParameters.title,this.getPluginType):this.commandParameters.title})),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}var c=n(3439),l=n(2081);const d=(e,t)=>(0,c.l)(e.popups.get(t)),u=(e,t,n,i,o,r,s)=>{e.popups.get(t)||(((e,t,n,i)=>{let o="";n.length>0&&(o+='<div class="fr-buttons">',o+=e.button.buildList(n),o+="</div>");const r={buttons:o};i&&(r.custom_layer=i),e.popups.create(t,r)})(e,t,n,s),i!==l.Q.INSERT&&!e.opts.toolbarInline&&e.$wp&&e.events.$on(e.$wp,"scroll",(()=>{r&&r()&&e.popups.isVisible(t)&&u(e,t,n,i,o,r,s)})));const a=i===l.Q.INSERT&&e.$tb||e.$sc;e.popups.refresh(t),e.popups.setContainer(t,a);const c=r?r().getBoundingClientRect():e.position.getBoundingRect(),{top:d,left:p,width:g,height:f}=c,h=p+g/2-o/2,m=d+window.pageYOffset+f;e.popups.show(t,h,m,f)},p=e=>{e.querySelectorAll(".fr-input-line input").forEach((e=>{e.addEventListener("focus",(function(){this.value||this.classList.add("fr-not-empty")})),e.addEventListener("blur",(function(){this.value||this.classList.remove("fr-not-empty")}))}))};class g{constructor(e,t){this.iconName=e,this.iconParameters=t}}class f extends a{get getPluginType(){return l.z.ImagePlugin}}var h=n(9621),m=n(1944);const y="ktc-image-selector--empty",v={title:"command.insertimage",icon:r.y_,focus:!0,undo:!0,refreshAfterCallback:!1,callback(){this.kenticoImagePlugin.showInsertImagePopup()}},b=new f(r.y_,v),w=new class extends a{register(){(0,i.RegisterQuickInsertButton)(this.commandName,this.commandParameters),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}(r.oo,v),k=new f(r.Ke,{title:"",undo:!0,focus:!1,callback(){j(this)}}),_=new g(r.wQ,{NAME:"editImage",SVG_KEY:"edit"}),O=new f(r.wQ,{title:"command.editimage",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){this.kenticoImagePlugin.showConfigureImagePopup()}},_),I=new f(r.py,{title:"",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){j(this,this.image.get())}}),T=new g(r.zB,{NAME:"arrow-left",SVG_KEY:"back"}),S=new f(r.zB,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoImagePlugin.closeImageConfigurationPopup()}},T),A=new f(r._K,{title:"",undo:!1,focus:!1,async callback(){const{opts:e}=this,{contentSelector:t}=window.kentico.modalDialog,{imageUrl:n}=M(this),i=`.${e.imageAllowedTypes.join(";.")}`;let o=null;if(n){const e=this.opts.getLinkMetadataEndpointUrl,{linkType:t,linkMetadata:i}=await(0,s.Pe)(e,n),r=(0,s.YF)(t);o=null===i?null:{type:r,items:[{value:i.identifier}]}}t.open({tabs:["media","attachment"],selectedItems:o,mediaOptions:{allowedExtensions:i},attachmentOptions:{allowedExtensions:i},applyCallback:E(this)})}}),C=new f(r.$7,{title:"",undo:!1,focus:!1,callback(){const e=d(this,r.HX),t=P(e);t.selector.classList.add(y),t.urlField.value="",t.urlField.focus(),t.preview.src="",t.preview.alt=""}}),j=(e,t)=>{const{imageUrl:n,alternativeText:i}=M(e);n?(e.image.insert(n,!0,{alt:i},t),e.kenticoImagePlugin.closeImageConfigurationPopup()):e.kenticoImagePlugin.closeImageConfigurationPopup()},E=e=>async({items:t,type:n})=>{if(t&&t.length){const i=d(e,r.HX);if(!i)return;const{url:o,description:s,thumbnailUrls:a,fileGuid:c}=t[0];let l=s;if(e.opts.isImageRecognitionEnabled&&0===l.length){const t=(0,m.N)(e.opts.getImageDescriptionEndpointUrl,{guid:c,type:n});l=(await h.dJ.post(t)).data}D(i,o,a.large,l)}},D=(e,t,n,i)=>{const o=P(e);o.selector.classList.remove(y),o.urlField.value=t,o.altText.value=i,o.altText.classList.add("fr-not-empty"),o.altText.focus(),o.preview.src=n},P=e=>({selector:e.querySelector(".ktc-image-selector"),urlField:e.querySelector("input[name='imageUrl']"),altText:e.querySelector("input[name='altText']"),preview:e.querySelector(".ktc-selector-item-preview")}),M=e=>{var t,n;const i=d(e,r.HX).querySelector(".ktc-popup-form"),o=new FormData(i);return{imageUrl:null===(t=o.get("imageUrl"))||void 0===t?void 0:t.trim(),alternativeText:null===(n=o.get("altText"))||void 0===n?void 0:n.trim()}},x=[b,O,w,S,A,C,k,I],L=e=>(0,s.GQ)(e,l.z.ImagePlugin),R="ktc-configure-popup";function z(){B(this,l.Q.INSERT)}function N(){const e=(0,c.l)(this.image.get());e&&B(this,l.Q.UPDATE,(()=>e),e.getAttribute("src"),e.alt)}function H(){this.popups.hide(r.HX)}const B=(e,t,i,o="",s="")=>{const a=`<div class="${R}"></div>`;u(e,r.HX,e.opts.popupInsertImageButtons,t,300,i,a);const c=d(e,r.HX);c.querySelector(`.${R}`).innerHTML=((e,t)=>n(4679)({contentSelectionCommand:r._K,clearSelectionCommand:r.$7,submitCommand:e?r.py:r.Ke,imageUrl:e,altText:t,imageUrlLabel:L("label.imageurl"),clearSelectionButtonText:L("actionbutton.clear"),contentSelectionButtonText:L("actionbutton.select"),altTextLabel:L("label.alttext"),submitButtonText:L(e?"actionbutton.update":"actionbutton.insert")}))(o,s),p(c);const l=e.popups.get(r.HX);e.accessibility.focusPopup(l)},$=function(e){const t={showInsertImagePopup:z,showConfigureImagePopup:N,closeImageConfigurationPopup:H};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var W=n(2817),G=n(4107);class U extends a{get getPluginType(){return l.z.LinkPlugin}}var q=n(5102);class V{constructor(e,t="",n=!1,i=!1,o){this.linkAttributes=null!=o?o:{},"string"==typeof e?(this.linkText=0===e.trim().length?"":e,this.linkURL=t,this.openInNewTab=n,this.isImageLink=i):(this.linkText=e.text,this.linkURL=e.getAttribute("href")||"",this.openInNewTab="_blank"===e.target,this.isImageLink=!!e.querySelector("img"),Array.from(e.attributes).forEach((e=>{this.linkAttributes[e.name]=e.value})))}}let F,Z;const K=e=>function(t){const n=(0,c.l)(t);n&&((this.link.get()?!e:e)?n.classList.remove("fr-hidden"):n.classList.add("fr-hidden"))},Q={title:"command.insertlink",focus:!1,undo:!1,plugin:q.yx,refreshAfterCallback:!0,callback(e){this.selection.save();const t=this.selection.text(),n=(0,c.l)(this.image.get()),i=!!n;if(F=new V(t,"",!1,i),Z=new G.K(W.LinkType.PAGE),i&&n)this.kenticoLinkPlugin.showInsertLinkPopup(F,(()=>this.image.get()[0]));else if(this.opts.toolbarInline)this.kenticoLinkPlugin.showInsertLinkPopup(F);else{const t=()=>(0,c.l)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoLinkPlugin.showInsertLinkPopup(F,t)}}},X=new U(q.tT,Q),Y=new U(q.Jf,Object.assign(Object.assign({},Q),{refresh:K(!0)})),J=new g(q.Qu,{NAME:"arrow-left",SVG_KEY:"back"}),ee=new U(q.Qu,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},J),te={title:"",undo:!0,focus:!1,callback(){const e=ue(this);if(!e)return void this.kenticoLinkPlugin.closeLinkConfigurationPopup();const t=this.link.get();t&&t.removeAttribute("target"),e.openInNewTab&&(e.linkAttributes.target="_blank"),this.link.insert(e.linkURL,e.linkText,e.linkAttributes),this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},ne=new U(q.jH,te),ie=new g(q.VX,{NAME:"editLink",SVG_KEY:"insertLink"}),oe=new U(q.VX,{title:"command.editlink",undo:!1,focus:!1,refresh:K(!1),async callback(){const e=this.link.get(),t=new V(e),n=this.opts.getLinkMetadataEndpointUrl;Z=await(0,s.Pe)(n,t.linkURL),this.kenticoLinkPlugin.showLinkConfigurationPopup(t,Z)}},ie),re=new U(q.cR,{title:"",undo:!1,focus:!1,callback(){const e=d(this,q.DJ),t=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),n=e.querySelector("input[name='linkUrl']");t.disabled=!1,t.value="",t.focus(),n.value="",Z=null}}),se=new U(q.cC,{title:"command.openlink",undo:!1,focus:!1,callback(){const e=this.link.get();e&&window.open(e.href,"_blank")}}),ae={title:"",undo:!1,focus:!1,callback(){const{contentSelector:e}=window.kentico.modalDialog;let t={applyCallback:le(this)};const n=Z&&Z.linkMetadata&&Z.linkMetadata.identifier;n&&(t=Object.assign(Object.assign({},t),{selectedItems:{type:(0,s.YF)(Z.linkType),items:[{value:n}]}})),e.open(t)}},ce=new U(q.T0,ae),le=e=>({type:t,items:n})=>{if(n&&n.length){const i=d(e,q.DJ),o=e.link.get(),r=new V(o?o.text:e.selection.text());if(!i)return;if("page"===t){const{name:e,nodeGuid:o,url:s}=n[0];de(i,r,e,t,s,o)}else{const{url:e,name:o,fileGuid:s,extension:a}=n[0];de(i,r,a?o+a:o,t,e,s)}}},de=(e,t,n,i,o,r)=>{const s=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),a=e.querySelector("input[name='linkUrl']"),c=e.querySelector("input[name='linkText']");a.value=o,s.value=s.title=n,s.classList.add("fr-not-empty"),s.disabled=!0,c&&!c.value&&(c.value=n,c.classList.add("fr-not-empty")),Z=new G.K(ge(i),t.linkURL,{name:n,identifier:r})},ue=e=>{const t=d(e,q.DJ);if(!t)return null;const n=pe(t,e.opts.linkAttributes),i=t.querySelector(".ktc-selector-item"),o=!i.disabled?i.value:n.linkURL,r=n.linkText?n.linkText:i.value;return o?new V(r,o,n.openInNewTab,!1,n.linkAttributes):null},pe=(e,t)=>{const n=e.querySelector(".ktc-popup-form"),i=new FormData(n),o=Object.keys(t).reduce(((e,t)=>(e[t]=i.get(t),e)),{});return{linkURL:i.get("linkUrl"),linkText:i.get("linkText"),openInNewTab:Boolean(i.get("openInNewTab")),isImageLink:!1,linkAttributes:o}},ge=e=>{switch(e){case"page":return W.LinkType.PAGE;case"media":return W.LinkType.MEDIA;case"attachment":return W.LinkType.ATTACHMENT;default:return null}},fe=[X,Y,oe,ee,re,ne,ce,se],he=e=>(0,s.GQ)(e,l.z.LinkPlugin),me="ktc-configure-popup";function ye(e,t){be(this,e,new G.K(W.LinkType.EXTERNAL),l.Q.INSERT,t)}function ve(e,t){be(this,e,t,l.Q.UPDATE,(()=>this.link.get()))}const be=(e,t,i,o,r)=>{const s=`<div class="${me}"></div>`,a=q.DJ;u(e,a,e.opts.popupInsertLinkButtons,o,q.Vw,r,s);const c=d(e,a);if(!c)return;const{linkType:g}=i,f=c.querySelector(`.${me}`);if(!f)return;const h=[W.LinkType.PAGE,W.LinkType.MEDIA,W.LinkType.ATTACHMENT].includes(g)?i.linkMetadata.name:null;if(g===W.LinkType.LOCAL){const{linkText:e,openInNewTab:n,linkAttributes:o}=t;t=new V(e,i.linkURL,n,void 0,o)}const m=Object.keys(e.opts.linkAttributes).reduce(((n,i)=>(n[i]={label:e.opts.linkAttributes[i],value:null===t.linkAttributes?"":t.linkAttributes[i]},n)),{});f.innerHTML=((e,t,i,o,r)=>n(9115)({link:e||t.linkURL,linkLabel:he("label.link"),linkUrl:t.linkURL,linkText:t.linkText,linkTextLabel:he("label.text"),linkAttributes:r,isContentLinkType:i===W.LinkType.PAGE||i===W.LinkType.MEDIA||i===W.LinkType.ATTACHMENT,isFormBuilder:void 0!==window.kentico.formBuilder,imageLink:t.isImageLink,openInNewTabLabel:he("label.openinnewtab"),openInNewTab:t.openInNewTab,command:q.jH,clearSelectionCommand:q.cR,contentSelectionCommand:q.T0,clearSelectionButtonText:he("actionbutton.clear"),contentSelectionButtonText:he("actionbutton.select"),actionButtonText:he(o===l.Q.INSERT?"actionbutton.insert":"actionbutton.save")}))(h,t,g,o,m),p(c);const y=e.popups.get(a);e.accessibility.focusPopup(y)};function we(){this.popups.hide(q.DJ)}const ke=function(e){const t={showInsertLinkPopup:ye,showLinkConfigurationPopup:ve,closeLinkConfigurationPopup:we};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var _e=n(7187),Oe=n.n(_e);class Ie extends a{get getPluginType(){return l.z.MacroPlugin}}var Te,Se=n(6166),Ae=n(2920),Ce=n(3436);function je(e){const t=this.kenticoMacroPlugin.getActiveMacro();t&&t.classList.remove(Se.PH),e.classList.add(Se.PH),u(this,Se.ON,this.opts.popupActionButtons,l.Q.UPDATE,Se.NB,(()=>this.kenticoMacroPlugin.getActiveMacro()))}function Ee(){this.popups.hide(Se.ON);const e=this.el.querySelector(`.${Se.PH}`);e&&e.classList.remove(Se.PH)}!function(e){e.URL="query",e.CONTEXT="pattern"}(Te||(Te={}));var De=n(9167);const Pe=(e,t,n)=>function(i,o,r="",s=""){u(this,e,t,i,Se.AF,o,'<div class="ktc-configure-popup"></div>'),Me(this,e,i,n,r,s)},Me=(e,t,n=l.Q.INSERT,i,o="",r="")=>{r=r.trim().replace(/"/g,"&quot;");const s=d(e,t);if(s){const a=s.querySelector(".ktc-configure-popup");let c;i===Te.URL?(a.innerHTML=(0,Ce._v)(n,o,r),c=Se.p7):(a.innerHTML=(0,Ce.ut)(n,e.opts.contextMacros,o,r),c=Se.H$);const l=s.querySelector(`.fr-command.${De.Q1}`);l&&l.classList.remove(De.Q1);if(s.querySelector(`.fr-command[data-cmd="${c}"]`).classList.add(De.Q1),p(s),i===Te.URL){const n=e.popups.get(t);e.accessibility.focusPopup(n)}}};let xe;const Le=new g(Se.U3,{PATH:Se.DM,template:"svg"}),Re=new Ie(Se.U3,{title:"command.insertdynamictext",icon:Se.U3,focus:!1,undo:!1,plugin:Se.fi,refreshAfterCallback:!0,callback(e){this.selection.save(),xe=this.selection.text();const t=this.opts.toolbarInline?void 0:()=>(0,c.l)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoMacroPlugin.showConfigurationPopup(l.Q.INSERT,t,void 0,xe)}},Le),ze={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){this.selection.restore();const t=d(this,Se.Hf);if(t){this.undo.saveStep();const n=t.querySelector("#ktc-macro-popup-form"),i=new FormData(n),o=e===Se.Fl?Te.URL:Te.CONTEXT,r=this.opts.contextMacros;let s="",a="";if(o===Te.URL){const e=i.get("urlParameterName");s=encodeURI(e),a=(0,Ae.t)(r,e)}else o===Te.CONTEXT&&(s=i.get("contextMacroType"),a=(0,Ae.t)(r,s));const c=Oe()(i.get("defaultText"));if(s){const e=(0,Ce.VK)(o,s,c,a);this.html.insert(e)}this.kenticoMacroPlugin.hideConfigurationPopup()}}},Ne=new Ie(Se.Et,ze),He=new Ie(Se.Fl,ze),Be=new Ie(Se.$d,ze),$e={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){const t=this.el.querySelector(`.${Se.PH}`),n=e===Se.fo?Se.cU:e===Se.cP?Se.I5:"",i=d(this,n);if(i&&t){this.undo.saveStep();const n=i.querySelector("#ktc-macro-popup-form"),o=new FormData(n),r=o.get(e===Se.fo?"urlParameterName":"contextMacroType"),s={macroValue:encodeURI(r),macroDefaultValue:Oe()(o.get("defaultText"))};s.macroValue&&(t.value=(0,Ae.t)(this.opts.contextMacros,r),Object.assign(t.dataset,s)),this.kenticoMacroPlugin.hidePopups()}}},We=new Ie(Se.fo,$e),Ge=new Ie(Se.cP,$e),Ue=new Ie(Se.bf,{title:"command.removemacro",icon:"remove",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){const e=this.el.querySelector(`.${Se.PH}`);e&&(this.undo.saveStep(),e.remove()),this.kenticoMacroPlugin.hideActionsPopup()}}),qe=new g(Se.M8,{NAME:"cog-wheel",SVG_KEY:"cogs"}),Ve=new Ie(Se.M8,{title:"command.configuremacro",undo:!1,focus:!1,callback(){const e=()=>this.kenticoMacroPlugin.getActiveMacro(),t=e();if(t){const n=t.dataset,{macroValue:i,macroDefaultValue:o,macroType:r}=n;r===Te.URL?this.kenticoMacroPlugin.showConfigureUrlPopup(l.Q.UPDATE,e,i,o):this.kenticoMacroPlugin.showConfigureContextMacroPopup(l.Q.UPDATE,e,i,o)}}},qe),Fe=new g("macro",{PATH:Se.hq,template:"svg"}),Ze=new Ie(Se.H$,{title:"command.contactattribute",icon:"macro",undo:!1,focus:!1,callback(){Me(this,Se.Hf,l.Q.INSERT,Te.CONTEXT,void 0,xe)}},Fe),Ke=new g("queryString",{PATH:Se.q3,template:"svg"}),Qe=new Ie(Se.p7,{title:"command.urlparameter",icon:"queryString",undo:!1,focus:!1,callback(){Me(this,Se.Hf,l.Q.INSERT,Te.URL,void 0,xe)}},Ke),Xe=new g("popupConfigureClose",{NAME:"arrow-left",SVG_KEY:"back"}),Ye=[Re,Ue,Ve,new Ie(Se.B4,{title:"command.popupback",undo:!1,focus:!1,callback(){this.kenticoMacroPlugin.hideConfigurationPopup()}},Xe),Ze,Qe,Ne,He,Be,We,Ge];function Je(){this.popups.isVisible(Se.ON)&&this.popups.hide(Se.ON),tt.call(this)}function et(){return this.el.querySelector(`.${Se.PH}`)}function tt(){this.popups.isVisible(Se.cU)&&this.popups.hide(Se.cU),this.popups.isVisible(Se.I5)&&this.popups.hide(Se.I5),this.popups.isVisible(Se.Hf)&&this.popups.hide(Se.Hf)}const nt=function(e){const t=e.opts.popupConfigureButtons,n=e.opts.contextMacros?t:t.filter((e=>e!==Se.H$)),i={getActiveMacro:et,showActionsPopup:je,hideActionsPopup:Ee,showConfigureContextMacroPopup:Pe(Se.I5,e.opts.popupEditContextMacroButtons,Te.CONTEXT),showConfigureUrlPopup:Pe(Se.cU,e.opts.popupEditUrlMacroButtons,Te.URL),showConfigurationPopup:Pe(Se.Hf,n,Te.URL),hideConfigurationPopup:tt,hidePopups:Je};return Object.keys(i).forEach((t=>{i[t]=i[t].bind(e)})),i};let it=!1;const ot=()=>{Object.assign(i.POPUP_TEMPLATES,{[r.HX]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertImageButtons:[r.zB,"|"]}),x.forEach((e=>e.register())),i.PLUGINS[r.Qc]=$,Object.assign(i.POPUP_TEMPLATES,{[Se.ON]:"[_BUTTONS_]",[Se.Hf]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Se.cU]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Se.I5]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupActionButtons:[Se.bf,Se.M8],popupConfigureButtons:[Se.B4,"|",Se.p7,Se.H$],popupEditUrlMacroButtons:[Se.B4,"|",Se.p7],popupEditContextMacroButtons:[Se.B4,"|",Se.H$]}),Ye.forEach((e=>e.register())),i.PLUGINS[Se.fi]=nt,Object.assign(i.POPUP_TEMPLATES,{[q.DJ]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertLinkButtons:[q.Qu,"|"]}),fe.forEach((e=>e.register())),i.PLUGINS[q.yx]=ke},rt=()=>{var e;if(!it){const t=null===(e=window.kentico.pageBuilder.richTextEditor)||void 0===e?void 0:e.plugins;null==t||t.forEach((e=>e(o()))),it=!0}}},4107:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});class i{constructor(e,t=null,n=null){this.linkType=e,this.linkURL=t,this.linkMetadata=n}}},5102:function(e,t,n){"use strict";n.d(t,{DJ:function(){return y},Jf:function(){return a},MJ:function(){return l},Qu:function(){return p},T0:function(){return h},Um:function(){return m},VX:function(){return d},Vw:function(){return v},cC:function(){return u},cR:function(){return f},jH:function(){return g},t6:function(){return c},tT:function(){return o},uW:function(){return s},y_:function(){return r},yx:function(){return i}});const i="kenticoLinkPlugin",o="insertLink",r="insertImage",s="insertVideo",a="imageLink",c="image",l="video",d="linkEdit",u="linkOpen",p="closeLinkPopup",g="saveLink",f="clearSelection",h="openContentSelection",m="fullscreen",y=`${i}.popupLink`,v=300},6166:function(e,t,n){"use strict";n.d(t,{$d:function(){return f},AF:function(){return b},B4:function(){return d},DM:function(){return O},Et:function(){return o},Fl:function(){return g},H$:function(){return u},Hf:function(){return w},I5:function(){return _},M8:function(){return c},NB:function(){return y},ON:function(){return v},PH:function(){return m},U3:function(){return l},bf:function(){return r},cP:function(){return a},cU:function(){return k},fi:function(){return i},fo:function(){return s},hq:function(){return T},p7:function(){return p},q3:function(){return I},rW:function(){return h}});const i="kenticoMacroPlugin",o="insertMacro",r="removeMacro",s="updateUrlParameterMacro",a="updateContextMacro",c="configureMacro",l="insertDynamicText",d="popupConfigureClose",u="openMacroTab",p="openQueryTab",g="insertUrlMacro",f="insertContextMacro",h="ktc-macro",m=`${h}-active`,y=102,v=`${i}.popup`,b=300,w=`${i}.popupConfigure`,k=`${i}.popupUrl`,_=`${i}.popupContext`,O="m 1,12 3,-5 3,5 z m 22,0 -3,5 -3,-5 z M 8.34277,8.21484 h 7.82663 l 0.0127,2.62156 H 15.8076 C 15.6849,9.9012 15.3337,9.26855 14.7539,8.93848 14.4281,8.75651 13.9414,8.65706 13.2939,8.64014 v 6.84276 c 0,0.4782 0.0826,0.7956 0.2476,0.9522 0.1693,0.1565 0.5184,0.2348 1.0474,0.2348 V 17 H 9.95508 v -0.3301 c 0.50782,0 0.84422,-0.0783 1.00932,-0.2348 0.1692,-0.1608 0.2539,-0.4782 0.2539,-0.9522 V 8.64014 C 10.5835,8.65706 10.0968,8.75651 9.7583,8.93848 9.13623,9.27702 8.78499,9.90967 8.70459,10.8364 H 8.33008 Z M 12,19 c 2.3972,0 4.513,-1.205 5.7746,-3.0423 l 1.1063,1.8438 C 17.23,19.7576 14.7601,21 12,21 7.02944,21 3,16.9706 3,12 3,11.662 3.01863,11.3283 3.05493,11 H 5.07089 C 5.02417,11.3266 5,11.6605 5,12 c 0,3.866 3.13401,7 7,7 z M 6.2254,8.04233 C 7.48704,6.205 9.6028,5 12,5 c 3.866,0 7,3.13401 7,7 0,0.3395 0.0467,-0.3266 0,0 h 2 c 0.0363,-0.3283 0,0.338 0,0 C 21,7.02944 16.9706,3 12,3 9.23993,3 6.77005,4.24243 5.11912,6.19853 Z",I="M16.456941 4.788366C14.346076 4.788366 12.619002 6.6581714 12.619002 8.943489C12.619002 8.943489 14.537971 8.943489 14.537971 8.943489C14.537971 7.8008302 15.401507 6.8659275 16.456941 6.8659275C17.512374 6.8659275 18.375911 7.8008302 18.375911 8.943489C18.375911 11.021051 15.497455 10.709418 15.497455 14.137394C15.497455 14.137394 15.497455 15.176174 15.497455 15.176174C15.497455 15.176174 17.416426 15.176174 17.416426 15.176174C17.416426 15.176174 17.416426 14.137394 17.416426 14.137394C17.416426 11.852075 20.294881 11.540442 20.294881 8.943489C20.294881 6.6581714 18.567807 4.788366 16.456941 4.788366C16.456941 4.788366 16.456941 4.788366 16.456941 4.788366M15.497455 17.253737C15.497455 17.253737 17.416426 17.253737 17.416426 17.253737C17.416426 17.253737 17.416426 19.331299 17.416426 19.331299C17.416426 19.331299 15.497455 19.331299 15.497455 19.331299C15.497455 19.331299 15.497455 17.253737 15.497455 17.253737M10.170443 4.7001474C10.170443 4.7001474 3.8418003 19.29756 3.8418003 19.29756C3.8418003 19.29756 5.8253586 19.28441 5.8253586 19.28441C5.8253586 19.28441 12.164521 4.7137829 12.164521 4.7137829",T="M 16,16 H 22 V 18 H 16 Z M 14,6 H 22 V 8 H 14 Z M 14,11 H 22 V 13 H 14 Z M 8,5.0572534 C 6.3794438,5.0572534 5.0572534,6.3794438 5.0572534,8 5.057254,9.6205557 6.3794443,10.942747 8,10.942747 9.6205553,10.942746 10.942746,9.6205553 10.942747,8 10.942747,6.3794443 9.6205557,5.057254 8,5.0572534 Z M 14,19 H 2 C 2,19 1.99997,12 7.99997,12 14,12 14,19 14,19 Z"},2920:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var i=n(4435),o=n(2081);const r=(e,t)=>e&&e[t]||`${(0,i.GQ)("macroelement.urlparameterprefix",o.z.MacroPlugin)}: ${t}`},3436:function(e,t,n){"use strict";n.d(t,{VK:function(){return a},_v:function(){return c},ut:function(){return l}});var i=n(2081),o=n(6166),r=n(4435);const s=e=>(0,r.GQ)(e,i.z.MacroPlugin),a=(e,t,i,r)=>n(6114)({macroClass:o.rW,macroType:e,macroValue:t,macroDefaultValue:i,macroDisplayValue:r}),c=(e=i.Q.INSERT,t="",r="")=>n(6522)({value:t,defaultValue:r,actionButtonText:e===i.Q.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),urlParameterLabel:s("label.urlparameter"),command:e===i.Q.INSERT?o.Fl:o.fo}),l=(e,t,r="",a="")=>n(4806)({macros:t,macroValue:r,macroDefaultValue:a,actionButtonText:e===i.Q.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),macroTypeLabel:s("label.contactattribute"),command:e===i.Q.INSERT?o.$d:o.cP})},4435:function(e,t,n){"use strict";n.d(t,{GQ:function(){return c},Pe:function(){return d},YF:function(){return l}});var i=n(6988),o=n(2817),r=n(1944),s=n(9868),a=n(4107);const c=(e,t)=>{const n=`kentico.components.widget.richtext.${t}`;return(0,i.ko)(s.rv.LocalizationService).getLocalizationWithoutPrefix(`${n}.${e}`)||`${n}.${e}`},l=e=>{switch(e){case 0:return"page";case 1:return"media";case 2:return"attachment";default:return null}},d=async(e,t)=>{const n=(0,r.B)(e,"linkUrl",encodeURIComponent(t));try{const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);return e.json()}catch(e){console.error(e)}return new a.K(o.LinkType.EXTERNAL)}},2081:function(e,t,n){"use strict";var i,o;n.d(t,{Q:function(){return o},z:function(){return i}}),function(e){e.MacroPlugin="macroplugin",e.LinkPlugin="linkplugin",e.ImagePlugin="imageplugin"}(i||(i={})),function(e){e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE"}(o||(o={}))},5844:function(e,t,n){"use strict";n.d(t,{M:function(){return l},R:function(){return O}});var i=n(9755),o=n.n(i),r=(n(686),n(6988)),s=n(3439),a=n(9868);const c="data-value-for",l="ktc-object-selector-dropdown",d="ktc-object-selector-container",u="ktc-object-selector-dropdown__search--hide",p="select2-search__field",g="ktc-object-selector-dropdown--searching",f="ktc-object-selector-wrapper--height-limited",h=o().fn.select2.amd.require("select2/utils"),m=o().fn.select2.amd.require("select2/dropdown"),y=o().fn.select2.amd.require("select2/dropdown/search"),v=o().fn.select2.amd.require("select2/dropdown/minimumResultsForSearch"),b=o().fn.select2.amd.require("select2/dropdown/attachBody"),w=o().fn.select2.amd.require("select2/dropdown/dropdownCss"),k=h.Decorate(h.Decorate(h.Decorate(h.Decorate(m,y),v),w),b);let _=!1;const O=()=>{document.addEventListener("Kentico.Selector.ObjectSelector.Initialize",(e=>{const t=o()(e.target);let n=!1;const i=parseInt(t.attr("data-max-items-limit"),10),r=1!==i;t.removeAttr("name");let a={multiple:r,maximumSelectionLength:r?i:0,placeholder:T("noitemselected"),minimumResultsForSearch:7,closeOnSelect:!r,selectionCssClass:`${d} ktc-form-control`,dropdownCssClass:`${l} ${u}`,ajax:{url:t.attr("data-get-objects-endpoint-url"),dataType:"json",delay:400,data:e=>({pageIndex:(null==e?void 0:e.page)-1||0,searchTerm:e.term}),processResults:(e,t)=>({results:e.items.map((e=>({id:JSON.stringify(e.value),text:e.text}))),pagination:{more:e.nextPageAvailable}}),transport(e,i,r){const s=o().ajax(e);return s.then((e=>{if(!n){const e=t.data("select2").$dropdown.find(`.${l}`);e.removeClass(u),e.find(`input.${p}`).focus(),n=!0}return e})).then(i),s.fail(r),s},cache:!0},language:{loadingMore:()=>T("loadingmore"),noResults:()=>T("noresults"),searching:()=>T("searching")}};r&&(a=Object.assign(Object.assign({},a),{dropdownAdapter:k,templateResult:e=>o()("<span>"+e.text+"</span>")})),t.select2(a),I(t,r);const c=t[0].closest(".ktc-object-selector-wrapper"),g=c.querySelector(".clear-button");if(g.addEventListener("click",(()=>{t.empty().val(null).trigger("change"),S((0,s.l)(t))})),r){const e=()=>{c.classList.remove(f)};c.querySelector(".ktc-show-all-items-container").addEventListener("click",e),g.addEventListener("click",e),c.classList.add(f);const t=c.querySelector(`.${d}`);t.scrollHeight<=t.clientHeight&&e();c.querySelector(`.${p}`).addEventListener("focus",(function(){const e=o()(t);e.prop("tabindex",0),e.trigger("focus"),o()(this).prop("disabled",!0)}))}}))},I=(e,t)=>{e.on("change.select2",(function(){const e=document.querySelector(`[${c}='${this.id}']`),t=o()(this).val();e.value=t?`[${t}]`:""})).one("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");t.find(`input.${p}`).prop("placeholder",T("searchplaceholder"))})).on("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");setTimeout((()=>{t.find(`.${l}`).addClass(g)}),200)})).on("select2:closing",(t=>{const{$dropdown:n}=o()(t.target).data("select2");n.find(`.${l}`).removeClass(g),S((0,s.l)(e))})),t&&e.on("select2:opening select2:closing",(function(){o()(this).parent().find(`.${d}`).prop("tabindex",0);o()(this).parent().find(`.${p}`).prop("disabled",!0)})).on("select2:unselect",(t=>{var n;t.target.querySelector(`[value='${t.params.data.id}']`).remove();const i=e.select2("data").length,o=e.data("select2").options.options.maximumSelectionLength,r=o-i==1,a=e.select2("isOpen");o>0&&r&&a?(_=!0,e.select2("close")):null===(n=t.params.originalEvent)||void 0===n||n.stopPropagation(),a||S((0,s.l)(e))}))},T=e=>(0,r.ko)(a.rv.LocalizationService).getLocalizationWithoutPrefix(`kentico.components.objectselector.${e}`),S=e=>{if(_)_=!1;else{const t=document.querySelector(`[${c}='${e.id}']`);t.dispatchEvent(new Event("input")),t.dispatchEvent(new Event("change"))}}},6631:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var i=n(5466),o=n(3583),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let a=class{constructor(e){this.defaultPrefix="kentico.builder",this.getLocalizationWithoutPrefix=(e,...t)=>{let n=this.getRawLocalization(e);return void 0===n?e:(t.length>0&&(n=o.kA.format(n,...t)),n)},this.specializedPrefix=e}getLocalization(e,...t){let n=this.getRawLocalization(this.getResourceStringKey(this.specializedPrefix,e));return void 0===n&&(n=this.getRawLocalization(this.getResourceStringKey(this.defaultPrefix,e))),void 0===n?e:(t.length>0&&(n=o.kA.format(n,...t)),n)}getCultureCode(){return window.kentico.localization.culture}getRawLocalization(e){return window.kentico.localization.strings[e]}getResourceStringKey(e,t){return e+"."+t}};a=r([(0,i.b)(),s("design:paramtypes",[String])],a)},2043:function(e,t,n){"use strict";n.d(t,{o:function(){return g}});var i=n(5466),o=n(6756),r=n(6988),s=n(7110),a=n(3583),c=n(4447),l=n(4637),d=n(7699),u=n(9868),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let g=class{registerListener(e,t,n){window.addEventListener("message",this.makeReceiveMessage(e,t,n))}makeReceiveMessage(e,t,n){return async i=>{if(i.data&&i.data.hasOwnProperty("msg")&&i.data.msg.startsWith("Kentico.")){if(!a.T.contains(n,i.origin.toLowerCase())){let e=(0,r.ko)(u.rv.LocalizationService).getLocalization("messaging.forbiddenorigin");return e=a.kA.format(e,i.origin),void c.k.logError(e)}return this.processIncomingMessage(e,t)(i)}}}processIncomingMessage(e,t){return async n=>{if(n.data.msg===u.u.SAVE_CONFIGURATION)try{n.data.contentModified&&await(0,o.zL)(e(),n.data.guid),(0,l.postMessage)(u.u.CONFIGURATION_STORED,JSON.stringify(e().displayedWidgetVariants),n.origin)}catch(e){c.k.logException(e)}if(n.data.msg===u.u.LOAD_DISPLAYED_WIDGET_VARIANTS){const e=JSON.parse(n.data.data)||{};t((0,d.G)(e))}n.data.msg===u.u.SAVE_TEMP_CONFIGURATION&&(n.data.contentModified&&await(0,o.zL)(e(),n.data.guid),(0,l.postMessage)(u.u.TEMP_CONFIGURATION_STORED,null,n.origin)),n.data.msg===u.u.CONFIRM_RESPONSE&&(0,s.y)(n.data.result)}}};g=p([(0,i.b)()],g)},2903:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(5466),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let r=class{getWidgetElements(e){return e.map((({typeIdentifier:e,iconClass:t,name:n,description:i})=>({description:i,iconClass:t,name:n,key:e})))}getSectionElements(e){return this.getWidgetElements(e)}};r=o([(0,i.b)()],r)},4313:function(e,t,n){"use strict";n.d(t,{F:function(){return r},M:function(){return s}});var i=n(9621),o=n(3583);const r=async(e,t)=>(await i.dJ.post(e,JSON.stringify({properties:t}),{headers:{"Content-Type":"application/json"}})).data,s=async(e,t)=>{const n=await i.dJ.post(e,t);return o.T.contains(n.headers["content-type"],"text/html")?Promise.resolve({data:n.data,status:"invalid"}):o.T.contains(n.headers["content-type"],"application/json")?Promise.resolve({data:n.data,status:"valid"}):Promise.resolve({data:null,status:"invalid"})}},3395:function(e,t,n){"use strict";n.d(t,{N:function(){return A}});var i=n(5466),o=n(6756),r=n(3583),s=n(8661),a=n.n(s),c=n(4150),l=n.n(c),d=n(6427),u=n.n(d),p=n(5030),g=n.n(p),f=n(6084),h=n(4637),m=n(9868);const y=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{editableAreas:T(e.editableAreas,"sections",n),sections:u()(e.sections,n)}),v(e,t)},v=(e,t)=>{const n=a()(t,(e=>e.zones)),i=Object.values(g()(e.zones,n));return b(e,i)},b=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{sections:T(e.sections,"zones",n),zones:u()(e.zones,n)}),w(e,t)},w=(e,t)=>{const n=a()(t,(e=>e.widgets)),i=Object.values(g()(e.widgets,n));return k(e,i)},k=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{zones:T(e.zones,"widgets",n),widgets:u()(e.widgets,n)}),_(e,t)},_=(e,t)=>{const n=a()(t,(e=>e.variants)),i=Object.values(g()(e.widgetVariants,n));return O(e,i)},O=(e,t)=>{const n=t.map((e=>e.identifier));return Object.assign(Object.assign({},e),{widgets:T(e.widgets,"variants",n),widgetVariants:u()(e.widgetVariants,n)})},I=(e,t)=>{const n=Object.values(e.widgets).filter((e=>r.T.contains(t,e.conditionType))),i=a()(n,(e=>e.variants.slice(1))),o=Object.values(g()(e.widgetVariants,i));return e=Object.assign(Object.assign({},e),{widgets:l()(e.widgets,(e=>r.T.contains(t,e.conditionType)?u()(e,"conditionType"):e))}),O(e,o)},T=(e,t,n)=>l()(e,(e=>Object.assign(Object.assign({},e),{[t]:e[t].filter((e=>!r.T.contains(n,e)))})));var S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let A=class{async getConfiguration(e){const t=f.Xp(),n=await o.y0();let i=f.GH(Object.keys(t.editableAreas),n);const s=r.rq.isEmpty(i.editableAreas);i=f.BT(t.editableAreas,i);let c=Object.assign(Object.assign({config:Object.assign({},e),editableAreasConfiguration:f.tT()},i),{markups:{sections:{},variants:{}},metadata:await f.qA(),widgetZonesConfiguration:{}});return c=(e=>{const t=Object.values(e.sections).filter((t=>!e.metadata.sections[t.type]));return 0!==t.length?((0,f.KE)("section.missingmetadata",r.T.getUniqueValues(t.map((e=>e.type)))),(0,h.postMessage)(m.u.CONFIGURATION_CHANGED,null,"*"),y(e,t)):e})(c),c=(e=>{const t=Object.values(e.widgets).filter((t=>!e.metadata.widgets[t.type]));return 0!==t.length?((0,f.KE)("widget.missingmetadata",r.T.getUniqueValues(t.map((e=>e.type)))),(0,h.postMessage)(m.u.CONFIGURATION_CHANGED,null,"*"),k(e,t)):e})(c),c=(e=>{const t=r.T.getUniqueValues(Object.values(e.widgets).filter((t=>t.conditionType&&!e.metadata.personalizationConditionTypes[t.conditionType])).map((e=>e.conditionType)));return 0!==t.length?((0,f.KE)("conditiontype.missingmetadata",t),(0,h.postMessage)(m.u.CONFIGURATION_CHANGED,null,"*"),I(e,t)):e})(c),await f.x6(c),await f.tk(c),await f.KT(c),f.PI(c),c=(e=>{const t=new Set,n=a()(Object.values(e.sections),(n=>{const i=[];for(let o=(0,f.Qo)(e.markups.sections[n.identifier].markup);o<n.zones.length;o++){const r=e.sections[n.identifier].zones[o];0!==e.zones[r].widgets.length&&t.add(n.type),i.push(r)}return i}));0!==t.size&&((0,h.postMessage)(m.u.CONFIGURATION_CHANGED,null,"*"),(0,f.KE)("section.missingNonemptyZone",[...t]));const i=Object.values(g()(e.zones,n));return b(e,i)})(c),f.JL(c),f.EZ(c),f.Ql(c,!s),c=f.nj(c),c=f.pD(c),c}};A=S([(0,i.b)()],A)},6084:function(e,t,n){"use strict";n.d(t,{BT:function(){return k},E8:function(){return L},EZ:function(){return P},GH:function(){return w},JL:function(){return I},KE:function(){return H},KT:function(){return O},PI:function(){return S},Ql:function(){return T},Qo:function(){return x},R_:function(){return D},Xp:function(){return z},l5:function(){return M},nj:function(){return A},pD:function(){return _},qA:function(){return N},tT:function(){return R},tk:function(){return E},x6:function(){return j}});var i=n(5800),o=n.n(i),r=n(4150),s=n.n(r),a=n(5030),c=n.n(a),l=n(8721),d=n(6756),u=n(6988),p=n(3583),g=n(4447),f=n(4637),h=n(9868),m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const y="data-kentico-editable-area-id",v=/data-kentico-allowed-widgets=\"(?<allowedWidgets>\[[^\][]*])/,b=/<widget-zone (zone-name="(?<zoneName>[^"]+)")?.+?<\/widget-zone>/g,w=(e,t)=>{const n=c()(t.editableAreas,e),i=o()(Object.values(n).map((e=>e.sections))),r=c()(t.sections,i),s=o()(Object.values(r).map((e=>e.zones))),a=c()(t.zones,s),l=o()(Object.values(a).map((e=>e.widgets))),d=c()(t.widgets,l),u=o()(Object.values(d).map((e=>e.variants))),g=c()(t.widgetVariants,u),m={editableAreas:n,pageTemplate:t.pageTemplate,sections:r,zones:a,widgets:d,widgetVariants:g};if(Object.keys(t.editableAreas).length>Object.keys(m.editableAreas).length){const n=Object.values(t.editableAreas).filter((t=>!p.T.contains(e,t.identifier))).map((e=>e.identifier));H("areas.excessAreas",n),(0,f.postMessage)(h.u.CONFIGURATION_CHANGED,null,"*")}return m},k=(e,t)=>Object.assign(Object.assign({},t),{editableAreas:Object.assign(Object.assign({},e),t.editableAreas)}),_=async e=>{if(e.pageTemplate){const t=e.metadata.pageTemplates[e.pageTemplate.identifier];if(null===e.pageTemplate.properties&&t.hasProperties){const n=await d._G(t.defaultPropertiesUrl);return Object.assign(Object.assign({},e),{pageTemplate:Object.assign(Object.assign({},e.pageTemplate),{properties:n})})}}return e},O=async e=>{const t=Object.values(e.editableAreas).filter((e=>0===e.sections.length)),n=await(async(e,t)=>{const n=[];return t.forEach((t=>{const i=e.editableAreasConfiguration[t.identifier].defaultSection,o=e.metadata.sections[i];!0===o.hasProperties?n.push(d._G(o.defaultPropertiesUrl)):n.push(Promise.resolve(null))})),Promise.all(n)})(e,t),i=await(async(e,t,n)=>{const i=[];return t.forEach(((t,o)=>{const r=e.editableAreasConfiguration[t.identifier].defaultSection,s=e.metadata.sections[r];i.push(d.hK(s.markupUrl,n[o]))})),Promise.all(i)})(e,t,n);t.forEach(((t,o)=>{const r=(0,l.Z)(),s=e.editableAreasConfiguration[t.identifier].defaultSection,a=D(i[o]),c=x(a.markup);t.sections.push(r),e.sections[r]={identifier:r,properties:n[o],type:s,zones:[]},e.markups.sections[r]=a;for(let t=0;t<c;t++)C(e,r)}))},I=e=>{Object.values(e.sections).forEach((t=>{const n=x(e.markups.sections[t.identifier].markup);for(let i=t.zones.length;i<n;++i)C(e,t.identifier)}))},T=(e,t)=>{const n=e.markups.sections;let i=!1;Object.keys(n).forEach((t=>{const o=L(n[t].markup);let r=e.sections[t].zones;Object.values(c()(e.zones,r)).forEach((({identifier:e,name:t})=>{if(t){const n=o.findIndex((e=>e.name===t)),s=r.findIndex((t=>t===e));n>-1&&n!==s&&(i=!0,r=p.T.swap(r,s,n))}})),e.sections[t]=Object.assign(Object.assign({},e.sections[t]),{zones:r}),o.forEach((({name:n},o)=>{const r=e.sections[t].zones[o],s=e.zones[r];if(s.name!==n){if(n)e.zones[r]=Object.assign(Object.assign({},s),{name:n});else{const{name:t}=s,n=m(s,["name"]);e.zones[r]=Object.assign({},n)}i=!0}}))})),i&&t&&(H("widgetzone.namechanged",[]),(0,f.postMessage)(h.u.CONFIGURATION_CHANGED,null,"*"))},S=e=>{const t=p.T.getUniqueValues(Object.values(e.sections).filter((t=>0===x(e.markups.sections[t.identifier].markup))).map((e=>e.type)));0!==t.length&&H("section.withoutZones",t)},A=e=>Object.assign(Object.assign({},e),{displayedWidgetVariants:s()(e.widgets,(e=>e.variants[0]))}),C=(e,t)=>{const n=(0,l.Z)();e.zones[n]={identifier:n,widgets:[]},e.sections[t].zones.push(n)},j=async e=>{const t=Object.values(e.widgets),n=[];t.forEach((t=>{const i=e.metadata.widgets[t.type];t.variants.forEach((t=>{n.push(d.hK(i.markupUrl,e.widgetVariants[t].properties))}))}));const i=await Promise.all(n);let o=0;t.forEach((t=>{t.variants.forEach((t=>{e.markups.variants[t]={markup:i[o],isDirty:!1},++o}))}))},E=async e=>{const t=Object.values(e.sections),n=[];t.forEach((t=>{n.push(d.hK(e.metadata.sections[t.type].markupUrl,t.properties))}));const i=await Promise.all(n);t.forEach(((t,n)=>{e.markups.sections[t.identifier]=D(i[n])}))},D=e=>{let t=0;const n=new RegExp('<div .*?data-kentico-widget-zone="([^"]*)"></div>',"g"),i=(e,t,n)=>`<widget-zone${t?` zone-name="${t}" `:" "}:section-identifier="sectionIdentifier" :area-identifier="areaIdentifier" :zone-index="${e}"${n?" "+n:""}></widget-zone>`;return{markup:e=e.replace(n,((e,n)=>{const o=e.match(v);return null!==o?i(t++,n,o[0]):i(t++,n)}))}},P=e=>{const t=e.markups.sections;Object.keys(t).forEach((n=>{const{markup:i,restrictions:o}=M(t[n].markup,e.sections[n].zones);e.markups.sections[n]={markup:i},Object.keys(o).forEach((t=>{e.widgetZonesConfiguration[t]={widgetRestrictions:o[t].widgetRestrictions}}))}))},M=(e,t)=>{const n={};let i=0;return{markup:e.replace(b,(e=>{let o=null;const r=e.replace(v,((e,t)=>{const n=JSON.parse(t.replace(/&quot;/g,'"'));return o=n,""}));return n[t[i]]={widgetRestrictions:o},i++,r})),restrictions:n}},x=e=>{const t=e.match(b);return null!==t?t.length:0},L=e=>[...e.matchAll(b)].map((e=>{let t={identifier:(0,l.Z)(),widgets:[]};const n=e.groups.zoneName;return n&&(t=Object.assign(Object.assign({},t),{name:n})),t})),R=()=>{const e={},t=document.querySelectorAll(`[${y}]`);return Array.prototype.forEach.call(t,(t=>{const n={defaultSection:t.dataset.kenticoDefaultSection,widgetRestrictions:t.dataset.kenticoAllowedWidgets?JSON.parse(t.dataset.kenticoAllowedWidgets):null,sectionRestrictions:t.dataset.kenticoAllowedSections?JSON.parse(t.dataset.kenticoAllowedSections):null};e[t.dataset.kenticoEditableAreaId]=n})),e},z=()=>{const e=document.querySelectorAll(`[${y}]`),t=Array.prototype.map.call(e,(e=>e.dataset.kenticoEditableAreaId)),n={editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}};return t.forEach((e=>{n.editableAreas[e]={identifier:e,sections:[]}})),n},N=async()=>d._t(),H=(e,t)=>{const n=(0,u.ko)(h.rv.LocalizationService).getLocalization(e,t.join(", "));g.k.logWarning(n)}},4637:function(e,t,n){"use strict";n.r(t),n.d(t,{postMessage:function(){return i}});const i=(e,t,n)=>{window.parent.postMessage({msg:e,data:t},n)}},989:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var i=n(4447),o=n(4637),r=n(6988),s=n(9868);const a=()=>({logger:i.k,messaging:o,localizationService:(0,r.ko)(s.rv.LocalizationService)})},1953:function(e,t,n){"use strict";n.d(t,{qG:function(){return f.qG},w6:function(){return y},CH:function(){return m.CH},WG:function(){return f.WG},nf:function(){return w.nf},j4:function(){return g.j4},MG:function(){return l},q7:function(){return u},oA:function(){return h.oA},AK:function(){return h.AK},C2:function(){return o.C2},nl:function(){return h.nl},mn:function(){return o.mn},gW:function(){return a},jG:function(){return c},Tu:function(){return d},tL:function(){return w.tL},Rw:function(){return f.Rw},UJ:function(){return b},HV:function(){return w.HV},Mw:function(){return g.Mw},Oi:function(){return f.Oi},tQ:function(){return v},Wi:function(){return m.Wi},G3:function(){return i.G},S9:function(){return w.S9},Gn:function(){return h.Gn},Ej:function(){return i.E},FO:function(){return g.FO},NW:function(){return o.NW},Qs:function(){return s},CA:function(){return o.CA},JJ:function(){return h.JJ},W_:function(){return h.W_},wD:function(){return w.wD},jS:function(){return m.jS},z_:function(){return m.z_},RW:function(){return p.R}});var i=n(7699),o=n(9549),r=n(1757);const s=(0,r.createAction)("highlightedSection/SHOW_SECTION_HEADER",((e,t)=>({sectionIdentifier:e,headerPosition:t})))(),a=(0,r.createAction)("highlightedSection/HIDE_SECTION_HEADER")(),c=(0,r.createAction)("highlightedSection/HIGHLIGHT_SECTION_BORDER",((e=null)=>({sectionIdentifier:e})))(),l=(0,r.createAction)("highlightedSection/DEHIGHLIGHT_SECTION_BORDER")(),d=(0,r.createAction)("highlightedWidget/HIGHLIGHT_WIDGET",(e=>({widgetIdentifier:e})))(),u=(0,r.createAction)("highlightedWidget/DEHIGHLIGHT_WIDGET")();var p=n(5331),g=n(9511),f=n(9954),h=n(7581),m=n(4404);const y=(0,r.createAction)("widgets/ADD",((e,t,n,i,o)=>({widget:e,zoneIdentifier:t,position:n,variant:i,markup:o})))(),v=(0,r.createAction)("widgets/REMOVE",((e,t)=>({widget:e,zoneIdentifier:t})))(),b=(0,r.createAction)("widgets/MOVE",((e,t,n,i)=>({widgetIdentifier:e,originalZoneIdentifier:t,targetZoneIdentifier:n,position:i})))();var w=n(3245)},7699:function(e,t,n){"use strict";n.d(t,{E:function(){return o},G:function(){return r}});var i=n(1757);const o=(0,i.createAction)("displayedWidgetVariants/SELECT",((e,t)=>({variantIdentifier:e,widgetIdentifier:t})))(),r=(0,i.createAction)("displayedWidgetVariants/RESTORE",(e=>({savedWidgetVariants:e})))()},600:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var i=n(6427),o=n.n(i),r=n(1757),s=n(1953);const a={},c=(e=a,t)=>{switch(t.type){case(0,r.getType)(s.w6):return l(e,t.payload.widget.identifier,t.payload.variant.identifier);case(0,r.getType)(s.tQ):return o()(e,t.payload.widget.identifier);case(0,r.getType)(s.CH):return l(e,t.payload.widgetIdentifier,t.payload.variant.identifier);case(0,r.getType)(s.Ej):return l(e,t.payload.widgetIdentifier,t.payload.variantIdentifier);case(0,r.getType)(s.WG):case(0,r.getType)(s.Oi):return o()(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,r.getType)(s.G3):return Object.assign(Object.assign({},e),t.payload.savedWidgetVariants);default:return e}},l=(e,t,n)=>Object.assign(Object.assign({},e),{[t]:n})},9549:function(e,t,n){"use strict";n.d(t,{C2:function(){return r},CA:function(){return o},NW:function(){return s},mn:function(){return a}});var i=n(1757);const o=(0,i.createAction)("dragAndDrop/START_DRAGGING",((e,t,n,i,o,r,s)=>({entity:e,typeIdentifier:t,itemIdentifier:n,sourceContainerIdentifier:i,originalPosition:o,bannedAreas:r,bannedZones:s})))(),r=(0,i.createAction)("dragAndDrop/END_DRAGGING")(),s=(0,i.createAction)("dragAndDrop/SHOW_DROP_MARKER",((e,t)=>({containerIdentifier:e,dropMarkerPosition:t})))(),a=(0,i.createAction)("dragAndDrop/HIDE_DROP_MARKER")()},8747:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var i=n(1757),o=n(1953),r=n(9148);const s={sectionIdentifier:null,headerPosition:null,highlightBorder:!1,freezeHighlight:!1},a=(e=s,t)=>{switch(t.type){case(0,i.getType)(o.Qs):return Object.assign(Object.assign({},s),{sectionIdentifier:t.payload.sectionIdentifier,headerPosition:t.payload.headerPosition});case(0,i.getType)(o.gW):case(0,i.getType)(o.WG):case(0,i.getType)(o.CA):return Object.assign({},s);case(0,i.getType)(o.jG):return Object.assign(Object.assign({},e),{sectionIdentifier:t.payload.sectionIdentifier||e.sectionIdentifier,highlightBorder:!0});case(0,i.getType)(o.MG):return Object.assign(Object.assign({},e),{highlightBorder:!1});case(0,i.getType)(o.Mw):return t.payload.popupType===r.kQ.ChangeSection?e:Object.assign({},s);default:return e}}},5133:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var i=n(4791);const o=e=>{const t=e||!1,n=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return t&&n?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.qC}},5331:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var i=n(1757);const o=(0,i.createAction)("markups/UPDATE_WIDGET_VARIANT_MARKUPS",(e=>({markups:e})))()},2898:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var i=n(8661),o=n.n(i),r=n(6427),s=n.n(r),a=n(4791),c=n(1757),l=n(1953),d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const u={},p=(e,t)=>{switch(t.type){case(0,c.getType)(l.w6):case(0,c.getType)(l.CH):return{markup:t.payload.markup,isDirty:!1};case(0,c.getType)(l.z_):return Object.assign(Object.assign({},e),{markup:t.payload.markup?t.payload.markup:e.markup,isDirty:!t.payload.markup});default:return e}},g=e=>Object.keys(e).reduce(((t,n)=>(t[n]={isDirty:!1,markup:e[n]},t)),{}),f=(0,a.UY)({sections:(e=u,t)=>{switch(t.type){case(0,c.getType)(l.qG):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.markup});case(0,c.getType)(l.WG):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:t.payload.newMarkup});case(0,c.getType)(l.Oi):return s()(e,t.payload.section.identifier);default:return e}},variants:(e=u,t)=>{switch(t.type){case(0,c.getType)(l.w6):case(0,c.getType)(l.CH):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:p(void 0,t)});case(0,c.getType)(l.Wi):const n=e,i=t.payload.variantIdentifier;n[i];return d(n,["symbol"==typeof i?i:i+""]);case(0,c.getType)(l.WG):case(0,c.getType)(l.Oi):return s()(e,o()(t.payload.widgetsToRemove,(e=>e.variants)));case(0,c.getType)(l.tQ):return s()(e,t.payload.widget.variants);case(0,c.getType)(l.z_):return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:p(e[t.payload.variantIdentifier],t)});case(0,c.getType)(l.RW):return Object.assign(Object.assign({},e),g(t.payload.markups));default:return e}}})},3788:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i=n(4637),o=n(9868);const r=e=>t=>n=>{const{editableAreas:r,sections:s,pageTemplate:a,widgets:c,zones:l,widgetVariants:d}=e.getState(),u=t(n),{editableAreas:p,sections:g,pageTemplate:f,widgets:h,zones:m,widgetVariants:y}=e.getState();return a===f&&r===p&&s===g&&l===m&&c===h&&d===y||(0,i.postMessage)(o.u.CONFIGURATION_CHANGED,null,"*"),u}},7847:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var i=n(4447);const o=e=>e=>t=>{try{return e(t)}catch(e){i.k.logException(e)}}},3245:function(e,t,n){"use strict";n.d(t,{HV:function(){return o},S9:function(){return r},nf:function(){return s},tL:function(){return c},wD:function(){return a}});var i=n(1757);const o=(0,i.createAction)("modalDialogs/OPEN",((e,t,n,i,o,r,s,a,c,l,d,u,p)=>({identifier:e,type:t,title:n,markupUrl:i,model:o,tabs:r,activeTabIndex:s,theme:a,width:c,maximized:l,showFooter:d,applyButtonText:u,cancelButtonText:p})))(),r=(0,i.createAction)("modalDialogs/SELECT_TAB",((e,t)=>({dialogIndex:e,tabIndex:t})))(),s=(0,i.createAction)("modalDialogs/CLOSE",(e=>({dialogIndex:e})))(),a=(0,i.createAction)("modalDialogs/UPDATE_MARKUP",((e,t)=>({dialogIndex:e,markup:t})))(),c=(0,i.createAction)("modalDialogs/INVALIDATE",(e=>({dialogIndex:e})))()},8262:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var i=n(9868),o=n(3245);class r{constructor(e){this.dialogDataCollector=e,this.openModalDialog=e=>(t,n,{localizationService:r,messaging:s})=>{const a=n(),{componentIdentifier:c,dialogType:l,showFooter:d,applyButtonText:u,cancelButtonText:p,dialogWidth:g,maximized:f,dialogTabs:h=[],activeTabIndex:m=0}=e,y=this.dialogDataCollector(e,a,r),v=a.modalDialogs.theme||y.theme||i.Q2.Widget;s.postMessage(i.u.OPEN_MODAL_DIALOG,null,"*"),t(o.HV(c,l,y.title,y.markupUrl,y.model,h,m,v,g,f,d,u,p))}}}},8298:function(e,t,n){"use strict";var i;n.d(t,{E:function(){return i}}),function(e){e.WidgetProperties="WidgetProperties",e.SectionProperties="SectionProperties",e.TemplateProperties="TemplateProperties",e.Custom="Custom"}(i||(i={}))},9511:function(e,t,n){"use strict";n.d(t,{FO:function(){return s},Mw:function(){return o},j4:function(){return r}});var i=n(1757);const o=(0,i.createAction)("popup/OPEN",((e,t,n,i=null,o=null,r=null,s=!1,a=0)=>({componentIdentifier:e,position:t,popupType:n,listingOffset:i,areaIdentifier:o,zoneIdentifier:r,doubleColumn:s,index:a})))(),r=(0,i.createAction)("popup/CLOSE")(),s=(0,i.createAction)("popup/SET_POSITION",((e,t)=>({position:e,listingOffset:t})))()},1660:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(9148);class o{constructor(e,t){this.addWidget=e,this.addSection=t,this.selectItem=e=>async(t,n)=>{const{popup:o}=n(),{componentIdentifier:r,areaIdentifier:s,zoneIdentifier:a,index:c}=o,l=r===a?c:c+1;switch(o.popupType){case i.kQ.AddWidget:await t(this.addWidget(e,a,l));break;case i.kQ.AddSection:await t(this.addSection(e,s,l));break;default:return}}}}},2031:function(e,t,n){"use strict";n.d(t,{E:function(){return S}});var i=n(600),o=n(1757),r=n(1953);const s={entity:null,typeIdentifier:null,itemIdentifier:null,originalPosition:null,sourceContainerIdentifier:null,targetContainerIdentifier:null,dropMarkerPosition:null,bannedAreas:[],bannedZones:[]};var a=n(3583);const c={};var l=n(8747);var d=n(2898),u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const p={dialogs:[],theme:null},g={componentIdentifier:null,position:null,popupType:null,listingOffset:null,areaIdentifier:null,zoneIdentifier:null,doubleColumn:null,index:null};var f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const h={},m=(e,t)=>{const n=e,i=t;n[i];return f(n,["symbol"==typeof i?i:i+""])};var y=n(5018),v=n(9148);const b={identifier:null,freezeSelection:!1,preventClickAway:!1};var w=n(363),k=n(6020),_=n(4135),O=n(6427),I=n.n(O);const T={},S={config:(e=null)=>e,displayedWidgetVariants:i.k,dragAndDrop:(e=s,t)=>{switch(t.type){case(0,o.getType)(r.CA):return Object.assign(Object.assign({},e),{entity:t.payload.entity,typeIdentifier:t.payload.typeIdentifier,itemIdentifier:t.payload.itemIdentifier,originalPosition:t.payload.originalPosition,sourceContainerIdentifier:t.payload.sourceContainerIdentifier,bannedAreas:t.payload.bannedAreas,bannedZones:t.payload.bannedZones});case(0,o.getType)(r.C2):return Object.assign({},s);case(0,o.getType)(r.NW):return Object.assign(Object.assign({},e),{targetContainerIdentifier:t.payload.containerIdentifier,dropMarkerPosition:t.payload.dropMarkerPosition});case(0,o.getType)(r.mn):return Object.assign(Object.assign({},e),{targetContainerIdentifier:null,dropMarkerPosition:null});default:return e}},editableAreas:(e=c,t)=>{switch(t.type){case(0,o.getType)(r.qG):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:a.T.insertItemIntoArray(e[t.payload.areaIdentifier].sections,t.payload.section.identifier,t.payload.position)})});case(0,o.getType)(r.Oi):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:e[t.payload.areaIdentifier].sections.filter((e=>e!==t.payload.section.identifier))})});case(0,o.getType)(r.Rw):const{sectionIdentifier:n,originalAreaIdentifier:i,targetAreaIdentifier:s,position:c}=t.payload;let l;const d=Object.assign({},e);return i===s?l=a.T.moveItemBetweenArrays(e[i].sections,n,c):(l=a.T.moveItemBetweenArrays(e[i].sections,n,c,e[s].sections),d[s]=Object.assign(Object.assign({},e[s]),{sections:l.destinationArray})),d[i]=Object.assign(Object.assign({},e[i]),{sections:l.sourceArray}),d;default:return e}},highlightedSection:l.h,highlightedWidget:(e=null,t)=>{switch(t.type){case(0,o.getType)(r.Tu):return t.payload.widgetIdentifier;case(0,o.getType)(r.q7):case(0,o.getType)(r.Mw):case(0,o.getType)(r.Gn):case(0,o.getType)(r.CA):case(0,o.getType)(r.C2):case(0,o.getType)(r.w6):return null;default:return e}},markups:d.d,modalDialogs:(e=p,t)=>{switch(t.type){case(0,o.getType)(r.HV):{const n=t.payload,{theme:i}=n,o=u(n,["theme"]),r=Object.assign(Object.assign({},o),{index:e.dialogs.length,markup:null,isValid:!0});return{dialogs:a.T.insertItemIntoArray(e.dialogs,r,e.dialogs.length),theme:i}}case(0,o.getType)(r.S9):{const{dialogIndex:n,tabIndex:i}=t.payload,o=e.dialogs[n],r=o.tabs[i];return Object.assign(Object.assign({},e),{dialogs:a.T.replaceItem(e.dialogs,Object.assign(Object.assign({},o),{activeTabIndex:i,markupUrl:r.url}),n)})}case(0,o.getType)(r.wD):{const{dialogIndex:n,markup:i}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a.T.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{markup:i}),n)})}case(0,o.getType)(r.tL):{const{dialogIndex:n}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a.T.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{isValid:!1}),n)})}case(0,o.getType)(r.nf):return 1===e.dialogs.length?Object.assign({},p):Object.assign(Object.assign({},e),{dialogs:a.T.removeItem(e.dialogs,t.payload.dialogIndex)});default:return e}},popup:(e=g,t)=>{switch(t.type){case(0,o.getType)(r.Mw):return Object.assign(Object.assign({},e),t.payload);case(0,o.getType)(r.FO):return Object.assign(Object.assign({},e),{position:t.payload.position,listingOffset:t.payload.listingOffset});case(0,o.getType)(r.qG):case(0,o.getType)(r.CA):case(0,o.getType)(r.j4):case(0,o.getType)(r.HV):case(0,o.getType)(r.WG):case(0,o.getType)(r.w6):case(0,o.getType)(r.Ej):case(0,o.getType)(r.CH):case(0,o.getType)(r.z_):case(0,o.getType)(r.jS):case(0,o.getType)(r.tQ):return Object.assign({},g);default:return e}},sections:(e=h,t)=>{switch(t.type){case(0,o.getType)(r.qG):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.section});case(0,o.getType)(r.Oi):return m(e,t.payload.section.identifier);case(0,o.getType)(r.WG):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:Object.assign(Object.assign({},t.payload.newSection),{identifier:t.payload.oldSection.identifier})});default:return e}},widgets:k.D,widgetSelection:(e=b,t)=>{switch(t.type){case(0,o.getType)(r.Gn):return Object.assign(Object.assign({},e),{identifier:t.payload.widgetIdentifier});case(0,o.getType)(r.CA):return t.payload.entity!==y.p.Widget?Object.assign({},b):Object.assign(Object.assign({},e),{identifier:t.payload.itemIdentifier});case(0,o.getType)(r.W_):case(0,o.getType)(r.tQ):return Object.assign({},b);case(0,o.getType)(r.Mw):return t.payload.popupType===v.kQ.Personalization?e:Object.assign({},b);case(0,o.getType)(r.w6):return Object.assign(Object.assign({},e),{identifier:t.payload.widget.identifier});case(0,o.getType)(r.nl):return Object.assign(Object.assign({},e),{freezeSelection:!0});case(0,o.getType)(r.JJ):return Object.assign(Object.assign({},e),{freezeSelection:!1});case(0,o.getType)(r.oA):return Object.assign(Object.assign({},e),{preventClickAway:!0});case(0,o.getType)(r.AK):return Object.assign(Object.assign({},e),{preventClickAway:!1});default:return e}},widgetVariants:w.S,zones:_.A,pageTemplate:(e={identifier:""})=>e,editableAreasConfiguration:(e={})=>e,widgetZonesConfiguration:(e=T,t)=>{switch(t.type){case(0,o.getType)(r.qG):return Object.assign(Object.assign({},e),t.payload.widgetRestrictions);case(0,o.getType)(r.Oi):return I()(e,t.payload.section.zones);case(0,o.getType)(r.WG):return Object.assign(Object.assign({},I()(e,t.payload.oldSection.zones)),t.payload.widgetRestrictions);default:return e}},metadata:(e={personalizationConditionTypes:{},sections:{},widgets:{},pageTemplates:{}})=>e}},9954:function(e,t,n){"use strict";n.d(t,{Oi:function(){return r},Rw:function(){return s},WG:function(){return a},qG:function(){return o}});var i=n(1757);const o=(0,i.createAction)("sections/ADD",((e,t,n,i,o,r)=>({section:e,areaIdentifier:t,position:n,markup:i,widgetZones:o,widgetRestrictions:r})))(),r=(0,i.createAction)("sections/REMOVE",((e,t,n)=>({section:e,areaIdentifier:t,widgetsToRemove:n})))(),s=(0,i.createAction)("sections/MOVE",((e,t,n,i)=>({sectionIdentifier:e,originalAreaIdentifier:t,targetAreaIdentifier:n,position:i})))(),a=(0,i.createAction)("sections/CHANGE",((e,t,n,i,o,r=[])=>({oldSection:e,newSection:t,newMarkup:n,widgetZones:i,widgetRestrictions:o,widgetsToRemove:r})))()},4404:function(e,t,n){"use strict";n.d(t,{CH:function(){return o},Wi:function(){return r},jS:function(){return a},z_:function(){return s}});var i=n(1757);const o=(0,i.createAction)("widgetVariants/ADD",((e,t,n,i)=>({variant:e,widgetIdentifier:t,markup:n,conditionType:i})))(),r=(0,i.createAction)("widgetVariants/REMOVE",((e,t)=>({widgetIdentifier:e,variantIdentifier:t})))(),s=(0,i.createAction)("widgetVariants/UPDATE",((e,t,n)=>({variantIdentifier:e,properties:t,markup:n})))(),a=(0,i.createAction)("widgetVariants/UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS",((e,t,n)=>({variantIdentifier:e,name:t,conditionTypeParameters:n})))()},363:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var i=n(8661),o=n.n(i),r=n(6427),s=n.n(r),a=n(1757),c=n(1953),l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const d={},u=(e=d,t)=>{switch(t.type){case(0,a.getType)(c.w6):case(0,a.getType)(c.CH):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:t.payload.variant});case(0,a.getType)(c.Wi):const n=e,i=t.payload.variantIdentifier;n[i];return l(n,["symbol"==typeof i?i:i+""]);case(0,a.getType)(c.tQ):return s()(e,t.payload.widget.variants);case(0,a.getType)(c.z_):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{properties:t.payload.properties})})}case(0,a.getType)(c.jS):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{name:t.payload.name,conditionTypeParameters:t.payload.conditionTypeParameters})})}case(0,a.getType)(c.WG):case(0,a.getType)(c.Oi):const r=o()(t.payload.widgetsToRemove,(e=>e.variants));return s()(e,r);default:return e}}},6020:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var i=n(6427),o=n.n(i),r=n(1757),s=n(1953),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const c={},l=(e=c,t)=>{switch(t.type){case(0,r.getType)(s.w6):return Object.assign(Object.assign({},e),{[t.payload.widget.identifier]:t.payload.widget});case(0,r.getType)(s.tQ):const n=e,i=t.payload.widget.identifier;n[i];return a(n,["symbol"==typeof i?i:i+""]);case(0,r.getType)(s.WG):case(0,r.getType)(s.Oi):return o()(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,r.getType)(s.Wi):const c=e[t.payload.widgetIdentifier],l=c.variants.filter((e=>e!==t.payload.variantIdentifier));return Object.assign(Object.assign({},e),{[c.identifier]:{identifier:c.identifier,type:c.type,conditionType:l.length>1?c.conditionType:void 0,variants:l}});default:return e}}},5836:function(e,t,n){"use strict";n.d(t,{UJ:function(){return c},kN:function(){return l},tQ:function(){return a},w6:function(){return s},xN:function(){return d}});var i=n(8721),o=n(6756),r=n(1953);const s=(e,t,n)=>async(s,a)=>{let c;s(r.j4());const l=a().metadata.widgets[e];!0===l.hasProperties&&(c=await o._G(l.defaultPropertiesUrl));const d=await o.hK(l.markupUrl,c),u={identifier:(0,i.Z)(),properties:c},p={identifier:(0,i.Z)(),type:e,variants:[u.identifier]};return s(r.w6(p,t,n,u,d)),{widgetIdentifier:p.identifier,variantIdentifier:u.identifier}},a=(e,t)=>(n,i)=>{const o=i().widgets[e];n(r.tQ(o,t))},c=(e,t,n,i)=>async(s,a)=>{const{displayedWidgetVariants:c,widgets:l,widgetVariants:d,markups:u,metadata:p}=a(),g=l[e],f=c[e],h=u.variants[f],m=p.widgets[g.type];if(h.isDirty){const e=d[f].properties,t=await o.hK(m.markupUrl,e);s(r.RW({[f]:t}))}s(r.UJ(e,t,n,i))},l=(e,t)=>async(n,i)=>{const{displayedWidgetVariants:s,widgets:a,metadata:c}=i(),l=a[e],d=c.widgets[l.type],u=s[e],p=await o.hK(d.markupUrl,t);n(r.z_(u,t,p))},d=(e,t)=>async(n,i,{logger:s})=>{try{const{displayedWidgetVariants:s,widgets:a,widgetVariants:c,metadata:l}=i(),d=a[e],u=l.widgets[d.type],p=s[e],g=Object.assign(Object.assign({},c[p].properties),{[t.name]:t.value}),f=!1!==t.refreshMarkup?await o.hK(u.markupUrl,g):void 0;n(r.z_(p,g,f))}catch(e){s.logException(e)}}},4795:function(e,t,n){"use strict";n.d(t,{Np:function(){return l},Yn:function(){return u}});var i=n(8661),o=n.n(i),r=n(6988),s=n(9868),a=n(3583);const c=(e,t)=>e.filter((({name:e})=>!e||!t.includes(e))),l=(e,t,n)=>{if(!e)return null;if(!t)return n;if(0===t.length)throw new Error((0,r.ko)(s.rv.LocalizationService).getLocalization("changesection.invalidsectionstate"));const i=d(e,t),o=i.map((e=>e.name));let l=i.reduce(((e,{name:i,identifier:o})=>{const r=t.find((e=>e.name===i)).identifier;return e[r]={name:i,identifier:r,widgets:[...n[o].widgets]},e}),{});const p=c(e,o),g=c(t,o),f=Math.min(p.length,g.length);l=p.slice(0,f).reduce(((e,t,i)=>(e[g[i].identifier]=a.rq.assignDefined({},{identifier:g[i].identifier,name:g[i].name,widgets:[...n[t.identifier].widgets]}),e)),l);g.slice(f).forEach((({identifier:e,name:t})=>{l[e]=a.rq.assignDefined({},{identifier:e,name:t,widgets:[]})}));const h=p.slice(f),m=u(h.map((e=>e.identifier)),n),[y]=[...g.slice(-1),...t.slice(-1)];return Array.prototype.push.apply(l[y.identifier].widgets,[...m]),l},d=(e,t)=>{const n=new Set(t.map((e=>e.name)).filter((e=>!!e)));return e.filter((e=>e.name&&n.has(e.name)))},u=(e,t)=>o()(e,(e=>t[e].widgets))},4135:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var i=n(6427),o=n.n(i),r=n(1757),s=n(3583),a=n(1953);const c={},l=(e=c,t)=>{switch(t.type){case(0,r.getType)(a.qG):return Object.assign(Object.assign({},e),s.T.toRecord(t.payload.widgetZones,"identifier"));case(0,r.getType)(a.Oi):return o()(e,t.payload.section.zones);case(0,r.getType)(a.WG):return Object.assign(Object.assign({},o()(e,t.payload.oldSection.zones)),t.payload.widgetZones);case(0,r.getType)(a.w6):case(0,r.getType)(a.tQ):const{zoneIdentifier:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:d(e[n],t)});case(0,r.getType)(a.UJ):return u(e,t.payload);default:return e}},d=(e,t)=>{switch(t.type){case(0,r.getType)(a.w6):return Object.assign(Object.assign({},e),{widgets:s.T.insertItemIntoArray(e.widgets,t.payload.widget.identifier,t.payload.position)});case(0,r.getType)(a.tQ):return Object.assign(Object.assign({},e),{widgets:e.widgets.filter((e=>e!==t.payload.widget.identifier))});default:return e}},u=(e,t)=>{const{originalZoneIdentifier:n,position:i,targetZoneIdentifier:o,widgetIdentifier:r}=t;let a;const c=Object.assign({},e);return n===o?a=s.T.moveItemBetweenArrays(e[n].widgets,r,i):(a=s.T.moveItemBetweenArrays(e[n].widgets,r,i,e[o].widgets),c[o]=Object.assign(Object.assign({},e[o]),{widgets:a.destinationArray})),c[n]=Object.assign(Object.assign({},e[n]),{widgets:a.sourceArray}),c}},9868:function(e,t,n){"use strict";n.d(t,{Ei:function(){return a},L$:function(){return s},Q2:function(){return r},rv:function(){return i},u:function(){return o}});const i={LocalizationService:Symbol.for("LocalizationService"),NormalizerService:Symbol.for("NormalizerService"),PageConfigurationService:Symbol.for("PageConfigurationService"),PopUpElementsService:Symbol.for("PopUpElementsService"),MessagingService:Symbol.for("MessagingService")};var o,r,s,a;!function(e){e.SAVE_CONFIGURATION="Kentico.SaveConfiguration",e.LOAD_DISPLAYED_WIDGET_VARIANTS="Kentico.LoadDisplayedWidgetVariants",e.GET_DISPLAYED_WIDGET_VARIANTS="Kentico.GetDisplayedWidgetVariants",e.CONFIGURATION_STORED="Kentico.ConfigurationStored",e.CONFIGURATION_CHANGED="Kentico.ConfigurationChanged",e.MESSAGING_SUCCESS="Kentico.Messaging.Success",e.MESSAGING_ERROR="Kentico.Messaging.Error",e.MESSAGING_EXCEPTION="Kentico.Messaging.Exception",e.MESSAGING_WARNING="Kentico.Messaging.Warning",e.MESSAGING_WARNING_HIDE="Kentico.Messaging.WarningHide",e.MESSAGING_DRAG_START="Kentico.Messaging.DragStart",e.MESSAGING_DRAG_STOP="Kentico.Messaging.DragStop",e.OPEN_MODAL_DIALOG="Kentico.OpenModalDialog",e.CLOSE_MODAL_DIALOG="Kentico.CloseModalDialog",e.SAVE_TEMP_CONFIGURATION="Kentico.SaveTempConfiguration",e.TEMP_CONFIGURATION_STORED="Kentico.TempConfigurationStored",e.CHANGE_TEMPLATE="Kentico.ChangeTemplate",e.CANCEL_SCREENLOCK="Kentico.CancelScreenLock",e.CONFIRM="Kentico.Confirm",e.CONFIRM_RESPONSE="Kentico.ConfirmResponse",e.SET_RESTRICTED_WIDGETS="Kentico.SetRestrictedWidgets"}(o||(o={})),function(e){e.Widget="widget",e.Section="section",e.Template="template"}(r||(r={})),function(e){e.Properties="properties",e.Change="change",e.Personalization="personalisation",e.Delete="delete",e.Move="move"}(s||(s={})),function(e){e.Properties="icon-cogwheel",e.Change="icon-l-cols-30-70"}(a||(a={}))},5454:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="ktc-btn-rich-text-apply" data-title="'+(null==(__t=buttonText)?"":__t)+'">\r\n    <svg class="fr-svg" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z"></path>\r\n    </svg>\r\n    <span class="ktc-btn-save__label">'+(null==(__t=buttonText)?"":__t)+"</span>\r\n</button>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},8503:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<html>\r\n<head>\r\n    <style>\r\n        "+(null==(__t=froalaCss)?"":__t)+'\r\n    </style>\r\n</head>\r\n<body class="fr-view" style="pointer-events: none;">\r\n'+(null==(__t=html)?"":__t)+"\r\n</body>\r\n</html>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},4679:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-image-selector '+(null==(__t=imageUrl?"":"ktc-image-selector--empty")?"":__t)+'">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="imageUrl" class="ktc-selector-item fr-link-attr" value="'+(null==(__t=imageUrl)?"":__t)+'" title="" tabindex="1" />\r\n        <label for="imageUrl">'+(null==(__t=imageUrlLabel)?"":__t)+'</label>\r\n      </div>\r\n      <img class="ktc-selector-item-preview" src="'+(null==(__t=imageUrl)?"":__t)+'" />\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="fr-input-line">\r\n      <input id="ktc-configuration-url-text-1" name="altText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=altText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=altTextLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=submitCommand)?"":__t)+'" tabindex="6" type="button">\r\n        '+(null==(__t=submitButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},9115:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-selector">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="ktc-page-name" class="ktc-selector-item fr-link-attr '+(null==(__t=linkUrl?"fr-not-empty":"")?"":__t)+'" value="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=link)?"":__t)+'" tabindex="1" '+(null==(__t=isContentLinkType?"disabled":"")?"":__t)+' />\r\n        <label for="ktc-page-name">'+(null==(__t=linkLabel)?"":__t)+'</label>\r\n      </div>\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'" '+(null==(__t=isFormBuilder?'style="display:none;"':"")?"":__t)+" >\r\n          "+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n      <input name="linkUrl" value="'+(null==(__t=linkUrl)?"":__t)+'" hidden>\r\n    </div>\r\n    <div class="fr-input-line" style="display: '+(null==(__t=imageLink?"none":"block")?"":__t)+';">\r\n      <input id="ktc-configuration-url-text-1" name="linkText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=linkText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=linkTextLabel)?"":__t)+"</label>\r\n    </div>\r\n    ",Object.keys(linkAttributes).forEach((function(e,t){__p+='\r\n      <div class="fr-input-line">\r\n        <input type="text" class="fr-link-attr fr-not-empty" name="'+__e(e)+'" value="'+__e(linkAttributes[e].value)+'" tabindex="'+(null==(__t=t+7)?"":__t)+'">\r\n        <label for="'+__e(e)+'">'+__e(linkAttributes[e].label)+"</label>\r\n      </div>\r\n    "})),__p+='\r\n    <div class="fr-checkbox-line">\r\n      <span class="fr-checkbox">\r\n        <input name="openInNewTab" class="fr-link-attr fr-not-empty" type="checkbox" id="ktc-configuration-openInNewTab"\r\n          tabindex="5" dir="auto" '+(null==(__t=openInNewTab?"checked":"")?"":__t)+'>\r\n        <span>\r\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10"\r\n            height="10" viewBox="0 0 32 32">\r\n            <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path>\r\n          </svg>\r\n        </span>\r\n      </span><label id="ktc-lbl-configuration-openInNewTab">'+(null==(__t=openInNewTabLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="6" type="button">\r\n        '+(null==(__t=actionButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},4806:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-macro-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <select id="ktc-configuration-macro-layer-type-1" class="ktc-select" name="contextMacroType" tabindex="1">\r\n                ',Object.keys(macros).forEach((e=>{__p+='\r\n                    <option value="'+__e(e)+'" '+(null==(__t=macroValue===e?"selected":"")?"":__t)+">"+__e(macros[e])+"</option>\r\n                "})),__p+='\r\n            </select>\r\n            <label for="ktc-configuration-macro-layer-type-1">'+(null==(__t=macroTypeLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-macro-layer-text-1" name="defaultText" type="text"\r\n                class="fr-link-attr fr-not-empty" placeholder="" tabindex="2" dir="auto"\r\n                value="'+(null==(__t=macroDefaultValue)?"":__t)+'"><label\r\n                for="ktc-configuration-macro-layer-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},6522:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <input id="ktc-configuration-url-layer-url-1" name="urlParameterName" type="text"\r\n                class="fr-link-attr '+(null==(__t=value?"fr-not-empty":"")?"":__t)+'" placeholder="" tabindex="1" dir="auto" value="'+(null==(__t=value)?"":__t)+'"><label\r\n                for="ktc-configuration-url-layer-url-1">'+(null==(__t=urlParameterLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-url-text-1" name="defaultText" type="text" class="fr-link-attr fr-not-empty"\r\n                placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=defaultValue)?"":__t)+'">\r\n            <label for="ktc-configuration-url-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},6114:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="button" class="'+(null==(__t=macroClass)?"":__t)+'" data-macro-type="'+(null==(__t=macroType)?"":__t)+'" data-macro-value="'+(null==(__t=macroValue)?"":__t)+'" \r\n    data-macro-default-value="'+__e(macroDefaultValue)+'" value="'+(null==(__t=macroDisplayValue)?"":__t)+'" />';return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},1778:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(6486);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=".ktc-macro {\r\n  cursor          : pointer;\r\n  border          : 1px solid black;\r\n  border-radius   : 3px;\r\n  padding         : 0 4px;\r\n  background-color: #e5e5e5;\r\n}\r\n\r\n.ktc-macro:hover {\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.75);\r\n}\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},1770:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(4775),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let s=class extends i.w3{get borderClasses(){return{"ktc-border-root":!0,"ktc-border-root--primary":this.primary,"ktc-border-root--highlighted":this.highlighted,"ktc-border-root--selected":this.selected,"ktc-border-root--banned":this.banned}}get showVerticalBorder(){return!this.hideVerticalBorder||!this.highlighted||!this.selected}};o([(0,i.fI)({required:!1,default:!1}),r("design:type",Boolean)],s.prototype,"highlighted",void 0),o([(0,i.fI)({required:!1,default:!1}),r("design:type",Boolean)],s.prototype,"selected",void 0),o([(0,i.fI)({required:!1,default:!1}),r("design:type",Boolean)],s.prototype,"banned",void 0),o([(0,i.fI)({required:!1}),r("design:type",String)],s.prototype,"bannedMessage",void 0),o([(0,i.fI)({required:!1,default:!1}),r("design:type",Boolean)],s.prototype,"primary",void 0),o([(0,i.fI)({required:!1,default:!1}),r("design:type",Boolean)],s.prototype,"hideVerticalBorder",void 0),s=o([i.wA],s);var a=s,c=(0,n(1900).Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.borderClasses},[n("div",{staticClass:"ktc-admin-ui"},[e.banned?n("kentico-alert-box",{attrs:{message:e.bannedMessage}}):e._e(),e._v(" "),n("div",{staticClass:"ktc-border ktc-border-top"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVerticalBorder,expression:"showVerticalBorder"}],staticClass:"ktc-border ktc-border-right"}),e._v(" "),n("div",{staticClass:"ktc-border ktc-border-bottom"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVerticalBorder,expression:"showVerticalBorder"}],staticClass:"ktc-border ktc-border-left"})],1),e._v(" "),e._t("default")],2)}),[],!1,null,"8be9953e",null).exports},4584:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i,o,r,s=n(4775),a=n(2817),c=n(5018),l=n(3583),d=n(9887),u=n(7110),p=n(1770),g=n(7945),f=n(1953),h=n(5463),m=n(9123),y=n(932),v=n(9148),b=n(9156),w=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let _=class extends s.w3{constructor(){super(...arguments),this.cancellableHideHeaderToken=null,this.highlightedBorder=!1}sectionMarkupChanged(){this.$emit("sectionMarkupChanged",this.sectionIdentifier)}freezeHighlightChanged(){this.highlightedSection.freezeHighlight&&this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)}get showSectionTypeList(){const{componentIdentifier:e,popupType:t}=this.popup;return e===this.sectionIdentifier&&t===v.kQ.ChangeSection}get renderSectionHeader(){return this.highlightedSection.sectionIdentifier===this.sectionIdentifier}get highlightBorder(){return this.renderSectionHeader&&this.highlightedSection.highlightBorder}get showDropZone(){return this.dragAndDrop.entity===c.p.Section&&this.dragAndDrop.itemIdentifier!==this.sectionIdentifier}get showSectionDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.areaIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1}get showSectionDivider(){return!this.dragAndDrop.itemIdentifier}mounted(){l.Rv.mountSectionToDragAndDrop(this.sectionIdentifier)}onSectionMouseOver(){this.renderSectionHeader||this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition()),this.dragAndDrop.entity===c.p.Section&&this.highlightSectionBorder(this.sectionIdentifier),this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)}onSectionMouseLeave(){this.highlightedSection.freezeHighlight?clearTimeout(this.cancellableHideHeaderToken):(this.showSectionTypeList||(this.cancellableHideHeaderToken=setTimeout((()=>{this.renderSectionHeader&&this.hideSectionHeader()}),m._V)),this.dragAndDrop.entity===c.p.Section&&this.dehighlightSectionBorder())}onSectionClick(){this.renderSectionHeader||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition())}onHeaderMouseEnter(){this.highlightBorder||this.dragAndDrop.itemIdentifier||this.highlightSectionBorder()}onHeaderMouseLeave(){this.showSectionTypeList||this.dragAndDrop.itemIdentifier||this.highlightedSection.freezeHighlight||this.$nextTick((()=>{this.highlightedSection.freezeHighlight||this.dehighlightSectionBorder()}))}onHeaderClickAway(e){this.showSectionTypeList&&this.closePopup(),this.renderSectionHeader&&!l.qw.isFriendlyElementSelected(e,this.friendlyElementSelectors)&&(this.isClickOutsideSection(e)?this.hideSectionHeader():this.highlightBorder&&this.dehighlightSectionBorder())}onCloseSectionTypeList(e){this.isClickOutsideSection(e.detail)?this.hideSectionHeader():this.dehighlightSectionBorder(),this.closePopup()}computeHeaderPosition(){const e=this.$refs.sectionHeader.$el.querySelector("kentico-section-header");if(!e)return null;return(0,y.b)(e.getBoundingClientRect(),e.offsetWidth)===v.Mi.Left?v.Mi.Left:v.Mi.Right}isClickOutsideSection(e){const{clientX:t,clientY:n}=e,{left:i,right:o,top:r,bottom:s}=this.$el.getBoundingClientRect();return t<i||t>o||n<r||n>s}};w([(0,s.fI)({required:!0}),k("design:type",String)],_.prototype,"areaIdentifier",void 0),w([(0,s.fI)({required:!0}),k("design:type",String)],_.prototype,"sectionIdentifier",void 0),w([(0,s.fI)({required:!0}),k("design:type",Number)],_.prototype,"position",void 0),w([(0,s.fI)(),k("design:type",String)],_.prototype,"sectionType",void 0),w([(0,s.fI)(),k("design:type",String)],_.prototype,"sectionMarkup",void 0),w([(0,s.fI)(),k("design:type","function"==typeof(i=void 0!==a&&a.Popup)?i:Object)],_.prototype,"popup",void 0),w([(0,s.fI)(),k("design:type","function"==typeof(o=void 0!==a&&a.HighlightedSection)?o:Object)],_.prototype,"highlightedSection",void 0),w([(0,s.fI)(),k("design:type","function"==typeof(r=void 0!==a&&a.DragAndDrop)?r:Object)],_.prototype,"dragAndDrop",void 0),w([(0,s.fI)(),k("design:type",Boolean)],_.prototype,"allowAddSection",void 0),w([(0,s.fI)({default:()=>[]}),k("design:type",Array)],_.prototype,"friendlyElementSelectors",void 0),w([(0,s.fI)(),k("design:type",Object)],_.prototype,"showSectionHeader",void 0),w([(0,s.fI)(),k("design:type",Object)],_.prototype,"hideSectionHeader",void 0),w([(0,s.fI)(),k("design:type",Object)],_.prototype,"highlightSectionBorder",void 0),w([(0,s.fI)(),k("design:type",Object)],_.prototype,"dehighlightSectionBorder",void 0),w([(0,s.fI)(),k("design:type",Function)],_.prototype,"closePopup",void 0),w([(0,s.fI)(),k("design:type",Object)],_.prototype,"changeSection",void 0),w([(0,s.RL)("sectionMarkup"),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],_.prototype,"sectionMarkupChanged",null),w([(0,s.RL)("highlightedSection.freezeHighlight"),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],_.prototype,"freezeHighlightChanged",null),_=w([(0,s.wA)({components:{BorderContainer:b.Qc,DropZone:b.rE,SectionHeader:b.M$},mixins:[h.jB]})],_);var O=_,I=n(1900),T=(0,I.Z)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{attrs:{highlighted:e.highlightBorder},nativeOn:{mouseover:function(t){return e.onSectionMouseOver.apply(null,arguments)},mouseleave:function(t){return e.onSectionMouseLeave.apply(null,arguments)},click:function(t){return e.onSectionClick.apply(null,arguments)}}},[n("SectionHeader",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onHeaderClickAway,expression:"onHeaderClickAway"}],ref:"sectionHeader",staticClass:"ktc-section-header-container",attrs:{areaIdentifier:e.areaIdentifier,sectionIdentifier:e.sectionIdentifier,showSectionTypeList:e.showSectionTypeList,sectionType:e.sectionType,highlighted:e.highlightBorder},on:{closePopup:e.onCloseSectionTypeList,changeSection:function(t){return e.$emit("changeSection",t,e.sectionIdentifier)},removeSection:function(t){return e.$emit(t.type,e.sectionIdentifier)}},nativeOn:{mouseenter:function(t){return t.stopPropagation(),e.onHeaderMouseEnter.apply(null,arguments)},mouseleave:function(t){return t.stopPropagation(),e.onHeaderMouseLeave.apply(null,arguments)}}},[n("template",{slot:"sectionHeaderExtraButtons"},[e._t("sectionHeaderExtraButtons")],2)],2),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--top",attrs:{containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!1}}):e._e(),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--bottom",attrs:{containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!0}}):e._e()],1),e._v(" "),e._t("sectionMarkup",null,{sectionMarkup:e.sectionMarkup}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.showSectionDropMarker?n("kentico-drop-marker"):e._e(),e._v(" "),e.allowAddSection?e._t("sectionDivider",null,{sectionIdentifier:e.sectionIdentifier,areaIdentifier:e.areaIdentifier}):e._e()],2)],2)}),[],!1,null,"329fd0cd",null),S=T.exports;var A,C=(0,g.$)(((e,{areaIdentifier:t,sectionIdentifier:n})=>{const{sections:i,markups:o,popup:r,highlightedSection:s,dragAndDrop:a,editableAreasConfiguration:c,config:l}=e,d=i[n]?i[n].type:"",u=c[t].sectionRestrictions,p=null===u||u.length>0;return{sectionType:d,sectionMarkup:o.sections[n]?o.sections[n].markup:"",allowAddSection:p,popup:r,highlightedSection:s,dragAndDrop:a,friendlyElementSelectors:[`#${l.propertiesEditorClientId}`]}}),(()=>({showSectionHeader:f.Qs,hideSectionHeader:f.gW,highlightSectionBorder:f.jG,dehighlightSectionBorder:f.MG,closePopup:f.j4})))(S),j=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let D=class extends s.w3{get editableAreaClasses(){return{"ktc-editable-area":!0,"ktc-editable-area--banned":this.isBanned}}get isBanned(){return(0,d.r1)(this.dragAndDrop.bannedAreas,this.identifier)}get showAreaDropMarker(){return this.dragAndDrop.entity===c.p.Section&&this.dragAndDrop.targetContainerIdentifier===this.identifier&&0===this.dragAndDrop.dropMarkerPosition}get bannedAreaMessage(){return this.dragAndDrop.entity===c.p.Widget?this.$_localizationService.getLocalization("areas.bannedwidgetmessage"):this.$_localizationService.getLocalization("areas.bannedsectionmessage")}async onRemoveSection(e){const t=this.$_localizationService.getLocalization("section.remove.confirmation");await(0,u.i)(t)&&(l.Rv.removeSectionFromDragAndDrop(e),this.removeSection(e,this.identifier)),1===this.sectionsInArea.length&&l.Rv.mountSectionToDragAndDropAfterNextTick(this,e)}async onChangeSection(e,t){l.Rv.removeSectionFromDragAndDrop(t),await this.changeSection(t,e.detail.key),l.Rv.mountSectionToDragAndDropAfterNextTick(this,t)}onSectionMarkupChanged(e){l.Rv.removeSectionFromDragAndDrop(e),l.Rv.mountSectionToDragAndDropAfterNextTick(this,e)}};j([(0,s.fI)({required:!0}),E("design:type",String)],D.prototype,"identifier",void 0),j([(0,s.fI)(),E("design:type",Array)],D.prototype,"sectionsInArea",void 0),j([(0,s.fI)(),E("design:type","function"==typeof(A=void 0!==a&&a.DragAndDrop)?A:Object)],D.prototype,"dragAndDrop",void 0),j([(0,s.fI)(),E("design:type",Object)],D.prototype,"removeSection",void 0),j([(0,s.fI)(),E("design:type",Object)],D.prototype,"changeSection",void 0),D=j([(0,s.wA)({components:{Section:C,BorderContainer:p.Z}})],D);var P=D,M=(0,I.Z)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{class:e.editableAreaClasses,attrs:{id:e.identifier,banned:e.isBanned,bannedMessage:e.bannedAreaMessage}},[n("div",{staticClass:"ktc-admin-ui"},[e.showAreaDropMarker?n("kentico-drop-marker"):e._e()],1),e._v(" "),e._l(e.sectionsInArea,(function(t,i){return n("Section",{key:t,staticClass:"ktc-section",attrs:{id:t,position:i,sectionIdentifier:t,areaIdentifier:e.identifier},on:{removeSection:e.onRemoveSection,changeSection:e.onChangeSection,sectionMarkupChanged:e.onSectionMarkupChanged},scopedSlots:e._u([{key:"sectionMarkup",fn:function(n){var i=n.sectionMarkup;return[e._t("sectionMarkup",null,{sectionIdentifier:t,sectionMarkup:i})]}},{key:"sectionDivider",fn:function(t){var n=t.sectionIdentifier,i=t.areaIdentifier;return[e._t("sectionDivider",null,{sectionIdentifier:n,areaIdentifier:i})]}}],null,!0)},[e._v(" "),n("template",{slot:"sectionHeaderExtraButtons"},[e._t("sectionHeaderExtraButtons",null,{sectionIdentifier:t})],2)],2)}))],2)}),[],!1,null,"a51c52b4",null),x=M.exports},6052:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i,o=n(4775),r=n(9156),s=n(9148),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends o.w3{get isAddComponentPopup(){return this.popupType===s.kQ.AddWidget||this.popupType===s.kQ.AddSection}};a([(0,o.fI)(),c("design:type",Array)],l.prototype,"modalDialogs",void 0),a([(0,o.fI)(),c("design:type","function"==typeof(i=void 0!==s.kQ&&s.kQ)?i:Object)],l.prototype,"popupType",void 0),a([(0,o.fI)(),c("design:type",Function)],l.prototype,"selectItem",void 0),l=a([(0,o.wA)({components:{AddComponentPopup:r.cX,ModalDialog:r.pL}})],l);var d=l,u=(0,n(1900).Z)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ktc-admin-ui"},[e._l(e.modalDialogs,(function(e){return n("ModalDialog",{key:e.identifier,attrs:{dialogIndex:e.index}})})),e._v(" "),e.isAddComponentPopup?n("AddComponentPopup",{attrs:{selectItem:e.selectItem}},[n("template",{slot:"pop-up-content-top"},[e._t("pop-up-content-top")],2)],2):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null).exports},7142:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var i=n(5463),o=n(4775),r=n(9156),s=n(2817),a=n(5018),c=n(9887),l=n(7110),d=n(7945),u=n(1953),p=n(22),g=n(5844),f=n(259),h=n(9148),m=n(8721),y=n(3583),v=n(3786),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let k=class extends o.w3{constructor(){super(...arguments),this.externalScriptIdentifier=`ktc-widget-markup-script-${(0,m.Z)()}`}beforeDestroy(){this.cleanup()}mounted(){const e=this.$refs.widgetMarkup;(0,v.El)(this.markup,e,this.externalScriptIdentifier),y.iq.disableElementLinks(e),this.initializeEditors()}beforeUpdate(){this.cleanup()}updated(){const e=this.$refs.widgetMarkup;(0,v.El)(this.markup,e,this.externalScriptIdentifier),y.iq.disableElementLinks(e),this.initializeEditors()}cleanup(){(0,f.it)(this.$refs.widgetMarkup),(0,v.YI)(this.externalScriptIdentifier)}initializeEditors(){this.$emit("markupUpdated",this.$refs.widgetMarkup)}};b([(0,o.fI)({required:!0}),w("design:type",String)],k.prototype,"markup",void 0),b([(0,o.fI)({required:!0}),w("design:type",String)],k.prototype,"variantIdentifier",void 0),k=b([o.wA],k);var _,O,I,T,S=k,A=n(1900),C=(0,A.Z)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.variantIdentifier},[n("div",[n("div",{ref:"widgetMarkup",staticClass:"ktc-widget-body-wrapper",domProps:{dataMarkup:e.markup}})])])}),[],!1,null,null,null),j=C.exports,E=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let P=class extends o.w3{constructor(){super(...arguments),this.topOffset=0}get addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")}get widgetClasses(){return{"ktc-widget":!0,"ktc-widget--highlighted":this.isHighlighted,"ktc-widget--selected":this.isSelected,"ktc-widget--dragged":this.isDragged}}get isDragged(){return this.dragAndDrop.itemIdentifier===this.widgetIdentifier}get isSelected(){return this.selectedWidgetIdentifier===this.widgetIdentifier}get isHighlighted(){return this.highlightedWidgetIdentifier===this.widgetIdentifier&&!this.popup.componentIdentifier&&(!this.dragAndDrop.itemIdentifier&&!this.selectedWidgetIdentifier||this.dragAndDrop.entity===a.p.Widget)}get isWidgetListOpen(){return this.widgetIdentifier===this.popup.componentIdentifier&&this.popup.popupType===h.kQ.AddWidget}get showDropZone(){return this.dragAndDrop.entity===a.p.Widget&&this.dragAndDrop.itemIdentifier!==this.widgetIdentifier&&!this.isDropBanned}get showWidgetDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1}mounted(){this.calculateTopOffset()}updated(){this.calculateTopOffset()}calculateTopOffset(){this.topOffset=this.$el.getBoundingClientRect().top+window.pageYOffset}onMouseOver(){this.isHighlighted||null!==this.popup.componentIdentifier||(this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier)&&this.dragAndDrop.entity!==a.p.Widget||this.highlightWidget(this.widgetIdentifier)}onMouseLeave(){null!==this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier||this.dehighlightWidget(this.widgetIdentifier)}onWidgetClick(){this.isFrozen||this.isSelected||this.selectWidget(this.widgetIdentifier)}onWidgetClickAway(e){this.$nextTick((()=>{this.isFrozen||this.isClickAwayDisabled||!this.isSelected||y.qw.isFriendlyElementSelected(e,this.friendlyElementSelectors)||this.unselectWidget(),this.isClickAwayDisabled&&this.isSelected&&this.enableWidgetClickAway()}))}onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.widgetIdentifier,e,this.areaIdentifier,this.zoneIdentifier)}onUpdateProperty(e){this.setWidgetProperty(this.widgetIdentifier,e.detail)}onMarkupUpdated(e){(0,f.rk)(e,this.displayedVariant.properties)}clickedAway(){this.isWidgetListOpen&&this.closePopup()}};E([(0,o.fI)({required:!0}),D("design:type",String)],P.prototype,"widgetIdentifier",void 0),E([(0,o.fI)({required:!0}),D("design:type",Number)],P.prototype,"position",void 0),E([(0,o.fI)({required:!0}),D("design:type",String)],P.prototype,"zoneIdentifier",void 0),E([(0,o.fI)({default:!1}),D("design:type",Boolean)],P.prototype,"isDropBanned",void 0),E([(0,o.fI)({required:!0}),D("design:type",String)],P.prototype,"areaIdentifier",void 0),E([(0,o.fI)({required:!0}),D("design:type",Object)],P.prototype,"openPopup",void 0),E([(0,o.fI)(),D("design:type","function"==typeof(_=void 0!==s&&s.DragAndDrop)?_:Object)],P.prototype,"dragAndDrop",void 0),E([(0,o.fI)(),D("design:type",String)],P.prototype,"selectedWidgetIdentifier",void 0),E([(0,o.fI)(),D("design:type",String)],P.prototype,"highlightedWidgetIdentifier",void 0),E([(0,o.fI)(),D("design:type","function"==typeof(O=void 0!==s&&s.Popup)?O:Object)],P.prototype,"popup",void 0),E([(0,o.fI)(),D("design:type","function"==typeof(I=void 0!==s&&s.Widget)?I:Object)],P.prototype,"widget",void 0),E([(0,o.fI)(),D("design:type",String)],P.prototype,"displayedVariantMarkup",void 0),E([(0,o.fI)(),D("design:type","function"==typeof(T=void 0!==s&&s.WidgetVariant)?T:Object)],P.prototype,"displayedVariant",void 0),E([(0,o.fI)(),D("design:type",String)],P.prototype,"widgetTitle",void 0),E([(0,o.fI)(),D("design:type",Boolean)],P.prototype,"isFrozen",void 0),E([(0,o.fI)(),D("design:type",Boolean)],P.prototype,"isClickAwayDisabled",void 0),E([(0,o.fI)({default:()=>[]}),D("design:type",Array)],P.prototype,"friendlyElementSelectors",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"highlightWidget",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"dehighlightWidget",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"selectWidget",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"unselectWidget",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"enableWidgetClickAway",void 0),E([(0,o.fI)(),D("design:type",Function)],P.prototype,"closePopup",void 0),E([(0,o.fI)(),D("design:type",Object)],P.prototype,"setWidgetProperty",void 0),P=E([(0,o.wA)({components:{BorderContainer:r.Qc,WidgetMarkup:j,DropZone:r.rE},mixins:[i.jB]})],P);var M=P,x=(0,A.Z)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onWidgetClickAway,expression:"onWidgetClickAway"}],class:e.widgetClasses,attrs:{highlighted:e.isHighlighted,selected:e.isSelected,hideVerticalBorder:!0,primary:!0},nativeOn:{click:function(t){return e.onWidgetClick.apply(null,arguments)},mouseover:function(t){return e.onMouseOver.apply(null,arguments)},mouseleave:function(t){return e.onMouseLeave.apply(null,arguments)},"!updateProperty":function(t){return e.onUpdateProperty.apply(null,arguments)}}},[n("div",{staticClass:"ktc-admin-ui"},[n("div",{staticClass:"ktc-widget-header-wrapper",on:{removeWidget:function(t){return e.$emit(t.type,e.widgetIdentifier)}}},[e._t("widgetHeader",null,{widgetTitle:e.widgetTitle,widgetIdentifier:e.widgetIdentifier,widgetTopOffset:e.topOffset})],2),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--top",attrs:{containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!1}}):e._e(),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--bottom",attrs:{containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!0}}):e._e()],1),e._v(" "),n("WidgetMarkup",{attrs:{markup:e.displayedVariantMarkup,variantIdentifier:e.displayedVariant.identifier},on:{markupUpdated:e.onMarkupUpdated}}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[n("kentico-add-component-button",{directives:[{name:"show",rawName:"v-show",value:!e.dragAndDrop.itemIdentifier,expression:"!dragAndDrop.itemIdentifier"},{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"}],ref:"addWidget",attrs:{"is-small":"true","is-active":e.isWidgetListOpen,primary:!0},domProps:{tooltip:e.addTooltip},on:{openComponentList:e.onOpenComponentList}}),e._v(" "),e.showWidgetDropMarker?n("kentico-drop-marker"):e._e()],1)],1)}),[],!1,null,"f9cb8184",null),L=x.exports;var R,z,N,H=(0,d.$)(((e,{widgetIdentifier:t})=>{const{dragAndDrop:n,widgetSelection:i,highlightedWidget:o,popup:r,metadata:s,widgetVariants:a,markups:c,displayedWidgetVariants:l,widgets:d,config:u}=e,p=d[t],f=l[t];return{dragAndDrop:n,selectedWidgetIdentifier:i.identifier,highlightedWidgetIdentifier:o,popup:r,widget:p,displayedVariant:a[f],displayedVariantMarkup:f?c.variants[f].markup:"",widgetTitle:p?s.widgets[p.type].name:"",isFrozen:i.freezeSelection,isClickAwayDisabled:i.preventClickAway,friendlyElementSelectors:[`#${u.propertiesEditorClientId}`,`.${g.M}`]}}),(()=>({highlightWidget:u.Tu,dehighlightWidget:u.q7,selectWidget:u.Gn,unselectWidget:u.W_,enableWidgetClickAway:u.AK,closePopup:u.j4,setWidgetProperty:p.xN})))(L),B=n(2858),$=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},W=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let G=class extends B.H{get addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")}get widgetZoneClasses(){return{"ktc-widget-zone":!0,"ktc-widget-zone--empty":this.isEmpty,"ktc-widget-zone--highlighted":null!==this.dragAndDrop.itemIdentifier,"ktc-widget-zone--banned":this.isZoneDropBanned}}get isEmpty(){return 0===this.widgetsInZone.length}get isWidgetListOpen(){return this.popup.componentIdentifier===this.zoneIdentifier}get showZoneDropMarker(){return!this.isEmpty&&this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&0===this.dragAndDrop.dropMarkerPosition}get isDropBanned(){return this.isParentAreaBanned||this.isZoneDropBanned}get isZoneDropBanned(){return this.dragAndDrop.bannedZones.includes(this.zoneIdentifier)}get isParentAreaBanned(){return(0,c.r1)(this.dragAndDrop.bannedAreas,this.areaIdentifier)}get isDraggedItemWidget(){return this.dragAndDrop.entity===a.p.Widget}get headerTitle(){return this.$_localizationService.getLocalization("widget.headerTitle")}get bannedZoneMessage(){return this.$_localizationService.getLocalization("areas.bannedwidgetmessage")}async onRemoveWidget(e){const t=this.$_localizationService.getLocalization("widget.remove.confirmation");await(0,l.i)(t)&&this.removeWidget(e,this.zoneIdentifier)}onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.zoneIdentifier,e,this.areaIdentifier,this.zoneIdentifier)}clickedAway(){this.isWidgetListOpen&&this.closePopup()}};$([(0,o.fI)(),W("design:type",String)],G.prototype,"zoneIdentifier",void 0),$([(0,o.fI)(),W("design:type","function"==typeof(R=void 0!==s&&s.DragAndDrop)?R:Object)],G.prototype,"dragAndDrop",void 0),$([(0,o.fI)(),W("design:type","function"==typeof(z=void 0!==s&&s.WidgetZone)?z:Object)],G.prototype,"zone",void 0),$([(0,o.fI)(),W("design:type","function"==typeof(N=void 0!==s&&s.Popup)?N:Object)],G.prototype,"popup",void 0),$([(0,o.fI)(),W("design:type",Array)],G.prototype,"widgetsInZone",void 0),$([(0,o.fI)(),W("design:type",Object)],G.prototype,"removeWidget",void 0),$([(0,o.fI)(),W("design:type",Function)],G.prototype,"closePopup",void 0),$([(0,o.fI)(),W("design:type",Object)],G.prototype,"openPopup",void 0),G=$([(0,o.wA)({components:{BorderContainer:r.Qc,Widget:H,DropZone:r.rE},mixins:[i.jB]})],G);var U=G,q=(0,A.Z)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{class:e.widgetZoneClasses,attrs:{id:e.zoneIdentifier,banned:e.isZoneDropBanned,bannedMessage:e.bannedZoneMessage}},[n("div",{staticClass:"ktc-admin-ui"},[e.isEmpty?n("DropZone",{directives:[{name:"show",rawName:"v-show",value:e.isDraggedItemWidget&&!e.isDropBanned,expression:"isDraggedItemWidget && !isDropBanned"}],staticClass:"ktc-dropzone--full",class:{"ktc-dropzone--active":e.dragAndDrop.targetContainerIdentifier===e.zoneIdentifier},attrs:{position:0,containerIdentifier:e.zoneIdentifier}}):e._e(),e._v(" "),e.showZoneDropMarker?n("kentico-drop-marker"):e._e()],1),e._v(" "),e._l(e.widgetsInZone,(function(t,i){return n("Widget",{key:t.identifier,attrs:{id:t.identifier,widgetIdentifier:t.identifier,zoneIdentifier:e.zoneIdentifier,areaIdentifier:e.areaIdentifier,position:i,isDropBanned:e.isDropBanned,openPopup:e.openPopup},on:{removeWidget:e.onRemoveWidget},scopedSlots:e._u([{key:"widgetHeader",fn:function(t){var n=t.widgetTitle,i=t.widgetIdentifier,o=t.widgetTopOffset;return[e._t("widgetHeader",null,{widgetTitle:n,widgetIdentifier:i,widgetTopOffset:o})]}}],null,!0)})})),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.isEmpty?n("kentico-add-component-button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"},{name:"show",rawName:"v-show",value:!e.dragAndDrop.itemIdentifier,expression:"!dragAndDrop.itemIdentifier"}],ref:"addWidget",attrs:{"is-active":e.isWidgetListOpen,primary:!0},domProps:{tooltip:e.addTooltip},on:{openComponentList:e.onOpenComponentList}}):e._e()],1)],2)}),[],!1,null,"5b545a2d",null),V=q.exports},8076:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i={};n.r(i);var o,r,s,a=n(5463),c=n(4775),l=n(9123),d=n(932),u=n(9148),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends c.w3{constructor(){super(...arguments),this.sectionDividerPosition=null}get addTooltip(){return this.$_localizationService.getLocalization("section.addTooltip")}clickedAway(){this.isSectionListOpen&&this.closePopup()}onOpenComponentList({detail:e}){this.isSectionListOpen?this.closePopup():this.openPopup(this.sectionIdentifier,e,this.areaIdentifier)}setDividerButtonPosition(){const e=this.$refs.addSection.parentElement.getBoundingClientRect().left>l.Ak;this.sectionDividerPosition=e?u.Mi.Left:u.Mi.Right,this.isSectionListOpen&&this.$nextTick((()=>{const e=document.querySelector(".ktc-section-divider[active='true']").shadowRoot.querySelector("kentico-add-component-button[is-active]").getBoundingClientRect(),t=(0,d.b)(e,null,!0),n=(0,d.o)(e);this.setPopupPosition(t,n)}))}beforeDestroy(){window.removeEventListener("resize",this.setDividerButtonPosition)}mounted(){this.setDividerButtonPosition(),window.addEventListener("resize",this.setDividerButtonPosition)}};p([(0,c.fI)({required:!0}),g("design:type",String)],f.prototype,"sectionIdentifier",void 0),p([(0,c.fI)({required:!0}),g("design:type",String)],f.prototype,"areaIdentifier",void 0),p([(0,c.fI)(),g("design:type",Boolean)],f.prototype,"isSectionListOpen",void 0),p([(0,c.fI)(),g("design:type","function"==typeof(o=void 0!==i.ClosePopup&&i.ClosePopup)?o:Object)],f.prototype,"closePopup",void 0),p([(0,c.fI)(),g("design:type","function"==typeof(r=void 0!==i.OpenPopup&&i.OpenPopup)?r:Object)],f.prototype,"openPopup",void 0),p([(0,c.fI)(),g("design:type","function"==typeof(s=void 0!==i.SetPopupPosition&&i.SetPopupPosition)?s:Object)],f.prototype,"setPopupPosition",void 0),f=p([(0,c.wA)({mixins:[a.jB]})],f);var h=f,m=(0,n(1900).Z)(h,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-section-divider",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"}],ref:"addSection",attrs:{active:e.isSectionListOpen,"add-button-position":e.sectionDividerPosition},domProps:{localizationService:e.$_localizationService,showComponentList:e.isSectionListOpen,addTooltip:e.addTooltip},on:{openComponentList:e.onOpenComponentList,closePopup:e.closePopup}})}),[],!1,null,null,null).exports},5894:function(){}}]);